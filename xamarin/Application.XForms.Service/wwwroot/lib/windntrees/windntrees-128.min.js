/*  Copyright [2017-2020] [Invincible Technologies]
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
function ArrayProcessor(options){var instance=this;null!==options.field&&void 0!==options.field?null!==options.value&&void 0!==options.value&&(instance[options.field]=options.value):instance.Objects=options.objects,instance.getType=function(){return"ArrayProcessor"},instance.getObjects=function(){return null!==options.field&&void 0!==options.field?instance[options.field]:instance.Objects},instance.get=function(key){if(null!=key&&null!==instance.getObjects()&&void 0!==instance.getObjects())for(var i=0;i<instance.getObjects().length;i++)if(instance.getObjects()[i].key===key)return instance.getObjects()[i].value;return null},instance.add=function(object){if(null!=object&&null!==instance.getObjects()&&void 0!==instance.getObjects()){for(var i=0;i<instance.getObjects().length;i++){var item=instance.getObjects()[i];if(item.getKey()===object.getKey())return void item.setValue(object.getValue())}instance.getObjects().push(object)}},instance.remove=function(object){if(null!=object&&null!==instance.getObjects()&&void 0!==instance.getObjects())for(var i=0;i<instance.getObjects().length;i++){if(instance.getObjects()[i].getKey()===object.getKey())return void instance.getObjects().splice(i,1)}},instance.hasArrayProcessor=function(){return!0}}function CRUDController(options){var instance=this;instance.Key=void 0!==options?options.key:null,instance.Processing=!1,instance.ResponseData=null,instance.ResponseError=null,instance.getKey=function(){return instance.Key},instance.getType=function(){return"CRUDController"},instance.processing=function(){return instance.Processing},instance.responseData=function(){return instance.ResponseData},instance.responseError=function(){return instance.ResponseError},instance.isResponseError=function(){return null!==instance.ResponseError},instance.sendRequest=function(options,callback){var headers=null!==options.headers&&void 0!==options.headers?options.headers:{},token=$("[name=__RequestVerificationToken]").val();headers.__RequestVerificationToken=token;var data=null!==options.data&&void 0!==options.data?JSON.parse(options.data):{},verificationElements=document.getElementsByName("__RequestVerificationToken");if(null!=verificationElements){data.__RequestVerificationToken=[];for(var index=0;index<verificationElements.length;index++)data.__RequestVerificationToken.push(verificationElements[index].value)}if(options.data=JSON.stringify(data),"CreateFileContent"===options.eventData.target||"UpdateFileContent"===options.eventData.target){var uploadForm=null!==options.eventData.form&&void 0!==options.eventData.form?options.eventData.form:"__uploadform";if(null!==document.forms[uploadForm]&&void 0!==document.forms[uploadForm]){headers["Content-Disposition"]="attachment; filename="+document.forms[uploadForm].upload.value;try{$(document.forms[uploadForm]).ajaxSubmit({headers:headers,dataType:null!==options.dataType&&void 0!==options.dataType?options.dataType:"json",type:null!==options.method&&void 0!==options.method?options.method:"POST",data:null!==options.data&&void 0!==options.data?options.data:null,url:options.url,contentType:"multipart/form-data",uploadProgress:function(event,position,total,percentComplete){instance.notify({event:"progress.request.CRUD.WindnTrees",result:percentComplete,position:position,total:total,percentComplete:percentComplete})},success:function(data,textStatus,jqXHR){options.eventData.event="after.request.CRUD.WindnTrees",options.eventData.method=null!==options.method&&void 0!==options.method?options.method:"POST",instance.notifyDone(data,textStatus,jqXHR,options.eventData)},error:function(data,textStatus,jqXHR){options.eventData.event="after.request.CRUD.WindnTrees",options.eventData.method=null!==options.method&&void 0!==options.method?options.method:"POST",instance.notifyFail(data,textStatus,jqXHR,options.eventData)},always:function(data,textStatus,jqXHR){null!=callback&&callback(data)}})}catch(e){}}}else $.ajax({headers:headers,dataType:null!==options.dataType&&void 0!==options.dataType?options.dataType:"json",type:null!==options.method&&void 0!==options.method?options.method:"POST",data:null!==options.data&&void 0!==options.data?options.data:null,url:options.url,contentType:null!==options.contentType&&void 0!==options.contentType?options.contentType:"application/json; charset=utf-8"}).done(function(data,textStatus,jqXHR){options.eventData.event="after.request.CRUD.WindnTrees",options.eventData.method=null!==options.method&&void 0!==options.method?options.method:"POST",instance.notifyDone(data,textStatus,jqXHR,options.eventData)}).fail(function(data,textStatus,jqXHR){options.eventData.event="after.request.CRUD.WindnTrees",options.eventData.method=null!==options.method&&void 0!==options.method?options.method:"POST",instance.notifyFail(data,textStatus,jqXHR,options.eventData)}).always(function(data,textStatus,jqXHR){null!=callback&&callback(data)})},instance.create=function(data,callback){instance.Processing=!0,instance.ResponseData=null,instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:null!==data.request&&void 0!==data.request?data.request:"create",target:data.target,form:data.form,data:data},request=null!==data.target&&void 0!==data.target?data.target:null!==data.request&&void 0!==data.request?data.request:"create";instance.notify(eventData),instance.sendRequest({headers:{},data:"string"==typeof data.content?data.content:JSON.stringify(data.content),url:data.uri+"/"+request,eventData:eventData},callback)},instance.read=function(data,callback){instance.Processing=!0,instance.ResponseData=null,instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:null!==data.request&&void 0!==data.request?data.request:"read",target:data.target,form:data.form,data:data},request=null!==data.target&&void 0!==data.target?data.target:null!==data.request&&void 0!==data.request?data.request:"read";instance.notify(eventData),instance.sendRequest({headers:{},method:"GET",data:null,url:encodeURI(data.uri+"/"+request+"/"+(null!==data.key&&void 0!==data.key?data.key:"")),eventData:eventData},callback)},instance.update=function(data,callback){instance.Processing=!0,instance.ResponseData=null,instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:null!==data.request&&void 0!==data.request?data.request:"update",target:data.target,form:data.form,data:data},request=null!==data.target&&void 0!==data.target?data.target:null!==data.request&&void 0!==data.request?data.request:"update";instance.notify(eventData),instance.sendRequest({headers:{},data:"string"==typeof data.content?data.content:JSON.stringify(data.content),url:data.uri+"/"+request,file:data.UploadField,eventData:eventData},callback)},instance.delete=function(data,callback){instance.Processing=!0,instance.ResponseData=null,instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:null!==data.request&&void 0!==data.request?data.request:"delete",target:data.target,form:data.form,data:data},request=null!==data.target&&void 0!==data.target?data.target:null!==data.request&&void 0!==data.request?data.request:"delete";instance.notify(eventData),instance.sendRequest({headers:{},data:"string"==typeof data.content?data.content:JSON.stringify(data.content),url:data.uri+"/"+request,eventData:eventData},callback)},instance.list=function(data,callback){instance.Processing=!0,instance.ResponseData=null,instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:null!==data.request&&void 0!==data.request?data.request:"list",target:data.target,form:data.form,data:data},request=null!==data.target&&void 0!==data.target?data.target:null!==data.request&&void 0!==data.request?data.request:"list";if(instance.notify(eventData),"GET"===data.method){var url=data.uri+"/"+request;null!==data.key&&void 0!==data.key&&(url=url+"/"+data.key),null!==data.source&&void 0!==data.source&&(url=url+"/"+data.source),null!==data.keyword&&void 0!==data.keyword&&(url=url+"/"+data.keyword),null!==data.page&&void 0!==data.page&&(url=url+"/"+data.page),null!==data.size&&void 0!==data.size&&(url=url+"/"+data.size),instance.sendRequest({headers:{},method:"GET",data:null,url:url,eventData:eventData},callback)}else{var queryObject=null!==data.query&&void 0!==data.query?data.query:{key:data.key,source:data.source,keyword:data.keyword,size:data.size,page:data.page};instance.sendRequest({headers:{},data:JSON.stringify(queryObject),url:data.uri+"/"+request,eventData:eventData},callback)}},instance.notify=function(eventData){$(instance).trigger(eventData.event,eventData)},instance.notifyDone=function(data,textStatus,jqXHR,eventData){instance.Processing=!1,instance.ResponseData=data,eventData.result=data,$(instance).trigger("after.request.CRUD.WindnTrees",eventData)},instance.notifyFail=function(jqXHR,textStatus,errorThrown,eventData){instance.Processing=!1,instance.ResponseError=errorThrown,eventData.result=jqXHR,$(instance).trigger("fail.request.CRUD.WindnTrees",eventData)}}function CRUDProcessor(options){var instance=this;instance.Key=void 0!==options?options.key:null,instance.Controller=null,instance.Record=null,instance.Records=[],instance.Errors=[],instance.ProcessingState=null,instance.ProcessingStatus=!1,instance.getType=function(){return"CRUDProcessor"},instance.getKey=function(){return instance.Key},instance.getController=function(){return null===instance.Controller&&(instance.Controller=new CRUDController),instance.Controller},instance.responseData=function(){return instance.getController().responseData()},instance.responseError=function(){return instance.getController().responseError()},instance.isResponseError=function(){return instance.getController().isResponseError()},instance.isInputError=function(){return null!==instance.Errors&&void 0!==instance.Errors&&0<instance.Errors.length},instance.getProcessingStatus=function(){return instance.ProcessingStatus},instance.getProcessingState=function(){return instance.ProcessingState},instance.getErrors=function(){return instance.Errors},instance.getRecord=function(){return instance.Record},instance.getRecords=function(){return instance.Records},instance.create=function(data){instance.Record=null,instance.Errors=[],instance.getController().create(data)},instance.read=function(data){instance.Record=null,instance.Errors=[],instance.getController().read(data)},instance.update=function(data){instance.Record=null,instance.Errors=[],instance.getController().update(data)},instance.delete=function(data){instance.Record=null,instance.Errors=[],instance.getController().delete(data)},instance.list=function(data){instance.Records=[],instance.Errors=[],instance.getController().list(data)},instance.processRecord=function(eventData){var result=eventData.result;if(null!=result)if(null!==result.errors&&void 0!==result.errors)if(Array.isArray(result.errors)){for(var i=0;i<result.errors.length;i++){var item=result.errors[i];null!=item&&instance.Errors.push({errField:item.field,errMessage:item.defaultMessage})}instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:instance.Errors,code:result.code})}else instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:result.errors,code:result.code});else if("delete"!==eventData.request||null!==eventData.target&&void 0!==eventData.target){var objectReady=!1,contentObject=null!==result.content&&void 0!==result.content?result.content:null===result.content||void 0===result.content?null:result;if(null!=contentObject){try{"object"==typeof contentObject||JSON.parse(contentObject),objectReady=!0}catch(e){}try{objectReady?null!==eventData.data.contentType&&void 0!==eventData.data.contentType?instance.Record=eventData.data.contentType.newObject(contentObject):null!==options.contentType&&void 0!==options.contentType?instance.Record=options.contentType.newObject(contentObject):instance.Record=contentObject:instance.Record=contentObject}catch(e){instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:"Exception occured during content processing.",code:result.code})}instance.notify({event:"record.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:instance.Record,code:result.code})}else instance.notify({event:"record.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:contentObject,code:result.code})}else{try{null!==eventData.data.contentType&&void 0!==eventData.data.contentType?instance.Record=eventData.data.contentType.newObject("string"==typeof eventData.data.content?JSON.parse(eventData.data.content):eventData.data.content):null!==options.contentType&&void 0!==options.contentType?instance.Record=options.contentType.newObject("string"==typeof eventData.data.content?JSON.parse(eventData.data.content):eventData.data.content):instance.Record="string"==typeof eventData.data.content?JSON.parse(eventData.data.content):eventData.data.content}catch(e){instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:"Exception occured during content processing.",code:result.code})}instance.notify({event:"record.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:instance.Record,code:result.code})}},instance.processRecords=function(eventData){var result=eventData.result;if(null!==result.errors&&void 0!==result.errors)if(Array.isArray(result.errors)){for(var i=0;i<result.errors.length;i++){null!=(item=result.errors[i])&&instance.Errors.push({errField:item.field,errMessage:item.defaultMessage})}instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:instance.Errors,code:result.code})}else instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:result.errors,code:result.code});else{var contentArray=null!==result.contents&&void 0!==result.contents?result.contents:null===result.contents||void 0===result.contents?null:result;if(null!=contentArray){for(i=0;i<contentArray.length;i++){var item;if(null!=(item=contentArray[i])){var objectReady=!1;try{"object"==typeof item||JSON.parse(item),objectReady=!0}catch(e){}try{objectReady?null!==eventData.data.contentType&&void 0!==eventData.data.contentType?instance.Records.push(eventData.data.contentType.newObject(item)):null!==options.contentType&&void 0!==options.contentType?instance.Records.push(options.contentType.newObject(item)):instance.Records.push(item):instance.Records.push(item)}catch(e){instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:"Exception occured during content processing.",code:result.code})}}}instance.notify({event:"records.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:instance.Records,code:result.code})}else instance.notify({event:"records.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:contentArray,code:result.code})}},instance.notify=function(eventData){$(instance).trigger(eventData.event,eventData)},instance.beforeRequest=function(event,eventData){instance.ProcessingState={event:event,triggerEvent:eventData},instance.ProcessingStatus=!0},instance.afterRequest=function(event,eventData){instance.ProcessingState={event:event,triggerEvent:eventData},instance.ProcessingStatus=!1,Array.isArray(eventData.result.contents)?instance.processRecords(eventData):instance.processRecord(eventData)},instance.failRequest=function(event,eventData){instance.ProcessingState={event:event,triggerEvent:eventData},instance.ProcessingStatus=!1,instance.notify({event:"fail.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:eventData.result})},instance.subscribeCRUDControllerEvent=function(event,callback){$(instance.getController()).on(event,callback)},instance.unSubscribeCRUDControllerEvent=function(event,callback){$(instance.getController()).off(event,callback)},instance.subscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getController()).on("before.request.CRUD.WindnTrees",eventsInstance.beforeRequest),$(instance.getController()).on("after.request.CRUD.WindnTrees",eventsInstance.afterRequest),$(instance.getController()).on("fail.request.CRUD.WindnTrees",eventsInstance.failRequest)},instance.unSubscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getController()).off("before.request.CRUD.WindnTrees",eventsInstance.beforeRequest),$(instance.getController()).off("after.request.CRUD.WindnTrees",eventsInstance.afterRequest),$(instance.getController()).off("fail.request.CRUD.WindnTrees",eventsInstance.failRequest)},instance.subscribeEvents()}function DateParser(){var instance=Object.create({});return instance.parseMilliSeconds=function(value){if(null!=value&&"string"==typeof value&&value.startsWith("/Date(")&&value.endsWith("/")){var milliseconds=value.replace("/Date(","");return 0<(milliseconds=milliseconds.replace("/","")).indexOf("+")&&(milliseconds=milliseconds.substr(0,milliseconds.indexOf("+"))),0<milliseconds.indexOf("-")&&(milliseconds=milliseconds.substr(0,milliseconds.indexOf("-"))),parseInt(milliseconds)}return value},instance.parseDate=function(value,local){var milliSeconds=instance.parseMilliSeconds(value);return"string"==typeof milliSeconds?value:local?instance.getLocalTime(milliSeconds):new Date(milliSeconds)},instance.getLocalTime=function(milliseconds){if(null!=milliseconds){var offset=(new Date).getTimezoneOffset();offset*=60;var newTime=milliseconds;return 0<(offset*=1e3)?newTime-=Math.abs(offset):newTime+=Math.abs(offset),new Date(newTime)}return new Date},instance}function FlexObject(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;return null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options})),instance.items=options.items,null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function InstanceExtender(options){this.extendNewInstance=function(extoptions){var instance=extoptions.instance;return instance.newInstance=function(options){var instanceOptions=null!=options?options:instance.newOptions();if(instanceOptions.instance=void 0,null!==extoptions.newparameter&&void 0!==extoptions.newparameter){if(Array.isArray(extoptions.newparameter)){for(var newInstances=[],i=0;i<extoptions.newparameter.length;i++)null!==instanceOptions.observer&&void 0!==instanceOptions.observer&&(instanceOptions.observer=extoptions.newparameter.newInstance()),newInstances[i]=extoptions.newparameter[i].newInstance();return new(Object.getPrototypeOf(instance).constructor)(newInstances)}return null!==instanceOptions.observer&&void 0!==instanceOptions.observer&&(instanceOptions.observer=extoptions.newparameter.newInstance()),instanceOptions.instance=void 0,new(Object.getPrototypeOf(instance).constructor)(instanceOptions)}return new(Object.getPrototypeOf(instance).constructor)(instanceOptions)},instance.newOptions=function(){return extoptions.options},Object.create(instance)},this.extendField=function(options){var instance=options.instance;return null!==options.field&&void 0!==options.field&&(null!==options.value&&void 0!==options.value&&(instance[options.field]=options.value),instance["set"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(object){"function"==typeof instance[options.field]?instance[options.field](object):instance[options.field]=object},instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(){return"function"==typeof instance[options.field]?instance[options.field]():instance[options.field]},instance["getObservable"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(){return instance[options.field]},instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"StringifiedJSONObject"]=function(){return"function"==typeof instance[options.field]?JSON.stringify(instance[options.field]()):JSON.stringify(instance[options.field])},instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"JSONObject"]=function(){return"function"==typeof instance[options.field]?JSON.parse(JSON.stringify(instance[options.field]())):JSON.parse(JSON.stringify(instance[options.field]))}),instance},this.extendFieldObserver=function(options){var instance=options.instance,observer=options.observer;return null!==options.field&&void 0!==options.field&&(instance["set"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(object){observer["set"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)](object)},instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(){return observer["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]()},instance["getObservable"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(){return observer["getObservable"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]()},instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"StringifiedJSONObject"]=function(){return observer["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"StringifiedJSONObject"]()},instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"JSONObject"]=function(){return observer["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"JSONObject"]()}),instance},this.extendObjectInterface=function(options){var instance=options.instance;return null!==options.field&&void 0!==options.field&&(instance.setObject=function(object){"function"==typeof instance[options.field]?instance[options.field](object):instance[options.field]=object},instance.getObject=function(){return"function"==typeof instance[options.field]?instance[options.field]():instance[options.field]},instance.getObserverObject=function(){return"function"==typeof instance[options.field]?instance[options.field]():instance[options.field]},instance.getObservableObject=function(){return instance[options.field]},instance.getStringifiedObject=function(){return"function"==typeof instance[options.field]?JSON.stringify(instance[options.field]()):JSON.stringify(instance[options.field])},instance.getJSONObject=function(){return"function"==typeof instance[options.field]?JSON.parse(JSON.stringify(instance[options.field]())):JSON.parse(JSON.stringify(instance[options.field]))}),Object.create(instance)},this.extendObserverInterface=function(options){var instance=options.instance,observer=options.observer;return null!=instance&&null!=observer&&(instance.setObject=function(object){observer.setObject(object)},instance.getObject=function(){return observer.getObject()},instance.getObserverObject=function(){return observer.getObject()},instance.getObservableObject=function(){return observer.getObservableObject()},instance.getStringifiedObject=function(){return observer.getStringifiedObject()},instance.getJSONObject=function(){return observer.getJSONObject()},instance.getObserverType=function(){return observer.getType()},instance.getObserver=function(){return observer}),Object.create(instance)},this.extendContentTypeObject=function(options){var instance=options.instance;return instance.ContentType=options.contentType,instance.getContentTypeObject=function(){return instance.ContentType},instance.getContentTypeObjectPrototype=function(){return null!==instance.ContentType&&void 0!==instance.ContentType?Object.getPrototypeOf(instance.ContentType):null},Object.create(instance)},this.extendContentObserver=function(options){var instance=options.instance,observer=options.observer;return null!=instance&&null!=observer&&(instance.getContentTypeObject=function(){return observer.getContentTypeObject()},instance.getContentTypeObjectPrototype=function(){return observer.getContentTypeObjectPrototype()}),Object.create(instance)}}function LocaleMessage(key,value){var instance=this;instance.key=key,instance.value=value,instance.getKey=function(){return instance.key},instance.setKey=function(data){instance.key=data},instance.getValue=function(){return instance.value},instance.setValue=function(data){instance.value=data}}function MessageRepository(options){var instance=this;instance.Records=[],options=null==options?{}:options,instance.get=function(key){if(null==key)return key+" - no message found.";for(var i=0;i<instance.Records.length;i++)if(instance.Records[i].key===key)return instance.Records[i].value;return"key is not defined"},instance.getAll=function(){return Records},instance.add=function(message){if(null!=message){for(var record=null,i=0;i<instance.Records.length;i++)if(null!=(record=instance.Records[i])&&message.getKey()===record.getKey())return void record.setValue(message.getValue());instance.Records.push(message)}},instance.remove=function(message){if(null!=message)for(var record=null,i=0;i<instance.Records.length;i++)if(null!=(record=instance.Records[i])&&message.getKey()===record.getKey())return void instance.Records.splice(i,1)},instance.clean=function(){instance.Records=[]},instance.fill=function(){instance.add(new LocaleMessage("form.new.text","New")),instance.add(new LocaleMessage("form.edit.text","Edit")),instance.add(new LocaleMessage("form.noRecord.text","No record found.")),instance.add(new LocaleMessage("form.found.text","Found")),instance.add(new LocaleMessage("form.records.text","Record(s)")),instance.add(new LocaleMessage("form.saved.text","Save")),instance.add(new LocaleMessage("form.failed.text","Failed")),instance.add(new LocaleMessage("form.displayingPage.text","Displaying Page")),instance.add(new LocaleMessage("form.of.text","Of")),instance.add(new LocaleMessage("form.totalPages.text","")),instance.add(new LocaleMessage("form.ok.text","Ok")),instance.add(new LocaleMessage("standard.alertSure.text","Are you sure to delete this record.")),instance.add(new LocaleMessage("standard.processing.text","Processing...")),instance.add(new LocaleMessage("standard.err.text","Requested operation failed, an error occured while processing your request.")),instance.add(new LocaleMessage("standard.ok.text","Request operation completed successfully.")),instance.add(new LocaleMessage("standard.listloadok.text","List loaded successfully.")),instance.add(new LocaleMessage("standard.listloaderr.text","List load failed."))},null!==options.fill&&void 0!==options.fill&&instance.fill()}function Util(){var instance=Object.create({});return instance.extractValue=function(objectValue,defaultValue){return null!=objectValue?objectValue:defaultValue},instance.extractFieldValue=function(fieldValue,defaultValue){var extractedValue;return null!=fieldValue?"function"==typeof fieldValue?null==(extractedValue=fieldValue())&&null!=defaultValue?defaultValue:extractedValue:fieldValue:defaultValue},instance.getFlexOutput=function(options){var output;if(null!=options&&null!==options.flexobject&&void 0!==options.flexobject){var flexitems=options.flexobject.items;if(null!=flexitems){if(1===flexitems.length)return flexitems[0];if(10<flexitems.length){var key=flexitems[0],evaluator=flexitems[1],result=flexitems[2],content=flexitems[3];if("object-output"===result||"function-output"===result){var typeFunction=evaluator;(options1=Object.create(options)).key=key,options1.items=Array.splice(0,10),"object-output"===result?output=new typeFunction.constructor(options1):"function-output"===result&&(output=typeFunction.constructor(options1))}else if("object"===content){output="";for(var i=10;i<flexitems.length;i++){var options1;(options1=Object.create(options)).flexobject=flexitems[i],output+=Util().extractValue(instance.getFlexOutput(options1),"")}}else if("html"===result||"string"===result||"text"===result){output=evaluator;var keyValue=new RegExp("a0_","gi");output=output.replace(keyValue,Util().extractValue(flexitems[0],""));var pathValue=new RegExp("cp_","gi");output=output.replace(pathValue,Util().extractValue(options.contextpath,""));for(i=10;i<flexitems.length;i++){var flexitem=flexitems[i],expValue=new RegExp("a"+i+"_","gi");output=output.replace(expValue,Util().extractValue(flexitem,""))}}}}}return null!=output?output:""},instance}function ActivityObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;return null!==options.observer&&void 0!==options.observer?"string"==typeof options.observer?"kn"===options.observer&&(instance.Observer=new ActivityKNObserver(options)):instance.Observer=options.observer:instance.Observer=new ActivityKNObserver(options),null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,newparameter:instance.Observer,options:options})),(instance=extender.extendContentObserver({instance:instance,observer:instance.Observer})).getType=function(){return"ActivityObserver"},instance.getKey=function(){return instance.getObserver().getKey()},instance.setViewScope=function(value){instance.getObserver().setViewScope(value)},instance.getViewScope=function(){return instance.getObserver().getViewScope()},instance.getObserversGroup=function(){return instance.getObserver().getObserversGroup()},instance.getObserverType=function(){return instance.getObserver().getType()},instance.getObserver=function(){return instance.Observer},instance.setKeyword=function(data){instance.getObserver().setKeyword(data)},instance.getKeyword=function(){return instance.getObserver().getKeyword()},instance.isKeywordAvailable=function(){return instance.getObserver().isKeywordAvailable()},instance.getObservableKeyword=function(){return instance.getObserver().getObservableKeyword()},instance.getMessageRepository=function(){return instance.getObserver().getMessageRepository()},instance.setSharedObject=function(object){instance.getObserver().setSharedObject(object)},instance.getSharedObject=function(){return instance.getObserver().getSharedObject()},instance.getObservableSharedObject=function(){return instance.getObserver().getObservableSharedObject()},instance.getStringifiedObject=function(data){return instance.getObserver().getStringifiedObject(data)},instance.getJSONObject=function(data){return instance.getObserver().getJSONObject(data)},instance.setErrors=function(data){instance.getObserver().setErrors(data)},instance.getErrors=function(){return instance.getObserver().getErrors()},instance.getObservableErrors=function(){return instance.getObserver().getObservableErrors()},instance.setProcessing=function(data){instance.getObserver().setProcessing(data)},instance.getProcessing=function(){return instance.getObserver().getProcessing()},instance.getObservableProcessing=function(){return instance.getObserver().getObservableProcessing()},instance.setResultMessage=function(data){instance.getObserver().setResultMessage(data)},instance.getResultMessage=function(){return instance.getObserver().getResultMessage()},instance.getObservableResultMessage=function(){return instance.getObserver().getObservableResultMessage()},instance.setFormProcessing=function(data){instance.getObserver().setFormProcessing(data)},instance.getFormProcessing=function(){return instance.getObserver().getFormProcessing()},instance.getObservableFormProcessing=function(){return instance.getObserver().getObservableFormProcessing()},instance.setFormResultMessage=function(data){instance.getObserver().setFormResultMessage(data)},instance.getFormResultMessage=function(){return instance.getObserver().getFormResultMessage()},instance.getObservableFormResultMessage=function(){return instance.getObserver().getObservableFormResultMessage()},instance.setRequestProgress=function(value){instance.getObserver().setRequestProgress(value)},instance.getRequestProgress=function(){return instance.getObserver().getRequestProgress()},instance.setPrintReady=function(value){instance.getObserver().setPrintReady(value)},instance.isPrintReady=function(){return instance.getObserver().isPrintReady()},instance.displayProcessing=function(status){instance.getObserver().displayProcessing(status)},instance.displaySaved=function(){instance.getObserver().displaySaved()},instance.displayFailed=function(){instance.getObserver().displayFailed()},instance.displayProcessingActivity=function(){instance.getObserver().displayProcessingActivity()},instance.displayClearActivity=function(){instance.getObserver().displayClearActivity()},instance.displayNoRecordActivity=function(){instance.getObserver().displayNoRecordActivity()},instance.displaySuccessActivity=function(){instance.getObserver().displaySuccessActivity()},instance.displayFailureActivity=function(){instance.getObserver().displayFailureActivity()},instance.displayFormProcessing=function(status){instance.getObserver().displayFormProcessing(status)},instance.displayFormProcessingActivity=function(){instance.getObserver().displayFormProcessingActivity()},instance.displayFormClearActivity=function(){instance.getObserver().displayFormClearActivity()},instance.displayFormNoRecordActivity=function(){instance.getObserver().displayFormNoRecordActivity()},instance.displayFormSuccessActivity=function(){instance.getObserver().displayFormSuccessActivity()},instance.displayFormFailureActivity=function(){instance.getObserver().displayFormFailureActivity()},instance.displayGridProcessing=function(status){instance.getObserver().displayGridProcessing(status)},instance.displayGridProcessingActivity=function(){instance.getObserver().displayGridProcessingActivity()},instance.displayGridSuccessActivity=function(){instance.getObserver().displayGridSuccessActivity()},instance.displayGridFailureActivity=function(){instance.getObserver().displayGridFailureActivity()},instance.displayGridClearActivity=function(){instance.getObserver().displayGridClearActivity()},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function CRUDObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.observer&&void 0!==options.observer?"string"==typeof options.observer?"kn"===options.observer&&(instance.Observer=new CRUDKNObserver(options)):instance.Observer=options.observer:instance.Observer=new CRUDKNObserver(options);var findOptions=Object.create(options);return findOptions.instance=instance,findOptions.observer=instance.Observer,instance=SearchObserver(findOptions),null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,newparameter:instance.Observer,options:options})),instance.getType=function(){return"CRUDObserver"},instance.setMasterKeyRecord=function(data){instance.getObserver().setMasterKeyRecord(data)},instance.getMasterKeyRecord=function(){return instance.getObserver().getMasterKeyRecord()},instance.getObservableMasterKeyRecord=function(){return instance.getObserver().getObservableMasterKeyRecord()},instance.setEditMode=function(data){instance.getObserver().setEditMode(data)},instance.getEditMode=function(){return instance.getObserver().getEditMode()},instance.getObservableEditMode=function(){return instance.getObserver().getObservableEditMode()},instance.setNewModeCaption=function(data){instance.getObserver().setNewModeCaption(data)},instance.getNewModeCaption=function(){return instance.getObserver().getNewModeCaption()},instance.getObservableNewModeCaption=function(){return instance.getObserver().getObservableNewModeCaption()},instance.setEditModeCaption=function(data){instance.getObserver().setEditModeCaption(data)},instance.getEditModeCaption=function(){return instance.getObserver().getEditModeCaption()},instance.getObservableEditModeCaption=function(){return instance.getObserver().getObservableEditModeCaption()},instance.setFormObject=function(data){var record=null,recordid=null,recordtype=null;void 0!==instance.getFormObject()._relatedrecord&&(record=instance.getFormObject()._relatedrecord),void 0!==instance.getFormObject()._relatedrecordid&&(recordid=instance.getFormObject()._relatedrecordid),void 0!==instance.getFormObject()._relatedrecordtype&&(recordtype=instance.getFormObject()._relatedrecordtype),instance.getObserver().setFormObject(data),null!==data.originalKey&&void 0!==data.originalKey&&(instance.getObserver().getFormObject()._datakey=data.originalKey),null!==record&&(instance.getFormObject()._relatedrecord=record),null!==recordid&&(instance.getFormObject()._relatedrecordid=recordid),null!==recordtype&&(instance.getFormObject()._relatedrecordtype=recordtype)},instance.getFormObject=function(){return instance.getObserver().getFormObject()},instance.getObservableFormObject=function(){return instance.getObserver().getObservableFormObject()},instance.getFormStringifiedObject=function(){return instance.getObserver().getFormStringifiedObject()},instance.getFormJSONObject=function(){return instance.getObserver().getFormJSONObject()},instance.resetRecord=function(){instance.getObserver().setRecord(null)},instance.validateFormObject=function(){return instance.getObserver().validateFormObject()},instance.resetForm=function(options){var record=null,recordid=null,recordtype=null;void 0!==instance.getFormObject()._relatedrecord&&(record=instance.getFormObject()._relatedrecord),void 0!==instance.getFormObject()._relatedrecordid&&(recordid=instance.getFormObject()._relatedrecordid),void 0!==instance.getFormObject()._relatedrecordtype&&(recordtype=instance.getFormObject()._relatedrecordtype),instance.getObserver().resetForm(options),null!==record&&(instance.getFormObject()._relatedrecord=record),null!==recordid&&(instance.getFormObject()._relatedrecordid=recordid),null!==recordtype&&(instance.getFormObject()._relatedrecordtype=recordtype)},instance.resetFormForEditing=function(index){var record=null,recordid=null,recordtype=null;void 0!==instance.getFormObject()._relatedrecord&&(record=instance.getFormObject()._relatedrecord),void 0!==instance.getFormObject()._relatedrecordid&&(recordid=instance.getFormObject()._relatedrecordid),void 0!==instance.getFormObject()._relatedrecordtype&&(recordtype=instance.getFormObject()._relatedrecordtype),instance.getObserver().resetFormForEditing(index),null!==record&&(instance.getFormObject()._relatedrecord=record),null!==recordid&&(instance.getFormObject()._relatedrecordid=recordid),null!==recordtype&&(instance.getFormObject()._relatedrecordtype=recordtype)},instance.resetFormForEditingByRecord=function(data){var record=null,recordid=null,recordtype=null;void 0!==instance.getFormObject()._relatedrecord&&(record=instance.getFormObject()._relatedrecord),void 0!==instance.getFormObject()._relatedrecordid&&(recordid=instance.getFormObject()._relatedrecordid),void 0!==instance.getFormObject()._relatedrecordtype&&(recordtype=instance.getFormObject()._relatedrecordtype),instance.getObserver().resetFormForEditingByRecord(data),null!==record&&(instance.getFormObject()._relatedrecord=record),null!==recordid&&(instance.getFormObject()._relatedrecordid=recordid),null!==recordtype&&(instance.getFormObject()._relatedrecordtype=recordtype)},instance.updateNewRecordView=function(data){instance.getObserver().updateNewRecordView(data)},instance.updateExistingRecordView=function(record){instance.getObserver().updateExistingRecordView(record)},instance.updateDeletionRecordView=function(record){instance.getObserver().updateDeletionRecordView(record)},instance.updateView=function(data){instance.getObserver().updateView(data)},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function DetailObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;return null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options})),null!==options.observer&&void 0!==options.observer?"string"==typeof options.observer?"kn"===options.observer&&(instance.Observer=new DetailKNObserver(options)):instance.Observer=options.observer:instance.Observer=new DetailKNObserver(options),instance.getObserver=function(){return instance.Observer},instance.getObserverType=function(){return instance.getObserver().getType()},instance.getType=function(){return"DetailObserver"},instance.newInstance=function(){return new(Object.getPrototypeOf(instance).constructor)(instance.getObserver().newInstance())},instance.setRecord=function(record){instance.getObserver().setRecord(record)},instance.getRecord=function(){return instance.getObserver().getRecord()},instance.getObservableRecord=function(){return instance.getObserver().getObservableRecord()},instance.setDetail=function(detail){instance.getObserver().setDetail(detail)},instance.getDetail=function(){return instance.getObserver().getDetail()},instance.getObservableDetail=function(){return instance.getObserver().getObservableDetail()},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function ListObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;return null!==options.observer&&void 0!==options.observer?"string"==typeof options.observer?"kn"===options.observer&&(instance.Observer=new ListKNObserver(options)):instance.Observer=options.observer:instance.Observer=new ListKNObserver(options),null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,newparameter:instance.Observer,options:options})),instance=extender.extendFieldObserver({instance:instance,field:"List",observer:instance.Observer}),(instance=ActivityObserver({instance:instance=extender.extendObserverInterface({instance:instance,observer:instance.Observer}),observer:instance.Observer})).getObserver=function(){return instance.Observer},instance.getObserverType=function(){return instance.getObserver().getType()},instance.getType=function(){return"ListObserver"},instance.getListObject=function(){return instance.getObserver().getListObject()},instance.getListObjectPrototype=function(){return instance.getObserver().getListObjectPrototype()},instance.getIndexedStringifiedObject=function(index){return instance.getObserver().getIndexedStringifiedObject(index)},instance.getIndexedJSONObject=function(index){return instance.getObserver().getIndexedJSONObject(index)},instance.clearList=function(readyStatus){instance.getObserver().clearList(readyStatus)},instance.fillList=function(data,readyStatus){instance.getObserver().fillList(data,readyStatus)},instance.isListReady=function(){return instance.getObserver().isListReady()},instance.setListReady=function(status){instance.getObserver().setListReady(status)},instance.getItem=function(key){return instance.getObserver().getItem(key)},instance.newItem=function(data){instance.getObserver().newItem(data)},instance.updateItem=function(listObject){instance.getObserver().updateItem(listObject)},instance.removeItem=function(listObject){instance.getObserver().removeItem(listObject)},instance.update=function(data){instance.getObserver().update(data)},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function ObjectObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;return instance=extender.extendFieldObserver({instance:instance,field:"InputObject",observer:options.observer}),instance=extender.extendFieldObserver({instance:instance,field:"OutputObject",observer:options.observer}),null!==options.observer&&void 0!==options.observer?"string"==typeof options.observer?"kn"===options.observer&&(instance.Observer=new ObjectKNObserver(options)):instance.Observer=options.observer:instance.Observer=new ObjectKNObserver(options),null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,newparameter:instance.Observer,options:options})),instance=extender.extendContentObserver({instance:instance,observer:instance.Observer}),(instance=ActivityObserver({instance:instance=extender.extendObserverInterface({instance:instance,observer:instance.Observer}),observer:instance.Observer})).getType=function(){return"ObjectObserver"},instance.setFormObject=function(data){instance.getObserver().setFormObject(data)},instance.getFormObject=function(){return instance.getObserver().getFormObject()},instance.getObservableFormObject=function(){return instance.getObserver().getObservableFormObject()},instance.getFormStringifiedObject=function(){return instance.getObserver().getFormStringifiedObject()},instance.getFormJSONObject=function(){return instance.getObserver().getFormJSONObject()},instance.validateFormObject=function(){return instance.getObserver().validateFormObject()},instance.resetForm=function(){instance.getObserver().resetForm()},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function SearchObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.observer&&void 0!==options.observer?"string"==typeof options.observer?"kn"===options.observer&&(instance.Observer=new SearchKNObserver(options)):instance.Observer=options.observer:instance.Observer=new SearchKNObserver(options);var activityOptions=Object.create(options);return activityOptions.instance=instance,activityOptions.observer=instance.Observer,instance=ActivityObserver(activityOptions),null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,newparameter:instance.Observer,options:options})),instance.getType=function(){return"SearchObserver"},instance.setRecord=function(record){instance.getObserver().setRecord(record)},instance.getRecord=function(){return instance.getObserver().getRecord()},instance.getObservableRecord=function(){return instance.getObserver().getObservableRecord()},instance.setRecords=function(data){instance.getObserver().setRecords(data)},instance.getRecords=function(){return instance.getObserver().getRecords()},instance.getObservableRecords=function(){return instance.getObserver().getObservableRecords()},instance.setRecordCount=function(data){instance.getObserver().setRecordCount(data)},instance.getRecordCount=function(){return instance.getObserver().getRecordCount()},instance.getObservableRecordCount=function(){return instance.getObserver().getObservableRecordCount()},instance.setSelectedRecord=function(data){instance.getObserver().setSelectedRecord(data)},instance.getSelectedRecord=function(){return instance.getObserver().getSelectedRecord()},instance.getObservableSelectedRecord=function(){return instance.getObserver().getObservableSelectedRecord()},instance.setSelectedRecordIndex=function(data){instance.getObserver().setSelectedRecordIndex(data)},instance.getSelectedRecordIndex=function(){return instance.getObserver().getSelectedRecordIndex()},instance.getObservableSelectedRecordIndex=function(){return instance.getObserver().getObservableSelectedRecordIndex()},instance.setListNavigator=function(navigator){instance.getObserver().setListNavigator(navigator)},instance.getListNavigator=function(){return instance.getObserver().getListNavigator()},instance.getObservableListNavigator=function(){return instance.getObserver().getObservableListNavigator()},instance.setListingScrollSize=function(data){instance.getObserver().setListingScrollSize(data)},instance.getListingScrollSize=function(){return instance.getObserver().getListingScrollSize()},instance.getObservableListingScrollSize=function(){return instance.getObserver().getObservableListingScrollSize()},instance.setListSize=function(data){instance.getObserver().setListSize(data)},instance.getListSize=function(){return instance.getObserver().getListSize()},instance.getObservableListSize=function(){return instance.getObserver().getObservableListSize()},instance.setCurrentList=function(data){instance.getObserver().setCurrentList(data)},instance.getCurrentList=function(){return instance.getObserver().getCurrentList()},instance.setListSource=function(value){instance.getObserver().setListSource(data)},instance.getListSource=function(){return instance.getObserver().getListSource()},instance.getObservableCurrentList=function(){return instance.getObserver().getObservableCurrentList()},instance.getIndexedStringifiedObject=function(index){return instance.getObserver().getIndexedStringifiedObject(index)},instance.getIndexedJSONObject=function(index){return instance.getObserver().getIndexedJSONObject(index)},instance.getSelectedStringifiedObject=function(){return instance.getObserver().getSelectedStringifiedObject()},instance.getSelectedJSONObject=function(){return instance.getObserver().getSelectedJSONObject()},instance.getStringifiedObject=function(data){return instance.getObserver().getStringifiedObject(data)},instance.getJSONObject=function(data){return instance.getObserver().getJSONObject(data)},instance.selectRecord=function(options){instance.getObserver().selectRecord(options)},instance.clearListRecordsView=function(){instance.getObserver().clearListRecordsView()},instance.fillListRecordsView=function(data){instance.getObserver().fillListRecordsView(data)},instance.composeNavigator=function(options){instance.getObserver().composeNavigator(options)},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function ActivityKNObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;return null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options})),(instance=extender.extendContentTypeObject({instance:instance,contentType:options.contentType})).Key=options.key,instance.Keyword=ko.observable(options.keyword),instance.MessageRepository=options.messages,instance.Errors=ko.observableArray([]),instance.SharedObject=ko.observable(null),instance.Processing=ko.observable(!1),instance.ResultMessage=ko.observable(""),instance.FormProcessing=ko.observable(!1),instance.FormResultMessage=ko.observable(""),instance.RequestProgress=ko.observable(0),instance.PrintReady=ko.observable(!1),instance.ViewScope=ko.observable(null!==options.viewscope&&void 0!==options.viewscope?options.viewscope:"view"),instance.getType=function(){return"ActivityKNObserver"},instance.getKey=function(){return instance.Key},instance.setViewScope=function(value){instance.ViewScope(value)},instance.getViewScope=function(){return instance.ViewScope()},instance.getObserversGroup=function(){return"KN"},instance.isKeywordAvailable=function(){return null!==instance.Keyword()&&void 0!==instance.Keyword()&&0<instance.Keyword().length},instance.setKeyword=function(data){instance.Keyword(data)},instance.getKeyword=function(){return instance.Keyword()},instance.getObservableKeyword=function(){return instance.Keyword},instance.getMessageRepository=function(){return instance.MessageRepository},instance.setSharedObject=function(object){instance.SharedObject(object)},instance.getSharedObject=function(){return instance.SharedObject()},instance.getObservableSharedObject=function(){return instance.SharedObject},instance.getStringifiedObject=function(data){return ko.toJSON(data)},instance.getJSONObject=function(data){return JSON.parse(ko.toJSON(data))},instance.setErrors=function(data){instance.Errors(data)},instance.getErrors=function(){return instance.Errors()},instance.getObservableErrors=function(){return instance.Errors},instance.setProcessing=function(data){instance.Processing(data)},instance.getProcessing=function(){return instance.Processing()},instance.getObservableProcessing=function(){return instance.Processing},instance.setResultMessage=function(data){instance.ResultMessage(data)},instance.getResultMessage=function(){return instance.ResultMessage()},instance.getObservableResultMessage=function(){return instance.ResultMessage},instance.setFormProcessing=function(data){instance.FormProcessing(data)},instance.getFormProcessing=function(){return instance.FormProcessing()},instance.getObservableFormProcessing=function(){return instance.FormProcessing},instance.setFormResultMessage=function(data){instance.FormResultMessage(data)},instance.getFormResultMessage=function(){return instance.FormResultMessage()},instance.getObservableFormResultMessage=function(){return instance.FormResultMessage},instance.setRequestProgress=function(value){instance.RequestProgress(value)},instance.getRequestProgress=function(){return instance.RequestProgress()},instance.setPrintReady=function(value){instance.PrintReady(value)},instance.isPrintReady=function(){return instance.PrintReady()},instance.displayProcessing=function(status){instance.Processing(status)},instance.displaySaved=function(){instance.ResultMessage(instance.getMessageRepository().get("form.saved.text")),instance.FormResultMessage(instance.getMessageRepository().get("form.saved.text")),instance.Processing(!1),instance.FormProcessing(!1)},instance.displayFailed=function(){instance.ResultMessage(instance.getMessageRepository().get("form.failed.text")),instance.FormResultMessage(instance.getMessageRepository().get("form.failed.text")),instance.Processing(!1),instance.FormProcessing(!1)},instance.displayProcessingActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.processing.text")),instance.Processing(!0)},instance.displayClearActivity=function(){instance.ResultMessage(""),instance.Processing(!1)},instance.displayNoRecordActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("form.noRecord.text")),instance.Processing(!1)},instance.displaySuccessActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.ok.text")),instance.Processing(!1)},instance.displayFailureActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.err.text")),instance.Processing(!1)},instance.displayFormProcessing=function(status){instance.FormProcessing(status)},instance.displayFormProcessingActivity=function(){instance.FormResultMessage(instance.getMessageRepository().get("standard.processing.text")),instance.FormProcessing(!0)},instance.displayFormClearActivity=function(){instance.FormResultMessage(""),instance.FormProcessing(!1)},instance.displayFormNoRecordActivity=function(){instance.FormResultMessage(instance.getMessageRepository().get("form.noRecord.text")),instance.FormProcessing(!1)},instance.displayFormSuccessActivity=function(){instance.FormResultMessage(instance.getMessageRepository().get("standard.ok.text")),instance.FormProcessing(!1)},instance.displayFormFailureActivity=function(){instance.FormResultMessage(instance.getMessageRepository().get("standard.err.text")),instance.FormProcessing(!1)},instance.displayGridProcessing=function(status){instance.Processing(status)},instance.displayGridProcessingActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.processing.text")),instance.Processing(!0)},instance.displayGridSuccessActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.ok.text")),instance.Processing(!1)},instance.displayGridFailureActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.err.text")),instance.Processing(!1)},instance.displayGridClearActivity=function(){instance.ResultMessage(""),instance.Processing(!1)},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function CRUDKNObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var findOptions=Object.create(options);return findOptions.instance=instance,(instance=SearchKNObserver(findOptions)).NewModeCaption=ko.observable(instance.getMessageRepository().get("form.new.text")),instance.EditModeCaption=ko.observable(instance.getMessageRepository().get("form.edit.text")),instance.EditMode=ko.observable(!1),instance.FormObject=ko.observable(new(Object.getPrototypeOf(instance.ContentType).constructor)({})),instance.MasterKeyRecord=ko.observable(null),instance.getType=function(){return"CRUDKNObserver"},instance.setMasterKeyRecord=function(data){instance.MasterKeyRecord(data)},instance.getMasterKeyRecord=function(){return instance.MasterKeyRecord()},instance.getObservableMasterKeyRecord=function(){return instance.MasterKeyRecord},instance.setEditMode=function(data){instance.EditMode(data)},instance.getEditMode=function(){return instance.EditMode()},instance.getObservableEditMode=function(){return instance.EditMode},instance.setNewModeCaption=function(data){instance.NewModeCaption(data)},instance.getNewModeCaption=function(){return instance.NewModeCaption()},instance.getObservableNewModeCaption=function(){return instance.NewModeCaption},instance.setEditModeCaption=function(data){instance.EditModeCaption(data)},instance.getEditModeCaption=function(){return instance.EditModeCaption()},instance.getObservableEditModeCaption=function(){return instance.EditModeCaption},instance.setFormObject=function(data){var newObject=null!==data.content&&void 0!==data.content?data.content:data;instance.FormObject(newObject)},instance.getFormObject=function(){return instance.FormObject()},instance.getObservableFormObject=function(){return instance.FormObject},instance.getFormStringifiedObject=function(){return ko.toJSON(instance.FormObject())},instance.getFormJSONObject=function(){return JSON.parse(ko.toJSON(instance.FormObject()))},instance.resetRecord=function(){instance.setRecord(null)},instance.validateFormObject=function(){var errors=ko.validation.group(instance.FormObject(),{deep:!0});return errors.showAllMessages(),!(0<errors().length)||(alert(instance.getMessageRepository().get("standard.err.text")),!1)},instance.synchronizeView=function(options){if(null===(options=null==options?{}:options).donotsync||void 0===options.donotsync){var view=null;if(null!=(view=null!==options.view&&void 0!==options.view?options.view:instance.getView())){if(null!==view.getObjectKey()&&void 0!==view.getObjectKey()&&(instance.FormObject().__referencekey=view.getObjectKey(),null!==view.getKeyField()&&void 0!==view.getKeyField())){"function"==typeof instance.FormObject()[view.getKeyField()]?instance.FormObject()[view.getKeyField()](view.getObjectKey()):instance.FormObject()[view.getKeyField()]=view.getObjectKey();var uploadForm=null!==options.form&&void 0!==options.form?options.form:"__uploadform";null!==document.forms[uploadForm]&&void 0!==document.forms[uploadForm]&&null!==document.forms[uploadForm][view.getKeyField()]&&void 0!==document.forms[uploadForm][view.getKeyField()]&&(document.forms[uploadForm][view.getKeyField()].value=view.getObjectKey())}if(null!==view.getObjects()&&void 0!==view.getObjects())if(Array.isArray(view.getObjects()))for(var i=0;i<view.getObjects().length;i++){var obj;null!==(obj=view.getObjects()[i]).field&&void 0!==obj.field&&("function"==typeof instance.FormObject()[obj.field]?instance.FormObject()[obj.field](obj.object):instance.FormObject()[obj.field]=obj.object)}else null!==(obj=view.getObjects()).field&&void 0!==obj.field&&("function"==typeof instance.FormObject()[obj.field]?instance.FormObject()[obj.field](obj.object):instance.FormObject()[obj.field]=obj.object)}}},instance.resetForm=function(options){instance.displayFormClearActivity(),instance.EditMode(!1),instance.FormObject(new(instance.getContentTypeObjectPrototype().constructor)({})),null!=options&&null!==options.callback&&void 0!==options.callback&&"function"==typeof options.callback&&options.callback(options.callbackparams),instance.synchronizeView(options)},instance.resetFormForEditing=function(index){instance.displayFormClearActivity(),instance.EditMode(!0);var indexValue=index();instance.SelectedRecordIndex=indexValue;var record=instance.Records()[indexValue];try{"DetailObserver"!==record.getType()&&"DetailKNObserver"!==record.getType()||(record=record.getRecord())}catch(e){}instance.FormObject(new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(record))))},instance.resetFormForEditingByRecord=function(data){instance.displayFormClearActivity(),instance.EditMode(!0);var record=data;try{"DetailObserver"!==data.getType()&&"DetailKNObserver"!==data.getType()||(record=record.getRecord())}catch(e){}instance.FormObject(new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(record))))},instance.updateNewRecordView=function(data){if(null!=data&&null!==data.requestData&&void 0!==data.requestData&&(data.form=data.requestData.form),instance.resetForm(data),null!==data.record&&void 0!==data.record){var newRecord=null;try{newRecord="DetailObserver"===data.record.getType()||"DetailKNObserver"===data.record.getType()?data.record:new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(data.record)))}catch(e){newRecord=new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(data.record)))}null!==data.order&&void 0!==data.order&&"first"===data.order?instance.Records.unshift(newRecord):instance.Records.push(newRecord)}instance.performRefObjectAction(data)},instance.updateExistingRecordView=function(data){if(instance.displaySuccessActivity(),null!==data.record&&void 0!==data.record){data.record=new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(data.record)));for(var i=0;i<instance.Records().length;i++){var item=instance.Records()[i],itemRecord=item;try{"DetailKNObserver"===itemRecord.getType()||"DetailObserver"===itemRecord.getType()?(itemRecord=itemRecord.getRecord()).getKey()===data.record.getKey()&&item.setRecord(data.record):itemRecord.getKey()===data.record.getKey()&&instance.Records.replace(item,data.record)}catch(e){itemRecord.getKey()===data.record.getKey()&&instance.Records.replace(item,data.record)}}}null!==data.resetForm&&void 0!==data.resetForm&&data.resetForm&&(instance.FormObject(new(instance.getContentTypeObjectPrototype().constructor)({})),instance.EditMode(!1),instance.displaySuccessActivity()),instance.performRefObjectAction(data)},instance.updateDeletionRecordView=function(data){if(instance.displaySuccessActivity(),null!==data.record&&void 0!==data.record){var deletedRecord=new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(data.record)));instance.Records.remove(function(item){try{if("DetailKNObserver"===item.getType()||"DetailObserver"===item.getType())return item.getRecord().getKey()===deletedRecord.getKey()}catch(e){}return item.getKey()===deletedRecord.getKey()})}instance.performRefObjectAction(data)},instance.performRefObjectAction=function(options){if(null!==options.refActions&&void 0!==options.refActions&&null!==options.refObject&&void 0!==options.refObject)if(Array.isArray(options.refActions))for(var i=0;i<options.refActions.length;i++){var refInput=void 0;null!==options.refInputs&&void 0!==options.refInputs&&(refInput=Array.isArray(options.refInputs)?options.refInputs[i]:options.refInputs),options.refObject[options.refActions[i]](refInput)}else options.refObject[options.refActions](options.refInputs)},instance.updateView=function(data){instance.displayProcessing(!1),instance.displayGridSuccessActivity(),void 0===data.action?null!==data.placement&&void 0!==data.placement?instance.updateNewRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord,order:data.placement}):instance.updateNewRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord,order:"first"}):"create"===data.action?null!==data.placement&&void 0!==data.placement?instance.updateNewRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord,order:data.placement}):instance.updateNewRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord,order:"first"}):"update"===data.action?instance.updateExistingRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord,resetForm:data.resetForm}):"delete"===data.action&&instance.updateDeletionRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord})},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function DetailKNObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;return null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options})),instance.Record=ko.observable(options.record),instance.Detail=ko.observable(options.detail),instance.getType=function(){return"DetailKNObserver"},instance.newInstance=function(){return new(Object.getPrototypeOf(instance).constructor)(options)},instance.setRecord=function(record){instance.Record(record)},instance.getRecord=function(){return instance.Record()},instance.getObservableRecord=function(){return instance.Record},instance.setDetail=function(detail){instance.Detail(detail)},instance.getDetail=function(){return instance.Detail()},instance.getObservableDetail=function(){return instance.Detail},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function ListKNObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options})),instance.ListObject=options.object,instance=extender.extendField({instance:instance,field:"List",value:null!==options.list&&void 0!==options.list?ko.observableArray(options.list):ko.observableArray([])}),(instance=extender.extendObjectInterface({instance:instance,field:"List"})).ListReady=ko.observable(!1);var activityOptions=Object.create(options);return activityOptions.instance=instance,(instance=ActivityKNObserver(activityOptions)).getType=function(){return"ListKNObserver"},instance.getListObject=function(){return instance.ListObject},instance.getListObjectPrototype=function(){return null!==instance.ListObject&&void 0!==instance.ListObject?Object.getPrototypeOf(instance.ListObject):null},instance.getIndexedStringifiedObject=function(index){return null!=index&&0<=index?ko.toJSON(instance.List[index]):null},instance.getIndexedJSONObject=function(index){return JSON.parse(instance.getIndexedStringifiedObject(index))},instance.clearList=function(readyStatus){instance.ListReady(readyStatus),instance.List([])},instance.fillList=function(data,readyStatus){null!==data.objects&&void 0!==data.objects&&(instance.List(data.objects),instance.ListReady(readyStatus))},instance.isListReady=function(){return instance.ListReady()},instance.setListReady=function(status){instance.ListReady(status)},instance.getItem=function(key){for(var i=0;i<instance.List().length;i++){var item=instance.List()[i];if(null!==item.getKey()&&void 0!==item.getKey()&&item.getKey()===key)return item}return null},instance.newItem=function(data){if(null!==data.object&&void 0!==data.object){var newObject=data.object;if(null!==instance.ListObject&&void 0!==instance.ListObject&&(newObject=null!==newObject.getKey&&void 0!==newObject.getKey?instance.ListObject.newInstance({key:newObject.getKey()}):instance.ListObject.newInstance()).setObject(data.object),null!==data.order&&void 0!==data.order)if("first"===data.order){var oldLists=instance.List();instance.List([]),instance.List.push(newObject);for(var i=0;i<oldLists.length;i++)instance.List.push(oldLists[i])}else instance.List.push(newObject);else instance.List.push(newObject)}},instance.updateItem=function(data){if(null!=data){var newObject=data.object;null!==instance.ListObject&&void 0!==instance.ListObject&&(newObject=instance.ListObject.newInstance()).setObject(data.object);for(var i=0;i<instance.List().length;i++){var item=instance.List()[i];null!==newObject.getType()&&void 0!==newObject.getType()?newObject.getObject()===item.getObject()&&instance.List.replace(item,newObject):void 0!==newObject.getKey()&&void 0!==item.getKey()&&item.getKey()===newObject.getKey()&&instance.List.replace(item,newObject)}}},instance.removeItem=function(data){if(null!=data){var newObject=data.object;null!==instance.ListObject&&void 0!==instance.ListObject&&(newObject=instance.ListObject.newInstance()).setObject(data.object);for(var i=0;i<instance.List().length;i++){var item=instance.List()[i];null!==newObject.getType()&&void 0!==newObject.getType()?newObject.getObject()===item.getObject()&&instance.List.remove(item):void 0!==newObject.getKey()&&void 0!==item.getKey()&&item.getKey()===newObject.getKey()&&instance.List.remove(item)}}},instance.update=function(data){void 0===data.action?null!==data.placement&&void 0!==data.placement?instance.newItem({object:data.object,order:data.placement}):instance.newItem({object:data.object,order:"first"}):"create"===data.action?null!==data.placement&&void 0!==data.placement?instance.newItem({object:data.object,order:data.placement}):instance.newItem({object:data.object,order:"first"}):"update"===data.action?instance.updateItem(data.object):"delete"===data.action&&instance.removeItem(data.object)},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function ObjectKNObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options})),instance=extender.extendField({instance:instance,field:"InputObject",value:null!==options.object&&void 0!==options.object?ko.observable(options.object):ko.observable(null)}),instance=extender.extendField({instance:instance,field:"OutputObject",value:null!==options.object&&void 0!==options.object?ko.observable(options.object):ko.observable(null)}),instance=extender.extendObjectInterface({instance:instance,field:"OutputObject"});var activityOptions=Object.create(options);return activityOptions.instance=instance,null!==(instance=ActivityKNObserver(activityOptions)).getContentTypeObjectPrototype()&&void 0!==instance.getContentTypeObjectPrototype()&&(void 0===instance.getContentTypeObjectPrototype().get&&(instance.getContentTypeObjectPrototype().get=function(name){return"function"==typeof this[name]?this[name]():this[name]}),void 0===instance.getContentTypeObjectPrototype().getKey&&(instance.getContentTypeObjectPrototype().getKey=function(){if(null!==this._datakey&&void 0!==this._datakey)return this._datakey}),void 0===instance.getContentTypeObjectPrototype().newObject&&(instance.getContentTypeObjectPrototype().newObject=function(data){return new(instance.getContentTypeObjectPrototype().constructor)(data)})),null!==options.inputObject&&void 0!==options.inputObject?"function"==typeof instance.InputObject?instance.InputObject(options.inputObject):instance.InputObject=options.inputObject:null!==instance.getContentTypeObjectPrototype()&&void 0!==instance.getContentTypeObjectPrototype()?"function"==typeof instance.InputObject?instance.InputObject(instance.getContentTypeObjectPrototype().newObject({})):instance.InputObject=instance.getContentTypeObjectPrototype().newObject({}):"function"==typeof instance.InputObject?instance.InputObject({}):instance.InputObject={},instance.getType=function(){return"ObjectKNObserver"},instance.setFormObject=function(data){var newObject=null!==data.content&&void 0!==data.content?data.content:data;instance.InputObject(newObject)},instance.getFormObject=function(){return instance.InputObject()},instance.getObservableFormObject=function(){return instance.InputObject},instance.getFormStringifiedObject=function(){return ko.toJSON(instance.InputObject())},instance.getFormJSONObject=function(){return JSON.parse(ko.toJSON(instance.InputObject()))},instance.validateFormObject=function(){var errors=ko.validation.group(instance.getFormObject(),{deep:!0});return errors.showAllMessages(),!(0<errors().length)||(alert(instance.getMessageRepository().get("standard.err.text")),!1)},instance.synchronizeView=function(options){if(null===(options=null==options?{}:options).donotsync||void 0===options.donotsync){var view=null;if(null!=(view=null!==options.view&&void 0!==options.view?options.view:instance.getView())){if(null!==view.getObjectKey()&&void 0!==view.getObjectKey()&&(instance.getFormObject().__referencekey=view.getObjectKey(),null!==view.getKeyField()&&void 0!==view.getKeyField())){"function"==typeof instance.getFormObject()[view.getKeyField()]?instance.getFormObject()[view.getKeyField()](view.getObjectKey()):instance.getFormObject()[view.getKeyField()]=view.getObjectKey();var uploadForm=null!==options.form&&void 0!==options.form?options.form:"__uploadform";null!==document.forms[uploadForm]&&void 0!==document.forms[uploadForm]&&null!==document.forms[uploadForm][view.getKeyField()]&&void 0!==document.forms[uploadForm][view.getKeyField()]&&(document.forms[uploadForm][view.getKeyField()].value=view.getObjectKey())}if(null!==view.getObjects()&&void 0!==view.getObjects())if(Array.isArray(view.getObjects()))for(var i=0;i<view.getObjects().length;i++){var obj;null!==(obj=view.getObjects()[i]).field&&void 0!==obj.field&&("function"==typeof instance.getFormObject()[obj.field]?instance.getFormObject()[obj.field](obj.object):instance.getFormObject()[obj.field]=obj.object)}else null!==(obj=view.getObjects()).field&&void 0!==obj.field&&("function"==typeof instance.FormObject()[obj.field]?instance.getFormObject()[obj.field](obj.object):instance.getFormObject()[obj.field]=obj.object)}}},instance.resetForm=function(options){instance.displayFormClearActivity(),instance.setFormObject(new(instance.getContentTypeObjectPrototype().constructor)({})),instance.synchronizeView(options)},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function SearchKNObserver(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var activityOptions=Object.create(options);return activityOptions.instance=instance,(instance=ActivityKNObserver(activityOptions)).Record=ko.observable(null),instance.Records=ko.observableArray([]),instance.RecordCount=ko.observable(0),instance.SelectedRecord=ko.observable(null),instance.SelectedRecordIndex=-1,instance.ListNavigator=ko.observable(new ListNavigator({currentList:1,listSize:1,totalRecords:0,scrollSize:1,listsource:instance.ListSource})),instance.ListingScrollSize=ko.observable(5),instance.ListSize=ko.observable(10),instance.CurrentList=ko.observable(1),instance.ListSource=options.listsource,instance.getType=function(){return"SearchKNObserver"},instance.setRecord=function(record){instance.Record(record)},instance.getRecord=function(){return instance.Record()},instance.getObservableRecord=function(){return instance.Record},instance.setRecords=function(data){instance.Records(data)},instance.getRecords=function(){return instance.Records()},instance.getObservableRecords=function(){return instance.Records},instance.setRecordCount=function(data){instance.RecordCount(data)},instance.getRecordCount=function(){return instance.RecordCount()},instance.getObservableRecordCount=function(){return instance.RecordCount},instance.setSelectedRecord=function(data){instance.SelectedRecord(data)},instance.getSelectedRecord=function(){return instance.SelectedRecord()},instance.getObservableSelectedRecord=function(){return instance.SelectedRecord},instance.setSelectedRecordIndex=function(data){instance.SelectedRecordIndex(data)},instance.getSelectedRecordIndex=function(){return instance.SelectedRecordIndex()},instance.getObservableSelectedRecordIndex=function(){return instance.SelectedRecordIndex},instance.setListNavigator=function(navigator){instance.ListNavigator(navigator)},instance.getListNavigator=function(){return instance.ListNavigator()},instance.getObservableListNavigator=function(){return instance.ListNavigator},instance.setListingScrollSize=function(data){instance.ListingScrollSize(data)},instance.getListingScrollSize=function(){return instance.ListingScrollSize()},instance.getObservableListingScrollSize=function(){return instance.ListingScrollSize},instance.setListSize=function(data){instance.ListSize(data)},instance.getListSize=function(){return instance.ListSize()},instance.getObservableListSize=function(){return instance.ListSize},instance.setCurrentList=function(data){instance.CurrentList(data)},instance.getCurrentList=function(){return instance.CurrentList()},instance.setListSource=function(value){instance.ListSource=value},instance.getListSource=function(){return instance.ListSource},instance.getObservableCurrentList=function(){return instance.CurrentList},instance.getIndexedStringifiedObject=function(index){if(void 0===index){if(0<=instance.SelectedRecordIndex)return ko.toJSON(instance.Records[instance.SelectedRecordIndex])}else if(0<=index)return ko.toJSON(instance.Records[index])},instance.getIndexedJSONObject=function(index){return JSON.parse(instance.getIndexedStringifiedObject(index))},instance.getSelectedStringifiedObject=function(){return ko.toJSON(instance.SelectedRecord())},instance.getSelectedJSONObject=function(){return JSON.parse(ko.toJSON(instance.SelectedRecord()))},instance.getStringifiedObject=function(data){return ko.toJSON(data)},instance.getJSONObject=function(data){return JSON.parse(ko.toJSON(data))},instance.selectRecord=function(options){var selectedRecord=null;null!==options.index&&void 0!==options.index?selectedRecord=instance.Records()[options.index]:null!==options.record&&void 0!==options.record&&(selectedRecord=options.record),"DetailKNObserver"===selectedRecord.getType()||"DetailObserver"===selectedRecord.getType()?instance.setRecord(selectedRecord.getRecord()):instance.setRecord(selectedRecord)},instance.clearListRecordsView=function(){instance.Records([]),instance.Errors([]),instance.RecordCount(0)},instance.fillListRecordsView=function(data){if(null!==data.clearRecords&&void 0!==data.clearRecords?data.clearRecords&&instance.clearListRecordsView():instance.clearListRecordsView(),null!==data.records&&void 0!==data.records&&instance.Records(data.records),null!==data.immediateRecords&&void 0!==data.immediateRecords){if(data.immediateRecords&&null!==data.records&&void 0!==data.records){instance.RecordCount(data.records.length);var pagesNavigator=new ListNavigator({currentList:instance.CurrentList(),listSize:instance.ListSize(),totalRecords:data.records.length,scrollSize:instance.ListingScrollSize(),listsource:instance.ListSource});instance.ListNavigator(pagesNavigator),instance.CurrentList(data.page),null!==data.messageType&&void 0!==data.messageType&&"brief"===data.messageType?instance.displaySaved():instance.ResultMessage(instance.getMessageRepository().get("form.found.text")+" "+data.records.length+" "+instance.getMessageRepository().get("form.records.text")+" "+instance.getMessageRepository().get("form.displayingPage.text")+" "+instance.CurrentList()+" "+instance.getMessageRepository().get("form.of.text")+" "+(0==instance.ListNavigator().calculateTotalPages()?1:instance.ListNavigator().calculateTotalPages())+" "+instance.getMessageRepository().get("form.totalPages.text"))}}else if(data.responseData="string"==typeof data.responseData?JSON.parse(data.responseData):data.responseData,null!==data.responseData&&void 0!==data.responseData&&null!==data.responseData.contents&&void 0!==data.responseData.contents){instance.RecordCount(data.responseData.total);pagesNavigator=new ListNavigator({currentList:instance.CurrentList(),listSize:instance.ListSize(),totalRecords:data.responseData.total,scrollSize:instance.ListingScrollSize(),listsource:instance.ListSource});instance.ListNavigator(pagesNavigator),instance.CurrentList(data.page),null!==data.messageType&&void 0!==data.messageType&&"brief"===data.messageType?instance.displaySaved():instance.ResultMessage(instance.getMessageRepository().get("form.found.text")+" "+data.responseData.total+" "+instance.getMessageRepository().get("form.records.text")+" "+instance.getMessageRepository().get("form.displayingPage.text")+" "+instance.CurrentList()+" "+instance.getMessageRepository().get("form.of.text")+" "+(0==instance.ListNavigator().calculateTotalPages()?1:instance.ListNavigator().calculateTotalPages())+" "+instance.getMessageRepository().get("form.totalPages.text"))}},instance.composeNavigator=function(options){if(null!==options.responseData&&void 0!==options.responseData&&null!==options.responseData.contents&&void 0!==options.responseData.contents){instance.CurrentList(options.currentList),instance.RecordCount(options.responseData.total);var pagesNavigator=new ListNavigator({currentList:instance.CurrentList(),listSize:instance.ListSize(),totalRecords:options.responseData.total,scrollSize:instance.ListingScrollSize(),listsource:instance.ListSource});instance.ListNavigator(pagesNavigator),instance.ResultMessage(instance.getMessageRepository().get("form.found.text")+" "+options.responseData.total+" "+instance.getMessageRepository().get("form.records.text")+" "+instance.getMessageRepository().get("form.displayingPage.text")+" "+instance.CurrentList()+" "+instance.getMessageRepository().get("form.of.text")+" "+(0==instance.ListNavigator().calculateTotalPages()?1:instance.ListNavigator().calculateTotalPages())+" "+instance.getMessageRepository().get("form.totalPages.text"))}},null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function Alternator(options){var instance=this,extender=new InstanceExtender;return(instance=extender.extendObjectInterface({instance:instance,field:"Current"})).Zero=options.zero,instance.One=options.one,null!==options.observer&&void 0!==options.observer&&(null!==options.object&&void 0!==options.object?options.observer.setObject(options.object):options.observer.setObject(options.zero)),instance.Current=options.observer,instance.getType=function(){return"Alternator"},instance.getZero=function(){return instance.Zero},instance.getOne=function(){return instance.One},instance.alternate=function(object){return null!=object&&(instance.Current=object),instance.Current.getObject()===instance.Zero?instance.Current.setObject(instance.One):instance.Current.setObject(instance.Zero),instance.Current},instance.getCurrent=function(){return instance.Current},instance}function OptionItem(key,val){this.key=key,this.val=val}function ErrorItem(data){this.errField=data.field,this.errMessage=data.defaultMessage}function CRUDSList(options){var instance=this,extender=new InstanceExtender;return instance=Object.create(new ArrayProcessor({field:"CRUDS",value:null!==options.cruds&&void 0!==options.cruds?options.cruds:[]})),(instance=extender.extendObjectInterface({instance:instance,field:"Current"})).getType=function(){return"CRUDSList"},instance.CRUDIndex=0,null!==options.observer&&void 0!==options.observer&&options.observer.setObject(instance.CRUDS[instance.CRUDIndex]),instance.Current=options.observer,instance.getCRUDS=function(){return instance.CRUDS},instance.selectCRUD=function(options){if(null!==options.crudindex&&void 0!==options.crudindex)instance.CRUDIndex=options.crudindex,instance.Current.setObject(instance.CRUDS[options.crudindex]);else if(null!==options.crudkey&&void 0!==options.crudkey&&null!==instance.CRUDS&&void 0!==instance.CRUDS)for(var i=0;i<instance.CRUDS.length;i++)if(instance.CRUDS[i].getKey()===options.crudkey)return instance.CRUDIndex=i,void instance.Current.setObject(instance.CRUDS[i])},instance.nextCRUD=function(){instance.CRUDIndex+=1,instance.CRUDIndex>=instance.CRUDS.length&&(instance.CRUDIndex=0),instance.Current.setObject(instance.CRUDS[instance.CRUDIndex])},instance.prevCRUD=function(){instance.CRUDIndex-=1,instance.CRUDIndex<0&&(instance.CRUDIndex=instance.CRUDS.length-1),instance.Current.setObject(instance.CRUDS[instance.CRUDIndex])},instance.getCurrent=function(){return instance.Current},instance}function NavLink(number,listsource){var instance=this;instance.ListSource=listsource,instance.Number=number,instance.list=function(options,fill){if(null!==instance.ListSource&&void 0!==instance.ListSource)return instance.ListSource.list(options,fill)}}function ListNavigator(options){var instance=this;instance.Lists=[],instance.CurrentList=null!==options.currentList&&void 0!==options.currentList?options.currentList:1,instance.ListSize=null!==options.listSize&&void 0!==options.listSize?options.listSize:10,instance.TotalRecords=null!==options.totalRecords&&void 0!==options.totalRecords?options.totalRecords:0,instance.ScrollSize=null!==options.scrollSize&&void 0!==options.scrollSize?options.scrollSize:10,instance.calculateTotalPages=function(){return Math.ceil(instance.TotalRecords/instance.ListSize)},instance.composeLists=function(listsource){instance.Lists=[];var pageOffset=Math.ceil(instance.ScrollSize/2),minPageNumber=options.currentList-pageOffset,maxPageNumber=options.currentList+pageOffset;minPageNumber<=0&&(minPageNumber=1),minPageNumber+instance.ScrollSize>instance.calculateTotalPages()?maxPageNumber=instance.calculateTotalPages():(maxPageNumber=minPageNumber+instance.ScrollSize)>instance.calculateTotalPages()&&(maxPageNumber=instance.calculateTotalPages());for(var i=minPageNumber;i<=maxPageNumber;i++){var ls=null!=listsource?listsource:options.listsource;instance.Lists.push(new NavLink(i,ls))}},instance.getLists=function(){return instance.Lists},instance.newObject=function(options){return new ListNavigator(options)},instance.composeLists()}function ObjectView(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;return null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options})),instance.Name=options.name,instance.Title=options.title,instance.Options=options,instance.Key=options.key,instance.ObjectKey=options.objectkey,instance.KeyField=options.keyfield,instance.Objects=options.objects,instance.URI=options.uri,instance.ViewScope=options.viewscope,instance.ContentProcessor=null,instance.ContentType=options.contentType,instance.Observer=options.observer,instance.CRUDContextPath=options.contextpath,instance.MessageRepository=options.messages,instance.Fields=options.fields,instance.Views=options.views,instance.ListCounter=0,instance.AuthorizationCode=options.authorizationCode,instance.ContentNode=options.contentnode,instance.ErrorNode=options.errornode,instance.getType=function(){return"ObjectView"},instance.setName=function(name){instance.Name=name},instance.getName=function(){return instance.Name},instance.setTitle=function(title){instance.Title=title},instance.getTitle=function(){return instance.Title},instance.getOptions=function(){return instance.Options},instance.getKey=function(){return instance.Key},instance.getObjectKey=function(){return instance.ObjectKey},instance.setObjectKey=function(value){instance.ObjectKey=value,instance.notify({event:"objectKey.fields.view.CRUD.WindnTrees",value:value})},instance.getKeyField=function(){return instance.KeyField},instance.setKeyField=function(value){instance.KeyField=value,instance.notify({event:"keyField.fields.view.CRUD.WindnTrees",value:value})},instance.setObjects=function(value){instance.Objects=value,instance.notify({event:"objects.fields.view.CRUD.WindnTrees",value:value})},instance.getObjects=function(){return instance.Objects},instance.getContentType=function(){return instance.ContentType},instance.setContentType=function(value){instance.ContentType=value,instance.notify({event:"contentType.fields.view.CRUD.WindnTrees",value:value})},instance.getAuthorizationCode=function(){return instance.AuthorizationCode},instance.setAuthorizationCode=function(value){instance.AuthorizationCode=value,instance.notify({event:"authorizationCode.fields.view.CRUD.WindnTrees",value:value})},instance.getCRUDProcessor=function(){return null===instance.ContentProcessor&&(null!==instance.Observer&&void 0!==instance.Observer?instance.ContentProcessor=new CRUDProcessor({contentType:instance.Observer.getContentTypeObject()}):null!==options.content&&void 0!==options.content?instance.ContentProcessor=new CRUDProcessor({contentType:options.contentType}):instance.ContentProcessor=new CRUDProcessor({})),instance.ContentProcessor},instance.getURI=function(){return instance.URI},instance.setViewScope=function(value){instance.ViewScope=value},instance.getViewScope=function(){return instance.ViewScope},instance.processing=function(){return instance.getCRUDProcessor().processing()},instance.responseData=function(){return instance.getCRUDProcessor().responseData()},instance.isResponseError=function(){return instance.getCRUDProcessor().isResponseError()},instance.responseError=function(){return instance.getCRUDProcessor().responseError()},instance.isInputError=function(){return instance.getCRUDProcessor().isInputError()},instance.getErrors=function(){return instance.getCRUDProcessor().getErrors()},instance.setContentNode=function(value){instance.ContentNode=value},instance.getErrorNode=function(){return instance.ErrorNode},instance.setErrorNode=function(value){instance.ErrorNode=value},instance.getObserverInterface=function(){return instance.Observer},instance.synchronizeScript=function(options){options=null!=options?options:{},null!==options.script&&void 0!==options.script&&eval(options.script)},instance.getObserverObject=function(options){var observerInterface=instance.Observer;try{for(;null!=observerInterface&&null!==observerInterface.getObserver&&void 0!==observerInterface.getObserver;)observerInterface=observerInterface.getObserver()}catch(e){console.log(e.message)}return observerInterface},instance.getContentTypeObjects=function(options){var entityObjects=[];if(null!==options.simpleObjects&&void 0!==options.simpleObjects){if(!Array.isArray(options.simpleObjects))return new(instance.getObserverInterface().getContentTypeObjectPrototype().constructor)(options.simpleObjects);for(var i=0;i<options.simpleObjects.length;i++)null!==options.contentPrototype&&void 0!==options.contentPrototype?entityObjects[i]=new options.contentPrototype.constructor(options.simpleObjects[i]):entityObjects[i]=new(instance.getObserverInterface().getContentTypeObjectPrototype().constructor)(options.simpleObjects[i])}return entityObjects},instance.getMessageRepository=function(){return instance.MessageRepository},instance.getListCounter=function(){return instance.ListCounter},instance.setReferentialViews=function(views){null!==instance.Views&&void 0!==instance.Views?null!==instance.Views.getType&&void 0!==instance.Views.getType&&("ListObserver"===instance.Views.getType()||"ListKNObserver"===instance.Views.getType()?instance.Views.fillList({objects:views}):"ObjectObserver"!==instance.Views.getType()&&"ObjectKNObserver"!==instance.Views.getType()||instance.Views.setObject(views)):instance.Views=views},instance.getReferentialViews=function(){return instance.Views},instance.getReferentialView=function(key){if(null!==instance.Views&&void 0!==instance.Views){if(null!==instance.Views.getType&&void 0!==instance.Views.getType){if("ListObserver"===instance.Views.getType()||"ListKNObserver"===instance.Views.getType()){var result=instance.Views.getItem(key);return null!=result&&"object"==typeof result?null===result.getType()||void 0===result.getType()||"ObjectObserver"!==result.getType()&&"ObjectKNObserver"!==result.getType()?result:result.getObserverObject():result}return"ObjectObserver"===instance.Views.getType()||"ObjectKNObserver"===instance.Views.getType()?instance.Views.getObserverObject():instance.Views}if(!Array.isArray(instance.Views))return instance.Views;for(var i=0;i<instance.Views.length;i++)if(instance.Views[i].getKey()===key)return instance.Views[i]}return null},instance.clearRecord=function(){"ObjectObserver"===instance.getObserverInterface().getType()||"ObjectKNObserver"===instance.getObserverInterface().getType()?instance.getObserverInterface().setObject({}):instance.getObserverInterface().setRecord({}),instance.getObserverInterface().displayProcessing(!1)},instance.read=function(data){null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayProcessingActivity(),instance.getObserverInterface().displayFormProcessingActivity()),"object"==typeof data?(data.uri=null!==data.uri&&void 0!==data.uri?data.uri:instance.URI,instance.getCRUDProcessor().read(data)):instance.getCRUDProcessor().read({uri:instance.URI,key:null!=data?data:instance.getObjectKey()})},instance.load=function(options){instance.read(options),instance.LoadFields(options)},instance.loadListResult=function(options){try{if(null!==options.uri&&void 0!==options.uri&&null!==options.target&&void 0!==options.target){var uri=null!==options.uri&&void 0!==options.uri?options.uri:instance.getURI(),keyword=null!==options.keyword&&void 0!==options.keyword?options.keyword:instance.getObserverInterface().getKeyword();instance.ListCounter++,new SearchView({uri:uri}).list({target:options.target,contentType:options.contentType,query:{key:options.key,keyword:keyword},callback:function(data){if(Array.isArray(data)){if(null!==options.result&&void 0!==options.result)for(var i=0;i<data.length;i++)options.result.push(new OptionItem(data[i][options.keyfield],data[i][options.valuefield]));else if(null!==options.resultfield&&void 0!==options.resultfield){var resultField;"function"==typeof(resultField=instance.getObserverObject()[options.resultfield])?resultField([]):resultField=[];for(i=0;i<data.length;i++)null!==options.contentType&&void 0!==options.contentType?resultField.push(data[i]):resultField.push(new OptionItem(data[i][options.keyfield],data[i][options.valuefield]))}}else null!==options.result&&void 0!==options.result?options.result=new OptionItem(data[options.keyfield],data[options.valuefield]):null!==options.resultfield&&void 0!==options.resultfield&&("function"==typeof(resultField=instance.getObserverObject()[options.resultfield])?null!==options.contentType&&void 0!==options.contentType?resultField(data):resultField(new OptionItem(data[options.keyfield],data[options.valuefield])):resultField=null!==options.contentType&&void 0!==options.contentType?data:new OptionItem(data[options.keyfield],data[options.valuefield]));null!==options.formfield&&void 0!==options.formfield&&null!==instance.getObserverObject().getFormObject()&&void 0!==instance.getObserverObject().getFormObject()&&null!==instance.getObserverObject().getFormObject()[options.formfield]&&void 0!==instance.getObserverObject().getFormObject()[options.formfield]&&("function"==typeof instance.getObserverObject().getFormObject()[options.formfield]?null!==options.list&&void 0!==options.list?"ObjectKNObserver"===instance.getObserverObject().getType()||"ObjectObserver"===instance.getObserverObject().getType()?$(options.list).val(instance.getObserverObject().getInputObject()[options.formfield]()):$(options.list).val(instance.getObserverObject().getFormObject()[options.formfield]()):"ObjectKNObserver"===instance.getObserverObject().getType()||"ObjectObserver"===instance.getObserverObject().getType()?$(options.resultfield).val(instance.getObserverObject().getInputObject()[options.formfield]()):$(options.resultfield).val(instance.getObserverObject().getFormObject()[options.formfield]()):null!==options.list&&void 0!==options.list?"ObjectKNObserver"===instance.getObserverObject().getType()||"ObjectObserver"===instance.getObserverObject().getType()?$(options.list).val(instance.getObserverObject().getInputObject()[options.formfield]):$(options.list).val(instance.getObserverObject().getFormObject()[options.formfield]):"ObjectKNObserver"===instance.getObserverObject().getType()||"ObjectObserver"===instance.getObserverObject().getType()?$(options.resultfield).val(instance.getObserverObject().getInputObject()[options.formfield]):$(options.resultfield).val(instance.getObserverObject().getFormObject()[options.formfield])),instance.ListCounter--,null!==options.counterUpdate&&void 0!==options.counterUpdate&&"function"==typeof options.counterUpdate&&options.counterUpdate(instance.ListCounter)}})}}catch(e){console.log(e.message)}},instance.formatContent=function(options){if(null!==options.TimeFields&&void 0!==options.TimeFields){for(var content=null!==options.content&&void 0!==options.content?options.content:instance.getObserverInterface().getFormObject(),i=0;i<options.TimeFields.length;i++)content[options.TimeFields[i]]=moment("function"==typeof content[options.TimeFields[i]]?content[options.TimeFields[i]]():content[options.TimeFields[i]]).format("YYYY-MM-DD HH:mm:ss");content=instance.getObserverInterface().getStringifiedObject(content)}else content=null===options.content||void 0===options.content?instance.getObserverInterface().getFormStringifiedObject():instance.getObserverInterface().getStringifiedObject(options.content);return content},instance.createOrUpdateOrDelete=function(options){var formInputErrors=!0;instance.getObserverInterface().setErrors([]),null!==options.validate&&void 0!==options.validate&&options.validate&&(void 0===options.action?formInputErrors=null!==options.refObject&&void 0!==options.refObject?options.refObject.validateFormObject():instance.getObserverInterface().validateFormObject():"create"!==options.action&&"update"!==options.action||(formInputErrors=null!==options.refObject&&void 0!==options.refObject?options.refObject.validateFormObject():instance.getObserverInterface().validateFormObject())),formInputErrors&&(instance.getObserverInterface().displayProcessingActivity(),instance.getObserverInterface().displayFormProcessingActivity(),options.uri=instance.URI,void 0===options.action?instance.getCRUDProcessor().create(options):"create"===options.action?instance.getCRUDProcessor().create(options):"update"===options.action?instance.getCRUDProcessor().update(options):"delete"===options.action&&instance.getCRUDProcessor().delete(options))},instance.ExtendField=function(options){null!==(options=null!=options?options:{}).field&&void 0!==options.field&&null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&"KN"===instance.getObserverObject().getObserversGroup()&&(null!==options.objectType&&void 0!==options.objectType&&"array"===options.objectType?null!==options.object&&void 0!==options.object?instance.getObserverObject()[options.field]=ko.observableArray(options.object):instance.getObserverObject()[options.field]=ko.observableArray([]):null!==options.object&&void 0!==options.object?instance.getObserverObject()[options.field]=ko.observable(options.object):instance.getObserverObject()[options.field]=ko.observable())},instance.ExtendFields=function(options){var fieldsObject=null!==(options=null!=options?options:{}).fields&&void 0!==options.fields?options.fields:instance.Fields;if(null!=fieldsObject&&null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&"KN"===instance.getObserverObject().getObserversGroup()&&Array.isArray(fieldsObject))for(var i=0;i<fieldsObject.length;i++){var listView=fieldsObject[i];null!==listView.field&&void 0!==listView.field&&(null!==instance.getObserverObject()[listView.field]&&void 0!==instance.getObserverObject()[listView.field]||(null!==listView.expectObjectResult&&void 0!==listView.expectObjectResult&&listView.expectObjectResult?null!==listView.intialObject&&void 0!==listView.intialObject?instance.getObserverObject()[listView.field]=ko.observable(listView.intialObject):instance.getObserverObject()[listView.field]=ko.observable():null!==listView.intialObject&&void 0!==listView.intialObject?instance.getObserverObject()[listView.field]=ko.observableArray(listView.intialObject):instance.getObserverObject()[listView.field]=ko.observableArray([]))),null!==listView.formObject&&void 0!==listView.formObject&&null!==listView.contentType&&void 0!==listView.contentType&&(instance.getObserverObject()[listView.formObject]=ko.observable(new(Object.getPrototypeOf(listView.contentType).constructor)({})))}},instance.LoadFields=function(options){var fieldsObject=null!==(options=null!=options?options:{}).fields&&void 0!==options.fields?options.fields:instance.Fields;if(null!=fieldsObject&&null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&"KN"===instance.getObserverObject().getObserversGroup())if(Array.isArray(fieldsObject)){for(var i=0;i<fieldsObject.length;i++){null!==(listView=fieldsObject[i]).field&&void 0!==listView.field&&(null!==instance.getObserverObject()[listView.field]&&void 0!==instance.getObserverObject()[listView.field]||(null!==listView.expectObjectResult&&void 0!==listView.expectObjectResult&&listView.expectObjectResult?null!==listView.intialObject&&void 0!==listView.intialObject?instance.getObserverObject()[listView.field]=ko.observable(listView.intialObject):instance.getObserverObject()[listView.field]=ko.observable():null!==listView.intialObject&&void 0!==listView.intialObject?instance.getObserverObject()[listView.field]=ko.observableArray(listView.intialObject):instance.getObserverObject()[listView.field]=ko.observableArray([])))}for(i=0;i<fieldsObject.length;i++){var listView;new SearchView({uri:(listView=fieldsObject[i]).uri}).list({target:listView.target,contentType:listView.contentType,query:listView.query,method:listView.method,scopeObject:{field:listView.field,key:listView.key,value:listView.value,contentType:listView.contentType,expectObjectResult:listView.expectObjectResult},callback:function(data){instance.ProcessFieldResponse(data,this.scopeObject)}})}}else null!==listView.field&&void 0!==listView.field&&(null!==instance.getObserverObject()[fieldsObject.field]&&void 0!==instance.getObserverObject()[fieldsObject.field]||(instance.getObserverObject()[fieldsObject.field]=ko.observableArray([]))),new SearchView({uri:fieldsObject.uri}).list({target:fieldsObject.target,contentType:listView.contentType,query:listView.query,method:fieldsObject.method,scopeObject:{field:listView.field,key:listView.key,value:listView.value,contentType:listView.contentType},callback:function(data){instance.ProcessFieldResponse(data,this.scopeObject)}})},instance.ProcessFieldResponse=function(data,scopeObject){if(null!=data)if(Array.isArray(data))for(var i=0;i<data.length;i++)null!==scopeObject.contentType&&void 0!==scopeObject.contentType?null!==scopeObject.field&&void 0!==scopeObject.field?null!==instance.getObserverObject()[scopeObject.field]&&void 0!==instance.getObserverObject()[scopeObject.field]&&instance.getObserverObject()[scopeObject.field].push(data[i]):instance.getObserverObject().getRecords().push(data[i]):null!==scopeObject.field&&void 0!==scopeObject.field&&null!==scopeObject.value&&void 0!==scopeObject.value&&null!==instance.getObserverObject()[scopeObject.field]&&void 0!==instance.getObserverObject()[scopeObject.field]&&instance.getObserverObject()[scopeObject.field].push(new OptionItem(data[i][scopeObject.key],data[i][scopeObject.value]));else null!==scopeObject.contentType&&void 0!==scopeObject.contentType?null!==scopeObject.field&&void 0!==scopeObject.field&&null!==instance.getObserverObject()[scopeObject.field]&&void 0!==instance.getObserverObject()[scopeObject.field]&&instance.getObserverObject()[scopeObject.field](data):null!==scopeObject.field&&void 0!==scopeObject.field&&null!==scopeObject.value&&void 0!==scopeObject.value&&null!==instance.getObserverObject()[scopeObject.field]&&void 0!==instance.getObserverObject()[scopeObject.field]&&instance.getObserverObject()[scopeObject.field](new OptionItem(data[scopeObject.key],data[scopeObject.value]))},instance.extendContentMethods=function(functionOptions){var contentTypeObject=null!==functionOptions.contentType&&void 0!==functionOptions.contentType?functionOptions.contentType:null!==options.contentType&&void 0!==options.contentType?options.contentType:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()?instance.getObserverInterface().getContentTypeObject():null;return null!=contentTypeObject&&(void 0===Object.getPrototypeOf(contentTypeObject).get&&(Object.getPrototypeOf(contentTypeObject).get=function(name){return"function"==typeof this[name]?this[name]():this[name]}),void 0===Object.getPrototypeOf(contentTypeObject).getKey&&(Object.getPrototypeOf(contentTypeObject).getKey=function(){if(null!==this._datakey&&void 0!==this._datakey)return this._datakey}),void 0===Object.getPrototypeOf(contentTypeObject).newObject&&(Object.getPrototypeOf(contentTypeObject).newObject=function(data){return new(Object.getPrototypeOf(contentTypeObject).constructor)(data)})),contentTypeObject},instance.ContentType=instance.extendContentMethods({}),options.contentType=instance.ContentType,null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(null!==instance.getObserverInterface().getContentTypeObjectPrototype()&&void 0!==instance.getObserverInterface().getContentTypeObjectPrototype()&&(void 0===instance.getObserverInterface().getContentTypeObjectPrototype().get&&(instance.getObserverInterface().getContentTypeObjectPrototype().get=function(name){return"function"==typeof this[name]?this[name]():this[name]}),void 0===instance.getObserverInterface().getContentTypeObjectPrototype().getKey&&(instance.getObserverInterface().getContentTypeObjectPrototype().getKey=function(){if(null!==this._datakey&&void 0!==this._datakey)return this._datakey}),void 0===instance.getObserverInterface().getContentTypeObjectPrototype().newObject&&(instance.getObserverInterface().getContentTypeObjectPrototype().newObject=function(data){return new(instance.getObserverInterface().getContentTypeObjectPrototype().constructor)(data)})),instance.getObserverInterface().getView=function(){return instance},instance.getObserverInterface().getViewType=function(options){return instance.getType()},instance.getObserverInterface().getReferentialViews=function(){return instance.getReferentialViews()},instance.getObserverInterface().getReferentialView=function(key){return instance.getReferentialView(key)},instance.getObserverInterface().read=function(key){instance.read(key)},instance.getObserverInterface().load=function(options){instance.load(options)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().getView=function(){return instance},instance.getObserverObject().getViewType=function(options){return instance.getType()},instance.getObserverObject().getReferentialViews=function(){return instance.getReferentialViews()},instance.getObserverObject().getReferentialView=function(key){return instance.getReferentialView(key)},instance.getObserverObject().read=function(key){instance.read(key)},instance.getObserverObject().load=function(options){instance.load(options)}),instance.notify=function(eventData){$(instance).trigger(eventData.event,eventData)},instance.presentErrors=function(event,eventData){eventData.event="errors.before.rendering.view.CRUD.WindnTrees",instance.notify(eventData),null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(null!==eventData.data.messageType&&void 0!==eventData.data.messageType&&"brief"===eventData.data.messageType?instance.getObserverInterface().displayFailed():(instance.getObserverInterface().displayClearActivity(),instance.getObserverInterface().setErrors(instance.getErrors()))),eventData.event="errors.after.rendering.view.CRUD.WindnTrees",instance.notify(eventData)},instance.presentRecord=function(event,eventData){eventData.event="record.before.rendering.view.CRUD.WindnTrees",instance.notify(eventData),null!=eventData&&null!==eventData.code&&void 0!==eventData.code&&0<eventData.code.length&&(instance.setAuthorizationCode(eventData.code),null!==eventData.data.codeField&&void 0!==eventData.data.codeField?$("[name="+eventData.data.codeField+"]").val(eventData.code):$("[name=__RequestVerificationToken]").val(eventData.code)),null!==eventData.data.callback&&void 0!==eventData.data.callback?(eventData.observerType="callback",eventData.data.callback(eventData.result)):(null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(eventData.observerType=instance.getObserverInterface().getType(),"ObjectObserver"===instance.getObserverInterface().getType()||"ObjectKNObserver"===instance.getObserverInterface().getType()?(null!==eventData.data.messageType&&void 0!==eventData.data.messageType&&"brief"===eventData.data.messageType?instance.getObserverInterface().displaySaved():(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().displayFormSuccessActivity()),instance.getObserverInterface().setObject(eventData.result),null!==eventData.data&&void 0!==eventData.data&&null!==eventData.data.updateInputObject&&void 0!==eventData.data.updateInputObject?eventData.data.updateInputObject&&(null!==eventData.result&&void 0!==eventData.result?instance.getObserverObject().InputObject(eventData.result):instance.getObserverInterface().displayFormNoRecordActivity()):null!==eventData.result&&void 0!==eventData.result?instance.getObserverObject().InputObject(eventData.result):instance.getObserverInterface().displayFormNoRecordActivity()):null!==eventData.result&&void 0!==eventData.result?instance.getObserverObject().InputObject(eventData.result):instance.getObserverInterface().displayFormNoRecordActivity()),eventData.event="record.after.rendering.view.CRUD.WindnTrees",instance.notify(eventData))},instance.presentFailRequest=function(event,eventData){null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(null!==eventData.data.messageType&&void 0!==eventData.data.messageType&&"brief"===eventData.data.messageType?instance.getObserverInterface().displayFailed():instance.getObserverInterface().displayFailureActivity())},instance.subscribeCRUDProcessorEvent=function(event,callback){$(instance.getCRUDProcessor()).on(event,callback)},instance.unSubscribeCRUDProcessorEvent=function(event,callback){$(instance.getCRUDProcessor()).off(event,callback)},instance.subscribeEvent=function(event,callback){$(instance).on(event,callback)},instance.unSubscribeEvent=function(event,callback){$(instance).off(event,callback)},instance.subscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},instance.unSubscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},null!==options.events&&void 0!==options.events?options.events&&instance.subscribeEvents():instance.subscribeEvents(),instance.displayProgress=function(event,eventData){null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&null!=eventData&&null!==eventData.result&&void 0!==eventData.result&&(instance.getObserverInterface().setRequestProgress(eventData.result),instance.getObserverInterface().setFormResultMessage(eventData.result+"%"))},null!==options.progressEvent&&void 0!==options.progressEvent&&options.progressEvent&&instance.getCRUDProcessor().subscribeCRUDControllerEvent("progress.request.CRUD.WindnTrees",instance.displayProgress),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function CRUDView(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var extOptions=Object.create(options);return extOptions.instance=instance,extOptions.events=!1,(instance=SearchView(extOptions)).getType=function(){return"CRUDView"},instance.formatContent=function(options){var content=null!==options.content&&void 0!==options.content?options.content:instance.getObserverInterface().getFormObject();if(null!==options.TimeFields&&void 0!==options.TimeFields){if(Array.isArray(options.TimeFields))for(var i=0;i<options.TimeFields.length;i++)"function"==typeof content[options.TimeFields[i]]?null!==content[options.TimeFields[i]]()&&void 0!==content[options.TimeFields[i]]()&&content[options.TimeFields[i]](moment("function"==typeof content[options.TimeFields[i]]?content[options.TimeFields[i]]():content[options.TimeFields[i]]).format("YYYY-MM-DD HH:mm:ss")):null!==content[options.TimeFields[i]]&&void 0!==content[options.TimeFields[i]]&&(content[options.TimeFields[i]]=moment("function"==typeof content[options.TimeFields[i]]?content[options.TimeFields[i]]():content[options.TimeFields[i]]).format("YYYY-MM-DD HH:mm:ss"));else null!==content[options.TimeFields]&&void 0!==content[options.TimeFields]&&(content[options.TimeFields]=moment("function"==typeof content[options.TimeFields]?content[options.TimeFields]():content[options.TimeFields]).format("YYYY-MM-DD HH:mm:ss"));content=instance.getObserverInterface().getStringifiedObject(content)}else content=null===options.content||void 0===options.content?instance.getObserverInterface().getFormStringifiedObject():instance.getObserverInterface().getStringifiedObject(options.content);if("CreateFileContent"===options.target||"UpdateFileContent"===options.target){var uploadForm=null!==options.form&&void 0!==options.form?options.form:"__uploadform";if(null!==document.forms[uploadForm]&&void 0!==document.forms[uploadForm]&&null!==options.TimeFields&&void 0!==options.TimeFields)if(Array.isArray(options.TimeFields))for(i=0;i<options.TimeFields.length;i++)null!==document.forms[uploadForm][options.TimeFields[i]]&&void 0!==document.forms[uploadForm][options.TimeFields[i]]&&null!==document.forms[uploadForm][options.TimeFields[i]].value&&void 0!==document.forms[uploadForm][options.TimeFields[i]].value&&(document.forms[uploadForm][options.TimeFields[i]].value=moment(document.forms[uploadForm][options.TimeFields[i]].value).format("YYYY-MM-DD HH:mm:ss"));else document.forms[uploadForm][options.TimeFields].value=moment(document.forms[uploadForm][options.TimeFields].value).format("YYYY-MM-DD HH:mm:ss")}return content},instance.evaluateOption=function(field){var formObject=instance.getObserverInterface().getFormObject();return null!=formObject&&null!==formObject[field]&&void 0!==formObject[field]&&(field="function"==typeof formObject[field]?formObject[field]():formObject[field]),field},instance.create=function(options){(options=null==options?{}:options).action="create",options.content=instance.formatContent(options),options.validate=null===options.validate||void 0===options.validate||options.validate,options.placement=null===options.placement||void 0===options.placement?"first":options.placement,instance.createOrUpdateOrDelete(options)},instance.update=function(options){(options=null==options?{}:options).action="update",options.content=instance.formatContent(options),instance.createOrUpdateOrDelete(options)},instance.delete=function(options){if((options=null==options?{}:options).action="delete",null!==options.content&&void 0!==options.content)try{"DetailKNObserver"!==options.content.getType()&&"DetailObserver"!==options.content.getType()||(options.content=options.content.getRecord())}catch(e){}options.content=instance.formatContent(options),instance.createOrUpdateOrDelete(options)},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().create=function(options){instance.create(options)},instance.getObserverInterface().update=function(options){instance.update(options)},instance.getObserverInterface().delete=function(record){null===record.content||void 0===record.content?instance.delete({content:record}):instance.delete(record)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().create=function(options){instance.create(options)},instance.getObserverObject().update=function(options){instance.update(options)},instance.getObserverObject().delete=function(record){null===record.content||void 0===record.content?instance.delete({content:record}):instance.delete(record)}),null!==options.events&&void 0!==options.events?options.events&&instance.subscribeEvents():instance.subscribeEvents(),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function EditView(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var extOptions=Object.create(options);return extOptions.instance=instance,(instance=ObjectView(extOptions)).getType=function(){return"EditView"},instance.update=function(options){(options=null==options?{}:options).action="update",options.content=instance.formatContent(options),instance.createOrUpdateOrDelete(options)},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().update=function(options){instance.update(options)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().update=function(options){instance.update(options)},instance.getObserverObject().getViewType=function(options){return instance.getType()}),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function NewView(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var extOptions=Object.create(options);return extOptions.instance=instance,(instance=ObjectView(extOptions)).getType=function(){return"NewView"},instance.create=function(options){(options=null==options?{}:options).action="create",options.content=instance.formatContent(options),options.validate=null===options.validate||void 0===options.validate||options.validate,options.placement=null===options.placement||void 0===options.placement?"first":options.placement,instance.createOrUpdateOrDelete(options)},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().create=function(options){instance.create(options)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().create=function(options){instance.create(options)}),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function SearchList(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;return null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options})),null!==options.view&&void 0!==options.view&&(instance=Object.create(options.view)).unSubscribeEvents(),instance.SubListViews=null!==options.sublistviews&&void 0!==options.sublistviews?options.sublistviews:[],instance.LoadState=!0,instance.getType=function(){return"CRUDView"===options.view.getType()?"CRUDList":"SearchView"===options.view.getType()?"SearchList":void 0},instance.getSubListViews=function(){return instance.SubListViews},instance.create=function(options){var listView=null,subViews=[];null!==instance.SubListViews&&void 0!==instance.SubListViews&&0<instance.SubListViews.length&&(listView=instance.SubListViews[0],1<instance.SubListViews.length&&(subViews=instance.SubListViews.slice(1,instance.SubListViews.length)));var newObserver=listView.getObserverInterface().newInstance(),newOptions={key:listView.Key,uri:listView.URI,observer:newObserver},detailObserver=new DetailObserver({record:instance.getObserverInterface().getFormStringifiedObject(),detail:new SearchList({view:listView.newInstance(newOptions),sublistviews:subViews})});null==options?options={detailEntity:detailObserver}:options.detailEntity=detailObserver,Object.getPrototypeOf(instance).create(options)},instance.addDetailItem=function(options){var parentObserverObject=instance.getObserverInterface().getSharedObject(),selectedRecord=parentObserverObject.getSelectedRecord(),newDetailRecord=instance.getObserverInterface().getContentTypeObject().newObject(instance.getObserverInterface().getFormJSONObject()),subitems=selectedRecord.get(options.subitems);null!=subitems&&Array.isArray(subitems)&&(null!==options.order&&void 0!==options.order?"first"===options.order?subitems.splice(0,0,newDetailRecord):subitems.push(newDetailRecord):subitems.splice(0,0,newDetailRecord)),selectedRecord[options.subitems](subitems),parentObserverObject.update({content:selectedRecord,validate:!0,resetForm:!1,refObject:instance.getObserverObject(),refActions:["resetForm","displayFormSuccessActivity"]})},instance.unload=function(){instance.getObserverInterface().setRecords([]),instance.getObserverInterface().displayClearActivity()},instance.loadDetail=function(options){if(null!==options.index&&void 0!==options.index){var recordIndex=0;recordIndex="function"==typeof options.index?options.index():options.index,instance.getObserverInterface().getRecords()[recordIndex].getDetail().load(options)}},instance.unloadDetail=function(options){if(null!==options.index&&void 0!==options.index){var recordIndex=0;recordIndex="function"==typeof options.index?options.index():options.index,instance.getObserverInterface().getRecords()[recordIndex].getDetail().unload()}},instance.toggleDetail=function(options){if(null!==options.index&&void 0!==options.index){var recordIndex=0;recordIndex="function"==typeof options.index?options.index():options.index;var detailRecord=instance.getObserverInterface().getRecords()[recordIndex];null!==options.index&&void 0!==options.index&&instance.getObserverInterface().selectRecord({index:options.index}),detailRecord.getDetail().LoadState?(options.keyword=instance.getObserverInterface().getKeyword(),detailRecord.getDetail().list(options)):detailRecord.getDetail().unload(),detailRecord.getDetail().LoadState=!detailRecord.getDetail().LoadState}},instance.getRecordDetailList=function(records){var recordLists=[],listView=null,subViews=[];if(null!==instance.SubListViews&&void 0!==instance.SubListViews&&0<instance.SubListViews.length&&(listView=instance.SubListViews[0],1<instance.SubListViews.length&&(subViews=instance.SubListViews.slice(1,instance.SubListViews.length))),null!=records)for(var i=0;i<records.length;i++){var newObserver=listView.getObserverInterface().newInstance(),newOptions={key:listView.Key,uri:listView.URI,observer:newObserver,contextpath:listView.CRUDContextPath},detailListObject=new SearchList({view:listView.newInstance(newOptions),sublistviews:subViews});recordLists[i]=new DetailObserver({record:records[i],detail:detailListObject})}return recordLists},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().getView=function(){return instance},instance.getObserverInterface().getSubListViews=function(){return instance.getSubListViews()},instance.getObserverInterface().create=function(options){instance.create(options)},instance.getObserverInterface().addDetailItem=function(options){instance.addDetailItem(options)},instance.getObserverInterface().list=function(page,fill){instance.list(page,fill)},instance.getObserverInterface().loadDetail=function(options){instance.loadDetail(options)},instance.getObserverInterface().unloadDetail=function(options){instance.unloadDetail(options)},instance.getObserverInterface().toggleDetail=function(options){instance.toggleDetail(options)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().getView=function(){return instance},instance.getObserverObject().getSubListViews=function(){return instance.getSubListViews()},instance.getObserverObject().create=function(options){instance.create(options)},instance.getObserverObject().addDetailItem=function(options){instance.addDetailItem(options)},instance.getObserverObject().list=function(page,fill){instance.list(page,fill)},instance.getObserverObject().loadDetail=function(options){instance.loadDetail(options)},instance.getObserverObject().unloadDetail=function(options){instance.unloadDetail(options)},instance.getObserverObject().toggleDetail=function(options){instance.toggleDetail(options)}),instance.presentErrors=function(event,eventData){null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):(instance.getObserverInterface().displayClearActivity(),instance.getObserverInterface().setErrors(instance.getErrors()))},instance.presentRecords=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{if(instance.getObserverInterface().displayProcessing(!1),instance.getObserverInterface().displaySuccessActivity(),null!==eventData.data.fill&&void 0!==eventData.data.fill)if("continue"===eventData.data.fill){var currentList=instance.getObserverInterface().getCurrentList(),existingRecords=instance.getObserverInterface().getRecords(),newRecords=instance.getRecordDetailList(eventData.result);if(eventData.data.page<=currentList){var listSize=instance.getObserverInterface().getListSize(),listCount=instance.getObserverInterface().getRecords().length,startIndex=listSize*(eventData.data.page-1),deleteCount=listCount-(startIndex=startIndex<0?0:startIndex);deleteCount=deleteCount<0?0:deleteCount,existingRecords.splice(startIndex,deleteCount)}for(var i=0;i<newRecords.length;i++)existingRecords.push(newRecords[i]);instance.getObserverInterface().setRecords(existingRecords)}else instance.getObserverInterface().setRecords(instance.getRecordDetailList(eventData.result));else instance.getObserverInterface().setRecords(instance.getRecordDetailList(eventData.result));instance.getObserverInterface().composeNavigator({currentList:eventData.data.page,responseData:instance.getCRUDProcessor().responseData()})}},instance.presentFailRequest=function(event,eventData){null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):instance.getObserverInterface().displayFailureActivity()},null!==options.events&&void 0!==options.events?options.events&&instance.subscribeEvents(instance):instance.subscribeEvents(instance),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function SearchView(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var extOptions=Object.create(options);return extOptions.instance=instance,extOptions.events=!1,(instance=ObjectView(extOptions)).getType=function(){return"SearchView"},instance.clearRecords=function(){null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&("ListObserver"===instance.getObserverInterface().getType()||"ListKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().clearList(),instance.getObserverInterface().displayProcessing(!1)):(instance.getObserverInterface().clearListRecordsView(),instance.getObserverInterface().displayProcessing(!1),instance.getObserverInterface().fillListRecordsView({page:1,responseData:null,records:instance.getObserverInterface().getRecords(),immediateRecords:!0})))},instance.list=function(options,fill){var _keyword=null;if(null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayProcessingActivity(),_keyword=instance.getObserverInterface().getKeyword()),"object"==typeof options){var _options=Object.create(options);null!==options.contentType&&void 0!==options.contentType&&(_options.contentType=instance.extendContentMethods(_options)),_options.scopeObject=options.scopeObject,_options.key=null!==options.key&&void 0!==options.key?options.key:instance.getObjectKey(),_options.uri=null!==options.uri&&void 0!==options.uri?options.uri:instance.URI,_options.keyword=null!==options.keyword&&void 0!==options.keyword?options.keyword:_keyword,_options.fill=fill,instance.getCRUDProcessor().list(_options)}else instance.getCRUDProcessor().list({uri:instance.URI,key:instance.getObjectKey(),keyword:instance.getObserverInterface().getKeyword(),size:instance.getObserverInterface().getListSize(),page:options,fill:fill})},instance.load=function(options,fill){instance.LoadFields(options),instance.list(1,fill)},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().clearRecords=function(){instance.clearRecords()},instance.getObserverInterface().list=function(page){instance.list(page)},instance.getObserverInterface().load=function(options,fill){instance.load(options,fill)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().clearRecords=function(){instance.clearRecords()},instance.getObserverObject().list=function(page){instance.list(page)},instance.getObserverObject().load=function(options,fill){instance.load(options,fill)}),instance.presentErrors=function(event,eventData){eventData.event="errors.before.rendering.view.CRUD.WindnTrees",instance.notify(eventData),null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayClearActivity(),instance.getObserverInterface().setErrors(instance.getErrors())),eventData.event="errors.after.rendering.view.CRUD.WindnTrees",instance.notify(eventData)},instance.presentRecord=function(event,eventData){if(eventData.event="record.before.rendering.view.CRUD.WindnTrees",instance.notify(eventData),null!=eventData&&null!==eventData.code&&void 0!==eventData.code&&0<eventData.code.length&&(instance.setAuthorizationCode(eventData.code),null!==eventData.data.codeField&&void 0!==eventData.data.codeField?$("[name="+eventData.data.codeField+"]").val(eventData.code):$("[name=__RequestVerificationToken]").val(eventData.code)),null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.observerType="callback",eventData.data.callback(eventData.result);else{if("read"===eventData.request)return void(null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(eventData.observerType=instance.getObserverInterface().getType(),instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().displayFormSuccessActivity(),instance.getObserverInterface().setRecord(eventData.result),"CRUDObserver"!==instance.getObserverInterface().getType()&&"CRUDKNObserver"!==instance.getObserverInterface().getType()||(null!==eventData.result&&void 0!==eventData.result?instance.getObserverInterface().setFormObject(eventData.result):instance.getObserverInterface().displayFormNoRecordActivity())));if(null!==eventData.data&&void 0!==eventData.data&&null!==eventData.data.detailEntity&&void 0!==eventData.data.detailEntity){eventData.entityType="detailEntity";var detailEntity=eventData.data.detailEntity;return detailEntity.setRecord(eventData.result),void(null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(null!==eventData.data.messageType&&void 0!==eventData.data.messageType&&"brief"===eventData.data.messageType?instance.getObserverInterface().displaySaved():(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().displayFormSuccessActivity()),eventData.observerType=instance.getObserverInterface().getType(),instance.getObserverInterface().updateView({requestData:eventData.data,resetForm:eventData.data.resetForm,refObject:eventData.data.refObject,refActions:eventData.data.refActions,refInputs:eventData.data.refInputs,action:eventData.request,resultRecord:detailEntity,placement:null!==options.placement&&void 0!==options.placement?options.placement:"first"})))}if(null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()){null!==eventData.data.messageType&&void 0!==eventData.data.messageType&&"brief"===eventData.data.messageType?instance.getObserverInterface().displaySaved():(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().displayFormSuccessActivity()),eventData.observerType=instance.getObserverInterface().getType();var record=eventData.result;instance.getObserverInterface().updateView({requestData:eventData.data,resetForm:eventData.data.resetForm,refObject:eventData.data.refObject,refActions:eventData.data.refActions,refInputs:eventData.data.refInputs,action:eventData.request,resultRecord:record,placement:null!==options.placement&&void 0!==options.placement?options.placement:"first"})}}eventData.event="record.after.rendering.view.CRUD.WindnTrees",instance.notify(eventData)},instance.presentRecords=function(event,eventData){eventData.event="records.before.rendering.view.CRUD.WindnTrees",instance.notify(eventData),null!=eventData&&null!==eventData.code&&void 0!==eventData.code&&0<eventData.code.length&&(instance.setAuthorizationCode(eventData.code),null!==eventData.data.codeField&&void 0!==eventData.data.codeField?$("[name="+eventData.data.codeField+"]").val(eventData.code):$("[name=__RequestVerificationToken]").val(eventData.code));var listNumber=1,listSize=10;if(null!==eventData.data.page&&void 0!==eventData.data.page?listNumber=eventData.data.page:null!==eventData.data.query&&void 0!==eventData.data.query&&(null!==eventData.data.query.page&&void 0!==eventData.data.query.page&&(listNumber=eventData.data.query.page),null!==eventData.data.query.size&&void 0!==eventData.data.query.size&&(listSize=eventData.data.query.size)),null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.observerType="callback",eventData.data.callback(eventData.result);else if(null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()){eventData.observerType=instance.getObserverInterface().getType();var records=eventData.result;if("ListObserver"===instance.getObserverInterface().getType()||"ListKNObserver"===instance.getObserverInterface().getType())instance.getObserverInterface().fillList({objects:records});else if(null!==eventData.data.messageType&&void 0!==eventData.data.messageType&&"brief"===eventData.data.messageType?instance.getObserverInterface().displaySaved():(instance.getObserverInterface().displayProcessing(!1),instance.getObserverInterface().displaySuccessActivity()),null!==eventData.data.fill&&void 0!==eventData.data.fill)if("continue"===eventData.data.fill){var currentList=instance.getObserverInterface().getCurrentList(),existingRecords=instance.getObserverInterface().getRecords(),newRecords=eventData.result;if(eventData.data.page<=currentList){listSize=instance.getObserverInterface().getListSize();var listCount=instance.getObserverInterface().getRecords().length,startIndex=listSize*(eventData.data.page-1),deleteCount=listCount-(startIndex=startIndex<0?0:startIndex);deleteCount=deleteCount<0?0:deleteCount,existingRecords.splice(startIndex,deleteCount)}for(var i=0;i<newRecords.length;i++)existingRecords.push(newRecords[i]);instance.getObserverInterface().fillListRecordsView({page:listNumber,responseData:instance.getCRUDProcessor().responseData(),records:existingRecords,fill:"continue",messageType:eventData.data.messageType})}else instance.getObserverInterface().fillListRecordsView({page:listNumber,responseData:instance.getCRUDProcessor().responseData(),records:records,messageType:eventData.data.messageType});else instance.getObserverInterface().fillListRecordsView({page:listNumber,responseData:instance.getCRUDProcessor().responseData(),records:records,messageType:eventData.data.messageType})}eventData.event="records.after.rendering.view.CRUD.WindnTrees",instance.notify(eventData)},instance.presentFailRequest=function(event,eventData){null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(null!==eventData.data.messageType&&void 0!==eventData.data.messageType&&"brief"===eventData.data.messageType?instance.getObserverInterface().displayFailed():instance.getObserverInterface().displayFailureActivity())},instance.subscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).on("records.processor.CRUD.WindnTrees",eventsInstance.presentRecords),$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},instance.unSubscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).off("records.processor.CRUD.WindnTrees",eventsInstance.presentRecords),$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},null!==options.events&&void 0!==options.events?options.events&&instance.subscribeEvents():instance.subscribeEvents(),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function AVView(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var extOptions=Object.create(options);return extOptions.instance=instance,extOptions.events=!1,(instance=ImageView(extOptions)).VideoSrc=options.videosrc,instance.CrossOrigin=options.crossorigin,instance.Poster=options.poster,instance.Preload=options.preload,instance.Autoplay=options.autoplay,instance.MediaGroup=options.mediagroup,instance.Loop=options.loop,instance.Muted=options.muted,instance.Controls=options.controls,instance.VideoWidth=options.videowidth,instance.VideoHeight=options.videoheight,instance.getType=function(){return"AVView"},instance.getVideoSrc=function(){return instance.VideoSrc},instance.setVideoSrc=function(value){instance.VideoSrc=value},instance.getCrossOrigin=function(){return instance.CrossOrigin},instance.setCrossOrigin=function(value){instance.CrossOrigin=value},instance.getPoster=function(){return instance.Poster},instance.setPoster=function(value){instance.Poster=value},instance.getPreload=function(){return instance.Preload},instance.setPreload=function(value){instance.Preload=value},instance.getAutoplay=function(){return instance.Autoplay},instance.setAutoplay=function(value){instance.Autoplay=value},instance.getMediaGroup=function(){return instance.MediaGroup},instance.setMediaGroup=function(value){instance.MediaGroup=value},instance.getLoop=function(){return instance.Loop},instance.setLoop=function(value){instance.Loop=value},instance.getMuted=function(){return instance.Muted},instance.setMuted=function(value){instance.Muted=value},instance.getControls=function(){return instance.Controls},instance.setControls=function(value){instance.Controls=value},instance.getVideoWidth=function(){return instance.VideoWidth},instance.setVideoWidth=function(value){instance.VideoWidth=value},instance.getVideoHeight=function(){return instance.VideoHeight},instance.setVideoHeight=function(value){instance.VideoHeight=value},instance.presentView=function(options){var htmlFormat=instance.HTML;return null!=options&&(null!==options.html&&void 0!==options.html?htmlFormat=options.html:null!==options.link&&void 0!==options.link&&options.link&&(htmlFormat="<a href='urlValue' title='urlTitleValue'><img alt='imageTitleValue' class='cssValue' src='imagePathValue' /></a><p>imageNameValue</p><p><video src='videoSrcValue' autoplay controls></video></p>")),htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=htmlFormat.replace(/cssValue/gi,Util().extractValue(instance.CSS,Util().extractValue(instance.newOptions().css,"")))).replace(/urlValue/gi,Util().extractValue(instance.URL,Util().extractValue(instance.newOptions().url,"")))).replace(/urlTitleValue/gi,Util().extractValue(instance.URLTitle,Util().extractValue(instance.newOptions().urltitle,"")))).replace(/subjectValue/gi,Util().extractValue(instance.Subject,Util().extractValue(instance.newOptions().subject,"")))).replace(/descriptionValue/gi,Util().extractValue(instance.Description,Util().extractValue(instance.newOptions().description,"")))).replace(/imageNameValue/gi,Util().extractValue(instance.ImageName,Util().extractValue(instance.newOptions().imagename,"")))).replace(/imagePathValue/gi,Util().extractValue(instance.ImagePath,Util().extractValue(instance.newOptions().imagepath,"")))).replace(/imageTitleValue/gi,Util().extractValue(instance.ImageTitle,Util().extractValue(instance.newOptions().imagetitle,"")))).replace(/imageWidthValue/gi,null!==instance.ImageWidth&&void 0!==instance.ImageWidth?0<instance.ImageWidth?"width='"+instance.ImageWidth+"'":"":Util().extractValue(instance.newOptions().imagewidth,""))).replace(/imageHeightValue/gi,null!==instance.ImageHeight&&void 0!==instance.ImageHeight?0<instance.ImageHeight?"height='"+instance.ImageHeight+"'":"":Util().extractValue(instance.newOptions().imageheight,""))).replace(/videoSrcValue/gi,null!==instance.VideoSrc&&void 0!==instance.VideoSrc?"src='"+instance.VideoSrc+"'":Util().extractValue(instance.newOptions().videosrc,""))).replace(/crossOriginValue/gi,null!==instance.CrossOrigin&&void 0!==instance.CrossOrigin?"crossorigin='"+instance.CrossOrigin+"'":Util().extractValue(instance.newOptions().crossorigin,""))).replace(/posterValue/gi,null!==instance.Poster&&void 0!==instance.Poster?"poster='"+instance.Poster+"'":Util().extractValue(instance.newOptions().poster,""))).replace(/preloadValue/gi,Util().extractValue(instance.Preload,Util().extractValue(instance.newOptions().preload,"")))).replace(/autoplayValue/gi,Util().extractValue(instance.Autoplay,Util().extractValue(instance.newOptions().autoplay,"")))).replace(/mediaGroupValue/gi,null!==instance.MediaGroup&&void 0!==instance.MediaGroup?"mediagroup='"+instance.MediaGroup+"'":Util().extractValue(instance.newOptions().mediagroup,""))).replace(/loopValue/gi,Util().extractValue(instance.Loop,Util().extractValue(instance.newOptions().loop,"")))).replace(/mutedValue/gi,Util().extractValue(instance.Muted,Util().extractValue(instance.newOptions().muted,"")))).replace(/controlsValue/gi,Util().extractValue(instance.Controls,Util().extractValue(instance.newOptions().controls,"")))).replace(/videoWidthValue/gi,null!==instance.VideoWidth&&void 0!==instance.VideoWidth?0<instance.VideoWidth?"width='"+instance.VideoWidth+"'":"":Util().extractValue(instance.newOptions().videowidth,""))).replace(/videoHeightValue/gi,null!==instance.VideoHeight&&void 0!==instance.VideoHeight?0<instance.VideoHeight?"height='"+instance.VideoHeight+"'":"":Util().extractValue(instance.newOptions().videoheight,""))},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().getVideoSrc=function(){return instance.getVideoSrc()},instance.getObserverInterface().setVideoSrc=function(value){instance.setVideoSrc(value)},instance.getObserverInterface().getCrossOrigin=function(){return instance.getCrossOrigin()},instance.getObserverInterface().setCrossOrigin=function(value){instance.setCrossOrigin(value)},instance.getObserverInterface().getPoster=function(){return instance.getPoster()},instance.getObserverInterface().setPoster=function(value){instance.setPoster(value)},instance.getObserverInterface().getPreload=function(){return instance.getPreload()},instance.getObserverInterface().setPreload=function(value){instance.setPreload(value)},instance.getObserverInterface().getAutoplay=function(){return instance.getAutoplay()},instance.getObserverInterface().setAutoplay=function(value){instance.setAutoplay(value)},instance.getObserverInterface().getMediaGroup=function(){return instance.getMediaGroup()},instance.getObserverInterface().setMediaGroup=function(value){instance.setMediaGroup(value)},instance.getObserverInterface().getLoop=function(){return instance.getLoop()},instance.getObserverInterface().setLoop=function(value){instance.setLoop(value)},instance.getObserverInterface().getMuted=function(){return instance.getMuted()},instance.getObserverInterface().setMuted=function(value){instance.setMuted(value)},instance.getObserverInterface().getControls=function(){return instance.getControls()},instance.getObserverInterface().setControls=function(value){instance.setControls(value)},instance.getObserverInterface().getWidth=function(){return instance.getWidth()},instance.getObserverInterface().setWidth=function(value){instance.setWidth(value)},instance.getObserverInterface().getHeight=function(){return instance.getHeight()},instance.getObserverInterface().setHeight=function(value){instance.setHeight(value)},instance.getObserverInterface().presentView=function(options){instance.presentView(options)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().getVideoSrc=function(){return instance.getVideoSrc()},instance.getObserverObject().setVideoSrc=function(value){instance.setVideoSrc(value)},instance.getObserverObject().getCrossOrigin=function(){return instance.getCrossOrigin()},instance.getObserverObject().setCrossOrigin=function(value){instance.setCrossOrigin(value)},instance.getObserverObject().getPoster=function(){return instance.getPoster()},instance.getObserverObject().setPoster=function(value){instance.setPoster(value)},instance.getObserverObject().getPreload=function(){return instance.getPreload()},instance.getObserverObject().setPreload=function(value){instance.setPreload(value)},instance.getObserverObject().getAutoplay=function(){return instance.getAutoplay()},instance.getObserverObject().setAutoplay=function(value){instance.setAutoplay(value)},instance.getObserverObject().getMediaGroup=function(){return instance.getMediaGroup()},instance.getObserverObject().setMediaGroup=function(value){instance.setMediaGroup(value)},instance.getObserverObject().getLoop=function(){return instance.getLoop()},instance.getObserverObject().setLoop=function(value){instance.setLoop(value)},instance.getObserverObject().getMuted=function(){return instance.getMuted()},instance.getObserverObject().setMuted=function(value){instance.setMuted(value)},instance.getObserverObject().getControls=function(){return instance.getControls()},instance.getObserverObject().setControls=function(value){instance.setControls(value)},instance.getObserverObject().getWidth=function(){return instance.getWidth()},instance.getObserverObject().setWidth=function(value){instance.setWidth(value)},instance.getObserverObject().getHeight=function(){return instance.getHeight()},instance.getObserverObject().setHeight=function(value){instance.setHeight(value)},instance.getObserverObject().presentView=function(options){instance.presentView(options)}),instance.presentErrors=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";if(null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode||null!==instance.contenNode&&void 0!==instance.contenNode){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++)htmlErrorOutput+=instance.getErrors()[i]+". "}null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayClearActivity(),instance.getObserverInterface().setErrors(instance.getErrors()))}},instance.presentRecord=function(event,eventData){null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):(instance.Subject=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().subjectf,"subject")],instance.newOptions().subject),instance.Description=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().descriptionf,"description")],instance.newOptions().description),instance.URL=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urlf,"url")],instance.newOptions().url),instance.URLTitle=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urltitlef,"urltitle")],instance.newOptions().urltitle),instance.HTML=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().htmlf,"html")],instance.newOptions().html),instance.CSS=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().cssf,"css")],instance.newOptions().css),instance.ImageName=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagenamef,"imageName")],instance.newOptions().imagename),instance.ImageTitle=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagetitlef,"imageTitle")],instance.newOptions().imagetitle),instance.ImagePath=(null!==instance.newOptions().contextpath&&void 0!==instance.newOptions().contextpath?instance.newOptions().contextpath:"")+Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagepathf,"imagePath")],instance.newOptions().imagepath),instance.ImageWidth=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagewidthf,"imageWidth")],instance.newOptions().imagewidth),instance.ImageHeight=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imageheightf,"imageHeight")],instance.newOptions().imageheight),instance.VideoSrc=(null!==instance.newOptions().contextpath&&void 0!==instance.newOptions().contextpath?instance.newOptions().contextpath:"")+Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().videosrcf,"videoSrc")],instance.newOptions().videosrc),instance.CrossOrigin=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().crossoriginf,"crossOrigin")],instance.newOptions().crossorigin),instance.Poster=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().posterf,"poster")],instance.newOptions().poster),instance.Preload=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().preloadf,"preload")],instance.newOptions().preload),instance.Autoplay=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().autoplayf,"autoplay")],instance.newOptions().autoplay),instance.MediaGroup=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().mediagroupf,"mediaGroup")],instance.newOptions().mediagroup),instance.Loop=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().loopf,"loop")],instance.newOptions().loop),instance.Muted=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().mutedf,"muted")],instance.newOptions().muted),instance.Controls=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().controlsf,"controls")],instance.newOptions().controls),instance.VideoWidth=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().videowidthf,"videoWidth")],instance.newOptions().videowidth),instance.VideoHeight=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().videoheightf,"videoHeight")],instance.newOptions().videoheight),null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHTML=instance.presentView():"ListObserver"===instance.getObserverInterface().getType()||"ListKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().updateItem({object:instance})):null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&("ObjectObserver"===instance.getObserverInterface().getType()||"ObjectKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().setObject({content:instance.presentView()})):instance.getObserverInterface().setRecord({content:instance.presentView()})))},instance.presentFailRequest=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&instance.getObserverInterface().displayFailureActivity()}},instance.subscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},instance.unSubscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},null!==options.events&&void 0!==options.events?options.events&&instance.subscribeEvents():instance.subscribeEvents(),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function ContentList(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var extOptions=Object.create(options);return extOptions.instance=instance,extOptions.events=!1,(instance=ObjectView(extOptions)).getType=function(){return"ContentList"},instance.clearRecords=function(){null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&("ListObserver"!==instance.getObserverInterface().getType()&&"ListKNObserver"!==instance.getObserverInterface().getType()||(instance.getObserverInterface().clearList(),instance.getObserverInterface().displayProcessing(!1)))},instance.list=function(options,fill){var keyword=(options=null!=options?options:{}).keyword;null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayProcessingActivity(),keyword=instance.getObserverInterface().getKeyword()),"object"==typeof options?(options.key=null!==options.key&&void 0!==options.key?options.key:instance.getObjectKey(),options.uri=null!==options.uri&&void 0!==options.uri?options.uri:instance.URI,options.target=null!==options.target&&void 0!==options.target?options.target:"list",options.keyword=keyword,options.method=null!==options.method&&void 0!==options.method?options.method:"POST",options.fill=fill,instance.getCRUDProcessor().list(options)):instance.getCRUDProcessor().list({uri:instance.URI,key:instance.getObjectKey(),keyword:keyword,size:10,page:options,fill:fill})},instance.getRecordComponent=function(record){var component,recordOptions=Object.create(instance.newOptions());return null!==instance.newOptions().subjectf&&void 0!==instance.newOptions().subjectf&&(recordOptions.subject=Util().extractFieldValue(record[instance.newOptions().subjectf],"")),null!==instance.newOptions().descriptionf&&void 0!==instance.newOptions().descriptionf&&(recordOptions.description=Util().extractFieldValue(record[instance.newOptions().descriptionf],"")),null!==instance.newOptions().urlf&&void 0!==instance.newOptions().urlf&&(recordOptions.url=Util().extractFieldValue(record[instance.newOptions().urlf],"")),null!==instance.newOptions().urltitlef&&void 0!==instance.newOptions().urltitlef&&(recordOptions.urltitle=Util().extractFieldValue(record[instance.newOptions().urltitlef],"")),null!==instance.newOptions().textviewhtmlf&&void 0!==instance.newOptions().textviewhtmlf&&(recordOptions.html=Util().extractFieldValue(record[instance.newOptions().textviewhtmlf],"")),null!==instance.newOptions().textviewcssf&&void 0!==instance.newOptions().textviewcssf&&(recordOptions.css=Util().extractFieldValue(record[instance.newOptions().textviewcssf],"")),null!==instance.newOptions().imagenamef&&void 0!==instance.newOptions().imagenamef&&(recordOptions.imagename=Util().extractFieldValue(record[instance.newOptions().imagenamef],"")),null!==instance.newOptions().imagepathf&&void 0!==instance.newOptions().imagepathf&&(recordOptions.imagepath=Util().extractFieldValue(record[instance.newOptions().imagepathf],"")),null!==instance.newOptions().imagetitlef&&void 0!==instance.newOptions().imagetitlef&&(recordOptions.imagetitle=Util().extractFieldValue(record[instance.newOptions().imagetitlef],"")),null!==instance.newOptions().imagewidthf&&void 0!==instance.newOptions().imagewidthf&&(recordOptions.imagewidth=Util().extractFieldValue(record[instance.newOptions().imagewidthf],"")),null!==instance.newOptions().imageheightf&&void 0!==instance.newOptions().imageheightf&&(recordOptions.imageheight=Util().extractFieldValue(record[instance.newOptions().imageheightf],"")),null!==instance.newOptions().imageviewhtmlf&&void 0!==instance.newOptions().imageviewhtmlf&&(recordOptions.html=Util().extractFieldValue(record[instance.newOptions().imageviewhtmlf],"")),null!==instance.newOptions().imageviewcssf&&void 0!==instance.newOptions().imageviewcssf&&(recordOptions.css=Util().extractFieldValue(record[instance.newOptions().imageviewcssf],"")),null!==instance.newOptions().videosrcf&&void 0!==instance.newOptions().videosrcf&&(recordOptions.videosrc=Util().extractFieldValue(record[instance.newOptions().videosrcf],"")),null!==instance.newOptions().crossoriginf&&void 0!==instance.newOptions().crossoriginf&&(recordOptions.crossorigin=Util().extractFieldValue(record[instance.newOptions().crossoriginf],"")),null!==instance.newOptions().posterf&&void 0!==instance.newOptions().posterf&&(recordOptions.poster=Util().extractFieldValue(record[instance.newOptions().posterf],"")),null!==instance.newOptions().preloadf&&void 0!==instance.newOptions().preloadf&&(recordOptions.preload=Util().extractFieldValue(record[instance.newOptions().preloadf],"")),null!==instance.newOptions().autoplayf&&void 0!==instance.newOptions().autoplayf&&(recordOptions.autoplay=Util().extractFieldValue(record[instance.newOptions().autoplayf],"")),null!==instance.newOptions().mediagroupf&&void 0!==instance.newOptions().mediagroupf&&(recordOptions.mediagroup=Util().extractFieldValue(record[instance.newOptions().mediagroupf],"")),null!==instance.newOptions().loopf&&void 0!==instance.newOptions().loopf&&(recordOptions.loop=Util().extractFieldValue(record[instance.newOptions().loopf],"")),null!==instance.newOptions().mutedf&&void 0!==instance.newOptions().mutedf&&(recordOptions.muted=Util().extractFieldValue(record[instance.newOptions().mutedf],"")),null!==instance.newOptions().controlsf&&void 0!==instance.newOptions().controlsf?recordOptions.controls=Util().extractFieldValue(record[instance.newOptions().controlsf],instance.newOptions().controls):null!==instance.newOptions().controls&&void 0!==instance.newOptions().controls&&(recordOptions.controls=instance.newOptions().controls),null!==instance.newOptions().videowidthf&&void 0!==instance.newOptions().videowidthf&&(recordOptions.videowidth=Util().extractFieldValue(record[instance.newOptions().videowidthf],"")),null!==instance.newOptions().videoheightf&&void 0!==instance.newOptions().videoheightf&&(recordOptions.videoheight=Util().extractFieldValue(record[instance.newOptions().videoheightf],"")),null!==instance.newOptions().avviewhtmlf&&void 0!==instance.newOptions().avviewhtmlf&&(recordOptions.html=Util().extractFieldValue(record[instance.newOptions().avviewhtmlf],"")),null!==instance.newOptions().avviewcssf&&void 0!==instance.newOptions().avviewcssf&&(recordOptions.css=Util().extractFieldValue(record[instance.newOptions().avviewcssf],"")),0<recordOptions.subject.length&&(component=new TextView(recordOptions)),0<recordOptions.imagepath.length&&(recordOptions.imagepath=null!==instance.newOptions().contextpath&&void 0!==instance.newOptions().contextpath?instance.newOptions().contextpath+recordOptions.imagepath:recordOptions.imagepath,component=new ImageView(recordOptions)),0<recordOptions.videosrc.length&&(recordOptions.videosrc=null!==instance.newOptions().contextpath&&void 0!==instance.newOptions().contextpath?instance.newOptions().contextpath+recordOptions.videosrc:recordOptions.videosrc,component=new AVView(recordOptions)),component},instance.presentView=function(options){var htmlOutput="",records=[];records=null!=options&&null!==options.records&&void 0!==options.records?options.records:instance.getCRUDProcessor().getRecords();for(var i=0;i<records.length;i++)htmlOutput+=instance.getRecordComponent(records[i]).presentView();return htmlOutput},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().clearRecords=function(){instance.clearRecords()},instance.getObserverInterface().list=function(options){instance.list(options)},instance.getObserverInterface().presentView=function(options){instance.presentView(options)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().clearRecords=function(){instance.clearRecords()},instance.getObserverObject().list=function(options){instance.list(options)},instance.getObserverObject().presentView=function(options){instance.presentView(options)}),instance.presentErrors=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";if(null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode||null!==instance.contenNode&&void 0!==instance.contenNode){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++)htmlErrorOutput+=instance.getErrors()[i]+". "}null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayClearActivity(),instance.getObserverInterface().setErrors(instance.getErrors()))}},instance.presentRecords=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else if(null!==instance.ContentNode&&void 0!==instance.ContentNode)instance.ContentNode.innerHTML=instance.presentView();else if(null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()){var records;"ListObserver"===instance.getObserverInterface().getType()||"ListKNObserver"===instance.getObserverInterface().getType()?null!==instance.getObserverInterface().getListObject().getContentTypeObjectPrototype()&&void 0!==instance.getObserverInterface().getListObject().getContentTypeObjectPrototype()&&(records=instance.getContentTypeObjects({simpleObjects:eventData.result,contentPrototype:instance.getObserverInterface().getListObject().getContentTypeObjectPrototype()})):records=null!==instance.getObserverInterface().getContentTypeObject()&&void 0!==instance.getObserverInterface().getContentTypeObject()?instance.getContentTypeObjects({simpleObjects:eventData.result}):eventData.result,instance.getObserverInterface().clearList();for(var i=0;i<records.length;i++)instance.getObserverInterface().newItem({object:instance.getRecordComponent(records[i])});instance.getObserverInterface().displaySuccessActivity()}},instance.presentFailRequest=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&instance.getObserverInterface().displayFailureActivity()}},instance.subscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).on("records.processor.CRUD.WindnTrees",eventsInstance.presentRecords),$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},instance.unSubscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).off("records.processor.CRUD.WindnTrees",eventsInstance.presentRecords),$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},null!==options.events&&void 0!==options.events?options.events&&instance.subscribeEvents():instance.subscribeEvents(),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function FlexHTML(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var extOptions=Object.create(options);return extOptions.instance=instance,extOptions.events=!1,(instance=ObjectView(extOptions)).Key=options.key,instance.HTMLFormat=options.htmlformat,instance.FlexHTML=options.flexhtml,instance.getType=function(){return"FlexView"},instance.getContentNode=function(){return instance.ContentNode},instance.presentView=function(options){var flexKey=instance.Key,viewHTMLFormat=instance.HTMLFormat,flexHTML=instance.FlexHTML;if(null!==instance.getCRUDProcessor().getRecord()&&void 0!==instance.getCRUDProcessor().getRecord()&&(viewHTMLFormat=(flexHTML=instance.getCRUDProcessor().getRecord()).html,flexKey=flexHTML.key),null!=flexHTML&&null!==flexHTML.items&&void 0!==flexHTML.items)for(var i=0;i<flexHTML.items.length;i++){var flexObject=flexHTML.items[i];if(null!==flexObject.items&&void 0!==flexObject.items){flexObject.items[0];var flexObjectHtml=flexObject.items[1];for(i=2;i<flexObject.items.length;i++){var objectExpValue=new RegExp("a"+i+"_","gi");flexObjectHtml=flexObjectHtml.replace(objectExpValue,Util().extractValue(flexObject.items[i],""))}}var listExpValue=new RegExp("a"+i+"_","gi"),listExpKeyValue=new RegExp("flexkey_","gi");viewHTMLFormat=flexObjectHtml.replace(listExpValue,Util().extractValue(flexObjectHtml,"")),viewHTMLFormat=flexObjectHtml.replace(listExpKeyValue,Util().extractValue(flexKey,""))}return viewHTMLFormat},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().presentView=function(options){instance.presentView(options)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().presentView=function(options){instance.presentView(options)}),instance.presentErrors=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";if(null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode||null!==instance.contenNode&&void 0!==instance.contenNode){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++)htmlErrorOutput+=instance.getErrors()[i]+". "}null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayClearActivity(),instance.getObserverInterface().setErrors(instance.getErrors()))}},instance.presentRecord=function(event,eventData){null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHTML=instance.presentView():null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&("ListObserver"===instance.getObserverInterface().getType()||"ListKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().updateItem({object:instance})):"ObjectObserver"===instance.getObserverInterface().getType()||"ObjectKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().setObject({content:instance.presentView()})):instance.getObserverInterface().setRecord({content:instance.presentView()}))},instance.presentFailRequest=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&instance.getObserverInterface().displayFailureActivity()}},instance.subscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},instance.unSubscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},null!==options.events&&void 0!==options.events?options.events&&instance.subscribeEvents():instance.subscribeEvents(),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function FlexView(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var extOptions=Object.create(options);return extOptions.instance=instance,extOptions.events=!1,(instance=ObjectView(extOptions)).FlexRecord=options.flexrecord,instance.getType=function(){return"FlexView"},instance.getContentNode=function(){return instance.ContentNode},instance.readFlex=function(key){null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&instance.getObserverInterface().displayProcessingActivity(),key=null!=key?key:null!==instance.ObjectKey&&void 0!==instance.ObjectKey?instance.ObjectKey:key,instance.getCRUDProcessor().read({uri:instance.URI,request:null!==options.request&&void 0!==options.request?options.request:"readflex",key:key})},instance.listFlex=function(options,fill){var keyword=(options=null!=options?options:{}).keyword;null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayProcessingActivity(),keyword=instance.getObserverInterface().getKeyword()),"object"==typeof options?(options.key=null!==options.key&&void 0!==options.key?options.key:instance.getObjectKey(),options.uri=null!==options.uri&&void 0!==options.uri?options.uri:instance.URI,options.target=null!==options.target&&void 0!==options.target?options.target:"listflex",options.keyword=keyword,options.method=null!==options.method&&void 0!==options.method?options.method:"POST",options.fill=fill,instance.getCRUDProcessor().list(options)):instance.getCRUDProcessor().list({uri:instance.URI,target:"listflex",key:instance.getObjectKey(),keyword:keyword,size:10,page:options,fill:fill})},instance.presentView=function(options){var htmlFormat="",flexObject=instance.FlexRecord;if(null!==instance.getCRUDProcessor().getRecord()&&void 0!==instance.getCRUDProcessor().getRecord()&&(flexObject=instance.getCRUDProcessor().getRecord()),null!=flexObject){var flexOptions=Object.create(instance.newOptions());flexOptions.flexobject=flexObject,htmlFormat=Util().getFlexOutput(flexOptions)}return htmlFormat},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().readFlex=function(options){instance.readFlex(options)},instance.getObserverInterface().listFlex=function(options){instance.listFlex(options)},instance.getObserverInterface().presentView=function(options){instance.presentView(options)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().readFlex=function(options){instance.readFlex(options)},instance.getObserverObject().listFlex=function(options){instance.listFlex(options)},instance.getObserverObject().presentView=function(options){instance.presentView(options)}),instance.presentErrors=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";if(null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode||null!==instance.contenNode&&void 0!==instance.contenNode){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++)htmlErrorOutput+=instance.getErrors()[i]+". "}null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayClearActivity(),instance.getObserverInterface().setErrors(instance.getErrors()))}},instance.presentRecord=function(event,eventData){null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHTML=instance.presentView():null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&("ListObserver"===instance.getObserverInterface().getType()||"ListKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().updateItem({object:instance})):"ObjectObserver"===instance.getObserverInterface().getType()||"ObjectKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().setObject({content:instance.presentView()})):instance.getObserverInterface().setRecord({content:instance.presentView()}))},instance.presentFailRequest=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&instance.getObserverInterface().displayFailureActivity()}},instance.subscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},instance.unSubscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},null!==options.events&&void 0!==options.events?options.events&&instance.subscribeEvents():instance.subscribeEvents(),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function ImageView(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var extOptions=Object.create(options);return extOptions.instance=instance,extOptions.events=!1,(instance=TextView(extOptions)).ImageName=options.imagename,instance.ImagePath=options.imagepath,instance.ImageTitle=options.imagetitle,instance.ImageWidth=options.imagewidth,instance.ImageHeight=options.imageheight,instance.getType=function(){return"ImageView"},instance.getImageName=function(){return instance.ImageName},instance.setImageName=function(value){instance.ImageName=value},instance.getImagePath=function(){return instance.ImagePath},instance.setImagePath=function(value){instance.ImagePath=value},instance.getImageTitle=function(){return instance.ImageTitle},instance.setImageTitle=function(value){instance.ImageTitle=value},instance.getImageWidth=function(){return instance.ImageWidth},instance.setImageWidth=function(value){instance.ImageWidth=value},instance.getImageHeight=function(){return instance.ImageHeight},instance.setImageHeight=function(value){instance.ImageHeight=value},instance.presentView=function(options){var htmlFormat=instance.HTML;return null!=options&&(null!==options.html&&void 0!==options.html?htmlFormat=options.html:null!==options.link&&void 0!==options.link&&options.link&&(htmlFormat="<a href='urlValue' title='urlTitleValue'><img alt='imageTitleValue' class='cssValue' src='imagePathValue' /></a><p>imageNameValue</p>")),htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=htmlFormat.replace(/cssValue/gi,Util().extractValue(instance.CSS,Util().extractValue(instance.newOptions().css,"")))).replace(/urlValue/gi,Util().extractValue(instance.URL,Util().extractValue(instance.newOptions().url,"")))).replace(/urlTitleValue/gi,Util().extractValue(instance.URLTitle,Util().extractValue(instance.newOptions().urltitle,"")))).replace(/subjectValue/gi,Util().extractValue(instance.Subject,Util().extractValue(instance.newOptions().subject,"")))).replace(/descriptionValue/gi,Util().extractValue(instance.Description,Util().extractValue(instance.newOptions().description,"")))).replace(/imageNameValue/gi,Util().extractValue(instance.ImageName,Util().extractValue(instance.newOptions().imagename,"")))).replace(/imagePathValue/gi,Util().extractValue(instance.ImagePath,Util().extractValue(instance.newOptions().imagepath,"")))).replace(/imageTitleValue/gi,Util().extractValue(instance.ImageTitle,Util().extractValue(instance.newOptions().imagetitle,"")))).replace(/imageWidthValue/gi,null!==instance.ImageWidth&&void 0!==instance.ImageWidth?0<instance.ImageWidth?"width='"+instance.ImageWidth+"'":"":Util().extractValue(instance.newOptions().imagewidth,""))).replace(/imageHeightValue/gi,null!==instance.ImageHeight&&void 0!==instance.ImageHeight?0<instance.ImageHeight?"height='"+instance.ImageHeight+"'":"":Util().extractValue(instance.newOptions().imageheight,""))},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().getImageName=function(){return instance.getImageName()},instance.getObserverInterface().setImageName=function(name){instance.setImageName(name)},instance.getObserverInterface().getImagePath=function(){return instance.getImagePath()},instance.getObserverInterface().setImagePath=function(path){instance.setImagePath(path)},instance.getObserverInterface().getImageTitle=function(){return instance.getImageTitle()},instance.getObserverInterface().setImageTitle=function(title){instance.setImageTitle(title)},instance.getObserverInterface().presentView=function(options){instance.presentView(options)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().getImageName=function(){return instance.getImageName()},instance.getObserverObject().setImageName=function(name){instance.setImageName(name)},instance.getObserverObject().getImagePath=function(){return instance.getImagePath()},instance.getObserverObject().setImagePath=function(path){instance.setImagePath(path)},instance.getObserverObject().getImageTitle=function(){return instance.getImageTitle()},instance.getObserverObject().setImageTitle=function(title){instance.setImageTitle(title)},instance.getObserverObject().presentView=function(options){instance.presentView(options)}),instance.presentErrors=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";if(null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode||null!==instance.contenNode&&void 0!==instance.contenNode){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++)htmlErrorOutput+=instance.getErrors()[i]+". "}null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayClearActivity(),instance.getObserverInterface().setErrors(instance.getErrors()))}},instance.presentRecord=function(event,eventData){null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):(instance.Subject=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().subjectf,"subject")],instance.newOptions().subject),instance.Description=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().descriptionf,"description")],instance.newOptions().description),instance.URL=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urlf,"url")],instance.newOptions().url),instance.URLTitle=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urltitlef,"urltitle")],instance.newOptions().urltitle),instance.HTML=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().htmlf,"html")],instance.newOptions().html),instance.CSS=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().cssf,"css")],instance.newOptions().css),instance.ImageName=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagenamef,"imageName")],instance.newOptions().imagename),instance.ImageTitle=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagetitlef,"imageTitle")],instance.newOptions().imagetitle),instance.ImagePath=(null!==instance.newOptions().contextpath&&void 0!==instance.newOptions().contextpath?instance.newOptions().contextpath:"")+Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagepathf,"imagePath")],instance.newOptions().imagepath),instance.ImageWidth=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagewidthf,"imageWidth")],instance.newOptions().imagewidth),instance.ImageHeight=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imageheightf,"imageHeight")],instance.newOptions().imageheight),null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHTML=instance.presentView():"ListObserver"===instance.getObserverInterface().getType()||"ListKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().updateItem({object:instance})):null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&("ObjectObserver"===instance.getObserverInterface().getType()||"ObjectKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().setObject({content:instance.presentView()})):instance.getObserverInterface().setRecord({content:instance.presentView()})))},instance.presentFailRequest=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&instance.getObserverInterface().displayFailureActivity()}},instance.subscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},instance.unSubscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},null!==options.events&&void 0!==options.events?options.events&&instance.subscribeEvents():instance.subscribeEvents(),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}function TextView(options){var instance=null!==options.instance&&void 0!==options.instance?options.instance:this,extender=new InstanceExtender;null!==options.instance&&void 0!==options.instance||(instance=extender.extendNewInstance({instance:instance,options:options}));var extOptions=Object.create(options);return extOptions.instance=instance,extOptions.events=!1,(instance=ObjectView(extOptions)).Subject=options.subject,instance.Description=options.description,instance.URL=options.url,instance.URLTitle=options.urltitle,instance.HTML=options.html,instance.CSS=options.css,instance.getType=function(){return"TextView"},instance.getSubject=function(){return instance.Subject},instance.setSubject=function(value){instance.Subject=value},instance.getDescription=function(){return instance.Description},instance.setDescription=function(value){instance.Description=value},instance.getURL=function(){return instance.URL},instance.setURL=function(value){instance.URL=value},instance.getHTML=function(){return instance.HTML},instance.setHTML=function(value){instance.HTML=value},instance.getCSS=function(){return instance.CSS},instance.setCSS=function(value){instance.CSS=value},instance.getContentNode=function(){return instance.ContentNode},instance.presentView=function(options){var htmlFormat=instance.HTML;return null!=options&&(null!==options.html&&void 0!==options.html?htmlFormat=options.html:null!==options.link&&void 0!==options.link&&options.link&&(htmlFormat="<a class='cssValue' href='urlValue' title='urlTitleValue'>subjectValue</a>")),htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=(htmlFormat=htmlFormat.replace(/cssValue/gi,Util().extractValue(instance.CSS,Util().extractValue(instance.newOptions().css,"")))).replace(/urlValue/gi,Util().extractValue(instance.URL,Util().extractValue(instance.newOptions().url,"")))).replace(/urlTitleValue/gi,Util().extractValue(instance.URLTitle,Util().extractValue(instance.newOptions().urltitle,"")))).replace(/subjectValue/gi,Util().extractValue(instance.Subject,Util().extractValue(instance.newOptions().subject,"")))).replace(/descriptionValue/gi,Util().extractValue(instance.Description,Util().extractValue(instance.newOptions().description,"")))},null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().getSubject=function(){instance.getSubject()},instance.getObserverInterface().setSubject=function(subject){instance.setSubject(subject)},instance.getObserverInterface().getDescription=function(){instance.getDescription()},instance.getObserverInterface().setDescription=function(description){instance.setDescription(description)},instance.getObserverInterface().getURL=function(){instance.getURL()},instance.getObserverInterface().setURL=function(url){instance.setURL(url)},instance.getObserverInterface().getHtml=function(){instance.getHtml()},instance.getObserverInterface().setHtml=function(html){instance.setHtml(html)},instance.getObserverInterface().presentView=function(options){instance.presentView(options)}),null!==instance.getObserverObject()&&void 0!==instance.getObserverObject()&&(instance.getObserverObject().getSubject=function(){instance.getSubject()},instance.getObserverObject().setSubject=function(subject){instance.setSubject(subject)},instance.getObserverObject().getDescription=function(){instance.getDescription()},instance.getObserverObject().setDescription=function(description){instance.setDescription(description)},instance.getObserverObject().getURL=function(){instance.getURL()},instance.getObserverObject().setURL=function(url){instance.setURL(url)},instance.getObserverObject().getHtml=function(){instance.getHtml()},instance.getObserverObject().setHtml=function(html){instance.setHtml(html)},instance.getObserverObject().presentView=function(options){instance.presentView(options)}),instance.presentErrors=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";if(null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode||null!==instance.contenNode&&void 0!==instance.contenNode){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++)htmlErrorOutput+=instance.getErrors()[i]+". "}null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&(instance.getObserverInterface().displayClearActivity(),instance.getObserverInterface().setErrors(instance.getErrors()))}},instance.presentRecord=function(event,eventData){null!==eventData.data.callback&&void 0!==eventData.data.callback?eventData.data.callback(eventData.result):(instance.Subject=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().subjectf,"subject")],instance.newOptions().subject),instance.Description=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().descriptionf,"description")],instance.newOptions().description),instance.URL=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urlf,"url")],instance.newOptions().url),instance.URLTitle=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urltitlef,"urltitle")],instance.newOptions().urltitle),instance.HTML=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().htmlf,"html")],instance.newOptions().html),instance.CSS=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().cssf,"css")],instance.newOptions().css),null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHTML=instance.presentView():null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&("ListObserver"===instance.getObserverInterface().getType()||"ListKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().updateItem({object:instance})):"ObjectObserver"===instance.getObserverInterface().getType()||"ObjectKNObserver"===instance.getObserverInterface().getType()?(instance.getObserverInterface().displaySuccessActivity(),instance.getObserverInterface().setObject({content:instance.presentView()})):instance.getObserverInterface().setRecord({content:instance.presentView()})))},instance.presentFailRequest=function(event,eventData){if(null!==eventData.data.callback&&void 0!==eventData.data.callback)eventData.data.callback(eventData.result);else{var htmlErrorOutput="An error has occured.";null!==instance.getMessageRepository()&&void 0!==instance.getMessageRepository()&&(htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")),null!==instance.ErrorNode&&void 0!==instance.ErrorNode?instance.ErrorNode.innerHTML=htmlErrorOutput:null!==instance.ContentNode&&void 0!==instance.ContentNode?instance.ContentNode.innerHtml=htmlErrorOutput:null!==instance.getObserverInterface()&&void 0!==instance.getObserverInterface()&&instance.getObserverInterface().displayFailureActivity()}},instance.subscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},instance.unSubscribeEvents=function(eventsInstance){eventsInstance=null!=eventsInstance?eventsInstance:instance,$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors),$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord),$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)},null!==options.events&&void 0!==options.events?options.events&&instance.subscribeEvents():instance.subscribeEvents(),null!==options.instance&&void 0!==options.instance?Object.create(instance):instance}