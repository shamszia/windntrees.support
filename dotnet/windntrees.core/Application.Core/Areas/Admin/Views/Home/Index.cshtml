@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

@section Header
{
    <title>@LocaleResources.Core.Views.ActivityHistory.Index.Page</title>

    <script type="text/html" id="headings">
        <tr>
            <th class="col-2 order-0" scope="col">
                <span class="d-flex align-content-start" title="@LocaleResources.Core.Contents.Account.ActivityHistory.ActivityTime">@LocaleResources.Core.Contents.Account.ActivityHistory.ActivityTime</span>
            </th>
            <th class="col-2 order-1" scope="col">
                <span class="d-flex align-content-start" title="@LocaleResources.Core.Contents.Account.ActivityHistory.Activity">@LocaleResources.Core.Contents.Account.ActivityHistory.Activity</span>
            </th>
            <th class="col-6 order-2" scope="col">
                <span class="d-flex align-content-start" title="@LocaleResources.Core.Contents.Account.ActivityHistory.Request">@LocaleResources.Core.Contents.Account.ActivityHistory.Request</span>
            </th>
            <th class="col-2 order-3" scope="col">
                <span class="d-flex align-content-start" title="@LocaleResources.Core.Contents.Account.ActivityHistory.IPAddress">@LocaleResources.Core.Contents.Account.ActivityHistory.IPAddress</span>
            </th>
        </tr>
    </script>

    <script type="text/html" id="rows">
        <tr>
            <td><span class="d-flex align-content-start" data-bind="text: new DateParser().parseDate(ActivityTime, true).toString('yyyy-MM-dd HH:mm:ss')"></span></td>
            <td><span class="d-flex align-content-start" data-bind="text: Activity"></span></td>
            <td><span class="d-flex align-content-start" data-bind="text: Request"></span></td>
            <td><span class="d-flex align-content-start" data-bind="text: Ipaddress"></span></td>
        </tr>
    </script>
}

<div class="container">
    <h2 class="d-flex align-content-start">@LocaleResources.Core.Views.ActivityHistory.Index.Page</h2>
    <p class="d-flex align-content-start">@LocaleResources.Core.Views.ActivityHistory.Index.PageD</p>
</div>

@Controls.Core.Grid.GridComposer.composeStandardActions(null, "", true)

@Controls.Core.Grid.GridComposer.composeStandardListing(null, "")

@Controls.Core.Grid.GridComposer.composeGrid(null, null, null, null, null, null, null, null, null, null)

@section Scripts {

    <script src="~/js/models/ActivityHistory.js" type="text/javascript"></script>


    <script type="text/javascript">

        var crudView = new CRUDView({
            'uri': '/admin/home',
            'observer': new CRUDObserver({ 'contentType': new ActivityHistory({}), 'messages': intialize(new MessageRepository()) })
        });
        crudView.getObserverObject().setListSource(crudView);

        $(function () {

            try {

                ko.applyBindings(crudView.getObserverObject());
            }
            catch (e) {

                console.log(e.message);
            }

            crudView.find(1);
        });
    </script>
}