function ArrayProcessor(options){var instance=this;if(options.field!==null&&options.field!==undefined){if(options.value!==null&&options.value!==undefined){instance[options.field]=options.value}}else{instance.Objects=options.objects}instance.getType=function(){return"ArrayProcessor"};instance.getObjects=function(){if(options.field!==null&&options.field!==undefined){return instance[options.field]}return instance.Objects};instance.get=function(key){if(key!==null&&key!==undefined){if(instance.getObjects()!==null&&instance.getObjects()!==undefined){for(var i=0;i<instance.getObjects().length;i++){if(instance.getObjects()[i].key===key){return instance.getObjects()[i].value}}}}return null};instance.add=function(object){if(object!==null&&object!==undefined){if(instance.getObjects()!==null&&instance.getObjects()!==undefined){for(var i=0;i<instance.getObjects().length;i++){var item=instance.getObjects()[i];if(item.getKey()===object.getKey()){item.setValue(object.getValue());return}}instance.getObjects().push(object)}}};instance.remove=function(object){if(object!==null&&object!==undefined){if(instance.getObjects()!==null&&instance.getObjects()!==undefined){for(var i=0;i<instance.getObjects().length;i++){var item=instance.getObjects()[i];if(item.getKey()===object.getKey()){instance.getObjects().splice(i,1);return}}}}};instance.hasArrayProcessor=function(){return true}}function reformUniCodeString(options){var instance=this;options=options!==null&&options!==undefined?options:{};instance.formatString=function(value){if(value.startsWith("&#x")){var formattedString=value;formattedString=formattedString.replace(/ /gi,"&#x020;");formattedString=formattedString.replace(/&#/gi,"0");formattedString=formattedString.replace(/;/gi,",");formattedString=formattedString.substr(0,formattedString.length-1);var uniCodeStrings=formattedString.split(",");var uniCodes=[];for(var i=0;i<uniCodeStrings.length;i++){uniCodes.push(parseInt(uniCodeStrings[i]))}formattedString=String.fromCharCode.apply(this,uniCodes);return formattedString}return value};if(options.StringType!==null&&options.StringType!==undefined){if(options.StringType==="&#;"){return instance.formatString(options.value)}}else{return instance.formatString(options)}}function CRUDController(options){var instance=this;instance.Key=options!==undefined?options.key:null;instance.Processing=false;instance.ResponseData=null;instance.ResponseError=null;instance.getKey=function(){return instance.Key};instance.getType=function(){return"CRUDController"};instance.processing=function(){return instance.Processing};instance.responseData=function(){return instance.ResponseData};instance.responseError=function(){return instance.ResponseError};instance.isResponseError=function(){return instance.ResponseError!==null};instance.getContextPath=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var token=$("[name=__RequestVerificationToken]").val();var headers={};headers["__RequestVerificationToken"]=token;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:"getContextPath",data:data};instance.notify(eventData);$.ajax({headers:headers,type:"GET",data:null,url:data.uri+"/contextpath",contentType:"application/json; charset=utf-8"}).done(function(data,textStatus,jqXHR){instance.notifyDone(data,textStatus,jqXHR,eventData)}).fail(function(data,textStatus,jqXHR){instance.notifyFail(data,textStatus,jqXHR,eventData)}).always(function(data,textStatus,jqXHR){if(callback!==null&&callback!==undefined){callback(data)}})};instance.sendRequest=function(options,callback){var headers=options.headers!==null&&options.headers!==undefined?options.headers:{};var token=$("[name=__RequestVerificationToken]").val();headers["__RequestVerificationToken"]=token;var data=options.data!==null&&options.data!==undefined?JSON.parse(options.data):{};var verificationElements=document.getElementsByName("__RequestVerificationToken");if(verificationElements!==null&&verificationElements!==undefined){data.__RequestVerificationToken=[];for(var index=0;index<verificationElements.length;index++){data.__RequestVerificationToken.push(verificationElements[index].value)}}options.data=JSON.stringify(data);if(options.eventData.target==="CreateContent"||options.eventData.target==="UpdateContent"){var uploadForm=options.eventData.form!==null&&options.eventData.form!==undefined?options.eventData.form:"__uploadform";if(document.forms[uploadForm]!==null&&document.forms[uploadForm]!==undefined){headers["Content-Disposition"]="attachment; filename="+document.forms[uploadForm]["upload"].value;try{$(document.forms[uploadForm]).ajaxSubmit({headers:headers,dataType:options.dataType!==null&&options.dataType!==undefined?options.dataType:"json",type:options.method!==null&&options.method!==undefined?options.method:"POST",data:options.data!==null&&options.data!==undefined?options.data:null,url:options.url,contentType:"multipart/form-data",uploadProgress:function(event,position,total,percentComplete){instance.notify({event:"progress.request.CRUD.WindnTrees",result:percentComplete,position:position,total:total,percentComplete:percentComplete})},success:function(data,textStatus,jqXHR){options.eventData.event="after.request.CRUD.WindnTrees";options.eventData.method=options.method!==null&&options.method!==undefined?options.method:"POST";instance.notifyDone(data,textStatus,jqXHR,options.eventData)},error:function(data,textStatus,jqXHR){options.eventData.event="after.request.CRUD.WindnTrees";options.eventData.method=options.method!==null&&options.method!==undefined?options.method:"POST";instance.notifyFail(data,textStatus,jqXHR,options.eventData)},always:function(data,textStatus,jqXHR){if(callback!==null&&callback!==undefined){callback(data)}}})}catch(e){}}}else{$.ajax({headers:headers,dataType:options.dataType!==null&&options.dataType!==undefined?options.dataType:"json",type:options.method!==null&&options.method!==undefined?options.method:"POST",data:options.data!==null&&options.data!==undefined?options.data:null,url:options.url,contentType:options.contentType!==null&&options.contentType!==undefined?options.contentType:"application/json; charset=utf-8"}).done(function(data,textStatus,jqXHR){options.eventData.event="after.request.CRUD.WindnTrees";options.eventData.method=options.method!==null&&options.method!==undefined?options.method:"POST";instance.notifyDone(data,textStatus,jqXHR,options.eventData)}).fail(function(data,textStatus,jqXHR){options.eventData.event="after.request.CRUD.WindnTrees";options.eventData.method=options.method!==null&&options.method!==undefined?options.method:"POST";instance.notifyFail(data,textStatus,jqXHR,options.eventData)}).always(function(data,textStatus,jqXHR){if(callback!==null&&callback!==undefined){callback(data)}})}};instance.select=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:data.request!==null&&data.request!==undefined?data.request:"select",target:data.target,form:data.form,data:data};var request=data.target!==null&&data.target!==undefined?data.target:data.request!==null&&data.request!==undefined?data.request:"select";instance.notify(eventData);data.source=data.source!==null&&data.source!==undefined?data.source:"referential";if(data.method==="GET"){instance.sendRequest({headers:{},method:"GET",data:null,url:data.uri+"/"+request+"/"+data.key+"/"+data.source+"/"+data.keyword+"/"+data.page+"/"+data.size,eventData:eventData},callback)}else{var queryObject=data.query!==null&&data.query!==undefined?data.query:{key:data.key,source:data.source,keyword:data.keyword,size:data.size,page:data.page};instance.sendRequest({headers:{},data:JSON.stringify(queryObject),url:data.uri+"/"+request,eventData:eventData},callback)}};instance.selectList=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:data.request!==null&&data.request!==undefined?data.request:"selectlist",target:data.target,form:data.form,data:data};var request=data.target!==null&&data.target!==undefined?data.target:data.request!==null&&data.request!==undefined?data.request:"selectlist";instance.notify(eventData);data.source=data.source!==null&&data.source!==undefined?data.source:"referential";if(data.method==="GET"){instance.sendRequest({headers:{},method:"GET",data:null,url:data.uri+"/"+request+"/"+data.key+"/"+data.source+"/"+data.keyword,eventData:eventData},callback)}else{var queryObject=data.query!==null&&data.query!==undefined?data.query:{key:data.key,source:data.source,keyword:data.keyword};instance.sendRequest({headers:{},data:JSON.stringify(queryObject),url:data.uri+"/"+request,eventData:eventData},callback)}};instance.find=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:data.request!==null&&data.request!==undefined?data.request:"find",target:data.target,form:data.form,data:data};var request=data.target!==null&&data.target!==undefined?data.target:data.request!==null&&data.request!==undefined?data.request:"find";instance.notify(eventData);if(data.method==="GET"){instance.sendRequest({headers:{},method:"GET",data:null,url:data.uri+"/"+request+"/"+data.keyword+"/"+data.page+"/"+data.size,eventData:eventData},callback)}else{var queryObject=data.query!==null&&data.query!==undefined?data.query:{keyword:data.keyword,size:data.size,page:data.page};instance.sendRequest({headers:{},data:JSON.stringify(queryObject),url:data.uri+"/"+request,eventData:eventData},callback)}};instance.list=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:data.request!==null&&data.request!==undefined?data.request:"list",target:data.target,form:data.form,data:data};var request=data.target!==null&&data.target!==undefined?data.target:data.request!==null&&data.request!==undefined?data.request:"list";instance.notify(eventData);if(data.method==="GET"){instance.sendRequest({headers:{},method:"GET",data:null,url:data.uri+"/"+request+"/"+data.keyword,eventData:eventData},callback)}else{var queryObject=data.query!==null&&data.query!==undefined?data.query:{keyword:data.keyword};instance.sendRequest({headers:{},data:JSON.stringify(queryObject),url:data.uri+"/"+request,eventData:eventData},callback)}};instance.listAll=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:data.request!==null&&data.request!==undefined?data.request:"listall",target:data.target,form:data.form,data:data};var request=data.target!==null&&data.target!==undefined?data.target:data.request!==null&&data.request!==undefined?data.request:"listall";instance.notify(eventData);if(data.method==="GET"){instance.sendRequest({headers:{},method:"GET",data:null,url:data.uri+"/"+request,eventData:eventData},callback)}else{instance.sendRequest({headers:{},data:null,url:data.uri+"/"+request,eventData:eventData},callback)}};instance.get=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:data.request!==null&&data.request!==undefined?data.request:"get",target:data.target,form:data.form,data:data};var request=data.target!==null&&data.target!==undefined?data.target:data.request!==null&&data.request!==undefined?data.request:"get";instance.notify(eventData);instance.sendRequest({headers:{},method:"GET",data:null,url:encodeURI(data.uri+"/"+request+"/"+(data.key!==null&&data.key!==undefined?data.key:"")),eventData:eventData},callback)};instance.post=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:data.request!==null&&data.request!==undefined?data.request:"post",target:data.target,form:data.form,data:data};var request=data.target!==null&&data.target!==undefined?data.target:data.request!==null&&data.request!==undefined?data.request:"post";instance.notify(eventData);instance.sendRequest({headers:{},data:data.key!==null&&data.key!==undefined?typeof data.key==="string"?data.key:JSON.stringify(data.key):"{}",url:data.uri+"/"+request,eventData:eventData},callback)};instance.create=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:data.request!==null&&data.request!==undefined?data.request:"create",target:data.target,form:data.form,data:data};var request=data.target!==null&&data.target!==undefined?data.target:data.request!==null&&data.request!==undefined?data.request:"create";instance.notify(eventData);instance.sendRequest({headers:{},data:typeof data.content==="string"?data.content:JSON.stringify(data.content),url:data.uri+"/"+request,eventData:eventData},callback)};instance.update=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:data.request!==null&&data.request!==undefined?data.request:"update",target:data.target,form:data.form,data:data};var request=data.target!==null&&data.target!==undefined?data.target:data.request!==null&&data.request!==undefined?data.request:"update";instance.notify(eventData);instance.sendRequest({headers:{},data:typeof data.content==="string"?data.content:JSON.stringify(data.content),url:data.uri+"/"+request,file:data.UploadField,eventData:eventData},callback)};instance.delete=function(data,callback){instance.Processing=true;instance.ResponseData=null;instance.ResponseError=null;var eventData={event:"before.request.CRUD.WindnTrees",key:instance.Key,request:data.request!==null&&data.request!==undefined?data.request:"delete",target:data.target,form:data.form,data:data};var request=data.target!==null&&data.target!==undefined?data.target:data.request!==null&&data.request!==undefined?data.request:"delete";instance.notify(eventData);instance.sendRequest({headers:{},data:typeof data.content==="string"?data.content:JSON.stringify(data.content),url:data.uri+"/"+request,eventData:eventData},callback)};instance.notify=function(eventData){$(instance).trigger(eventData.event,eventData)};instance.notifyDone=function(data,textStatus,jqXHR,eventData){instance.Processing=false;instance.ResponseData=data;eventData.result=data;$(instance).trigger("after.request.CRUD.WindnTrees",eventData)};instance.notifyFail=function(jqXHR,textStatus,errorThrown,eventData){instance.Processing=false;instance.ResponseError=errorThrown;eventData.result=jqXHR;$(instance).trigger("fail.request.CRUD.WindnTrees",eventData)}}function CRUDProcessor(options){var instance=this;instance.Key=options!==undefined?options.key:null;instance.Controller=null;instance.Record=null;instance.Records=[];instance.Errors=[];instance.ProcessingState=null;instance.ProcessingStatus=false;instance.getType=function(){return"CRUDProcessor"};instance.getKey=function(){return instance.Key};instance.getController=function(){if(instance.Controller===null){instance.Controller=new CRUDController}return instance.Controller};instance.responseData=function(){return instance.getController().responseData()};instance.responseError=function(){return instance.getController().responseError()};instance.isResponseError=function(){return instance.getController().isResponseError()};instance.isInputError=function(){if(instance.Errors===null||instance.Errors===undefined){return false}return instance.Errors.length>0};instance.getProcessingStatus=function(){return instance.ProcessingStatus};instance.getProcessingState=function(){return instance.ProcessingState};instance.getErrors=function(){return instance.Errors};instance.getRecord=function(){return instance.Record};instance.getRecords=function(){return instance.Records};instance.getContextPath=function(data){instance.Record=null;instance.Errors=[];instance.getController().getContextPath(data)};instance.get=function(data){instance.Record=null;instance.Errors=[];instance.getController().get(data)};instance.post=function(data){instance.Record=null;instance.Errors=[];instance.getController().post(data)};instance.select=function(data){instance.Records=[];instance.Errors=[];instance.getController().select(data)};instance.selectList=function(data){instance.Records=[];instance.Errors=[];instance.getController().selectList(data)};instance.find=function(data){instance.Records=[];instance.Errors=[];instance.getController().find(data)};instance.list=function(data){instance.Records=[];instance.Errors=[];instance.getController().list(data)};instance.listAll=function(data){instance.Records=[];instance.Errors=[];instance.getController().listAll(data)};instance.create=function(data){instance.Record=null;instance.Errors=[];instance.getController().create(data)};instance.update=function(data){instance.Record=null;instance.Errors=[];instance.getController().update(data)};instance.delete=function(data){instance.Record=null;instance.Errors=[];instance.getController().delete(data)};instance.processRecord=function(eventData){var result=eventData.result;if(result!==null&&result!==undefined){if(result.errors!==null&&result.errors!==undefined){if(Array.isArray(result.errors)){for(var i=0;i<result.errors.length;i++){var item=result.errors[i];if(item!==null&&item!==undefined){instance.Errors.push({errField:item.field,errMessage:item.defaultMessage})}}instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:instance.Errors,code:result.code})}else{instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:result.errors,code:result.code})}}else{if(eventData.request==="delete"&&(eventData.target===null||eventData.target===undefined)){try{if(eventData.data.contentType!==null&&eventData.data.contentType!==undefined){instance.Record=eventData.data.contentType.newObject(typeof eventData.data.content==="string"?JSON.parse(eventData.data.content):eventData.data.content)}else{if(options.contentType!==null&&options.contentType!==undefined){instance.Record=options.contentType.newObject(typeof eventData.data.content==="string"?JSON.parse(eventData.data.content):eventData.data.content)}else{instance.Record=typeof eventData.data.content==="string"?JSON.parse(eventData.data.content):eventData.data.content}}}catch(e){instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:"Exception occured during content processing.",code:result.code})}instance.notify({event:"record.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:instance.Record,code:result.code})}else{var objectReady=false;var contentObject=result.contents!==null&&result.contents!==undefined?result.contents:result.contents===null||result.contents===undefined?null:result;if(contentObject!==null&&contentObject!==undefined){try{if(typeof contentObject==="object"){objectReady=true}else{JSON.parse(contentObject);objectReady=true}}catch(e){}try{if(objectReady){if(eventData.data.contentType!==null&&eventData.data.contentType!==undefined){instance.Record=eventData.data.contentType.newObject(contentObject)}else{if(options.contentType!==null&&options.contentType!==undefined){instance.Record=options.contentType.newObject(contentObject)}else{instance.Record=contentObject}}}else{instance.Record=contentObject}}catch(e){instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:"Exception occured during content processing.",code:result.code})}instance.notify({event:"record.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:instance.Record,code:result.code})}else{instance.notify({event:"record.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:contentObject,code:result.code})}}}}};instance.processRecords=function(eventData){var result=eventData.result;if(result.errors!==null&&result.errors!==undefined){if(Array.isArray(result.errors)){for(var i=0;i<result.errors.length;i++){var item=result.errors[i];if(item!==null&&item!==undefined){instance.Errors.push({errField:item.field,errMessage:item.defaultMessage})}}instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:instance.Errors,code:result.code})}else{instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:result.errors,code:result.code})}}else{var contentArray=result.contents!==null&&result.contents!==undefined?result.contents:result.contents===null||result.contents===undefined?null:result;if(contentArray!==null&&contentArray!==undefined){for(var i=0;i<contentArray.length;i++){var item=contentArray[i];if(item!==null&&item!==undefined){var objectReady=false;try{if(typeof item==="object"){objectReady=true}else{JSON.parse(item);objectReady=true}}catch(e){}try{if(objectReady){if(eventData.data.contentType!==null&&eventData.data.contentType!==undefined){instance.Records.push(eventData.data.contentType.newObject(item))}else{if(options.contentType!==null&&options.contentType!==undefined){instance.Records.push(options.contentType.newObject(item))}else{instance.Records.push(item)}}}else{instance.Records.push(item)}}catch(e){instance.notify({event:"errors.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:"Exception occured during content processing.",code:result.code})}}}instance.notify({event:"records.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:instance.Records,code:result.code})}else{instance.notify({event:"records.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:contentArray,code:result.code})}}};instance.notify=function(eventData){$(instance).trigger(eventData.event,eventData);if(instance.Key!==null&&instance.Key!==undefined){$(instance.Key).trigger(eventData.event,eventData)}};instance.beforeRequest=function(event,eventData){instance.ProcessingState={event:event,triggerEvent:eventData};instance.ProcessingStatus=true};instance.afterRequest=function(event,eventData){instance.ProcessingState={event:event,triggerEvent:eventData};instance.ProcessingStatus=false;if(Array.isArray(eventData.result.contents)){instance.processRecords(eventData)}else{instance.processRecord(eventData)}};instance.failRequest=function(event,eventData){instance.ProcessingState={event:event,triggerEvent:eventData};instance.ProcessingStatus=false;instance.notify({event:"fail.processor.CRUD.WindnTrees",key:instance.Key,request:eventData.request,data:eventData.data,result:eventData.result})};instance.subscribeCRUDControllerEvent=function(event,callback){$(instance.getController()).on(event,callback)};instance.unSubscribeCRUDControllerEvent=function(event,callback){$(instance.getController()).off(event,callback)};instance.subscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getController()).on("before.request.CRUD.WindnTrees",eventsInstance.beforeRequest);$(instance.getController()).on("after.request.CRUD.WindnTrees",eventsInstance.afterRequest);$(instance.getController()).on("fail.request.CRUD.WindnTrees",eventsInstance.failRequest)};instance.unSubscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getController()).off("before.request.CRUD.WindnTrees",eventsInstance.beforeRequest);$(instance.getController()).off("after.request.CRUD.WindnTrees",eventsInstance.afterRequest);$(instance.getController()).off("fail.request.CRUD.WindnTrees",eventsInstance.failRequest)};instance.subscribeEvents()}function DateParser(){var instance=Object.create({});instance.parseMilliSeconds=function(value){if(value!==null&&value!==undefined){if(typeof value==="string"){if(value.startsWith("/Date(")&&value.endsWith("/")){var milliseconds=value.replace("/Date(","");milliseconds=milliseconds.replace("/","");if(milliseconds.indexOf("+")>0){milliseconds=milliseconds.substr(0,milliseconds.indexOf("+"))}if(milliseconds.indexOf("-")>0){milliseconds=milliseconds.substr(0,milliseconds.indexOf("-"))}return parseInt(milliseconds)}else if(value.indexOf("T")>0){return new Date(value).valueOf()}}}return value};instance.parseDate=function(value,local){var milliSeconds=instance.parseMilliSeconds(value);if(typeof milliSeconds==="string"){return value}else{if(local){return instance.getLocalTime(milliSeconds)}else{return new Date(milliSeconds)}}};instance.getLocalTime=function(milliseconds,response){if(milliseconds!==null&&milliseconds!==undefined){var offset=(new Date).getTimezoneOffset();offset=offset*60;offset=offset*1e3;var newTime=milliseconds;if(offset>0){newTime-=Math.abs(offset)}else{newTime+=Math.abs(offset)}return new Date(newTime)}return new Date};return instance}function FlexObject(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}instance.items=options.items;if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function InstanceExtender(options){var instance=this;instance.extendNewInstance=function(extoptions){var instance=extoptions.instance;instance.newInstance=function(options){var instanceOptions=options!==null&&options!==undefined?options:instance.newOptions();instanceOptions.instance=undefined;if(extoptions.newparameter!==null&&extoptions.newparameter!==undefined){if(Array.isArray(extoptions.newparameter)){var newInstances=[];for(var i=0;i<extoptions.newparameter.length;i++){if(instanceOptions.observer!==null&&instanceOptions.observer!==undefined){instanceOptions.observer=extoptions.newparameter.newInstance()}newInstances[i]=extoptions.newparameter[i].newInstance()}return new(Object.getPrototypeOf(instance).constructor)(newInstances)}else{if(instanceOptions.observer!==null&&instanceOptions.observer!==undefined){instanceOptions.observer=extoptions.newparameter.newInstance()}instanceOptions.instance=undefined;return new(Object.getPrototypeOf(instance).constructor)(instanceOptions)}}return new(Object.getPrototypeOf(instance).constructor)(instanceOptions)};instance.newOptions=function(){return extoptions.options};return Object.create(instance)};instance.extendField=function(options){var instance=options.instance;if(options.field!==null&&options.field!==undefined){if(options.value!==null&&options.value!==undefined){instance[options.field]=options.value}instance["set"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(object){if(typeof instance[options.field]==="function"){instance[options.field](object)}else{instance[options.field]=object}};instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(){if(typeof instance[options.field]==="function"){return instance[options.field]()}else{return instance[options.field]}};instance["getObservable"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(){return instance[options.field]};instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"StringifiedJSONObject"]=function(){if(typeof instance[options.field]==="function"){return JSON.stringify(instance[options.field]())}else{return JSON.stringify(instance[options.field])}};instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"JSONObject"]=function(){if(typeof instance[options.field]==="function"){return JSON.parse(JSON.stringify(instance[options.field]()))}else{return JSON.parse(JSON.stringify(instance[options.field]))}}}return instance};instance.extendFieldObserver=function(options){var instance=options.instance;var observer=options.observer;if(options.field!==null&&options.field!==undefined){instance["set"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(object){observer["set"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)](object)};instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(){return observer["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]()};instance["getObservable"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]=function(){return observer["getObservable"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)]()};instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"StringifiedJSONObject"]=function(){return observer["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"StringifiedJSONObject"]()};instance["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"JSONObject"]=function(){return observer["get"+options.field.substr(0,1).toUpperCase()+options.field.substr(1,options.field.length-1)+"JSONObject"]()}}return instance};instance.extendObjectInterface=function(options){var instance=options.instance;if(options.field!==null&&options.field!==undefined){instance.setObject=function(object){if(typeof instance[options.field]==="function"){instance[options.field](object)}else{instance[options.field]=object}};instance.getObject=function(){if(typeof instance[options.field]==="function"){return instance[options.field]()}else{return instance[options.field]}};instance.getObserverObject=function(){if(typeof instance[options.field]==="function"){return instance[options.field]()}else{return instance[options.field]}};instance.getObservableObject=function(){return instance[options.field]};instance.getStringifiedObject=function(){if(typeof instance[options.field]==="function"){return JSON.stringify(instance[options.field]())}else{return JSON.stringify(instance[options.field])}};instance.getJSONObject=function(){if(typeof instance[options.field]==="function"){return JSON.parse(JSON.stringify(instance[options.field]()))}else{return JSON.parse(JSON.stringify(instance[options.field]))}}}return Object.create(instance)};instance.extendObserverInterface=function(options){var instance=options.instance;var observer=options.observer;if(instance!==null&&instance!==undefined){if(observer!==null&&observer!==undefined){instance.setObject=function(object){observer.setObject(object)};instance.getObject=function(){return observer.getObject()};instance.getObserverObject=function(){return observer.getObject()};instance.getObservableObject=function(){return observer.getObservableObject()};instance.getStringifiedObject=function(){return observer.getStringifiedObject()};instance.getJSONObject=function(){return observer.getJSONObject()};instance.getObserverType=function(){return observer.getType()};instance.getObserver=function(){return observer}}}return Object.create(instance)};instance.extendContentTypeObject=function(options){var instance=options.instance;instance.ContentType=options.contentType;instance.getContentTypeObject=function(){return instance.ContentType};instance.getContentTypeObjectPrototype=function(){if(instance.ContentType!==null&&instance.ContentType!==undefined){return Object.getPrototypeOf(instance.ContentType)}return null};return Object.create(instance)};instance.extendContentObserver=function(options){var instance=options.instance;var observer=options.observer;if(instance!==null&&instance!==undefined){if(observer!==null&&observer!==undefined){instance.getContentTypeObject=function(){return observer.getContentTypeObject()};instance.getContentTypeObjectPrototype=function(){return observer.getContentTypeObjectPrototype()}}}return Object.create(instance)}}function LocaleMessage(key,value){var instance=this;instance.key=key;instance.value=value;instance.getKey=function(){return instance.key};instance.setKey=function(data){instance.key=data};instance.getValue=function(){return instance.value};instance.setValue=function(data){instance.value=data}}function MessageRepository(options){var instance=this;instance.Records=[];instance.get=function(key){if(key!==null&&key!==undefined){for(var i=0;i<instance.Records.length;i++){if(instance.Records[i].key===key){return instance.Records[i].value}}}else{return key+" - no message found."}return"key is not defined"};instance.getAll=function(){return Records};instance.add=function(message){if(message!==null&&message!==undefined){var record=null;for(var i=0;i<instance.Records.length;i++){record=instance.Records[i];if(record!==null&&record!==undefined){if(message.getKey()===record.getKey()){record.setValue(message.getValue());return}}}instance.Records.push(message)}};instance.remove=function(message){if(message!==null&&message!==undefined){var record=null;for(var i=0;i<instance.Records.length;i++){record=instance.Records[i];if(record!==null&&record!==undefined){if(message.getKey()===record.getKey()){instance.Records.splice(i,1);return}}}}};instance.clean=function(){instance.Records=[]};instance.fill=function(){instance.add(new LocaleMessage("form.new.text","New"));instance.add(new LocaleMessage("form.edit.text","Edit"));instance.add(new LocaleMessage("form.noRecord.text","No record found."));instance.add(new LocaleMessage("form.found.text","Found"));instance.add(new LocaleMessage("form.records.text","Record(s)"));instance.add(new LocaleMessage("form.saved.text","Save"));instance.add(new LocaleMessage("form.failed.text","Failed"));instance.add(new LocaleMessage("form.displayingPage.text","Displaying Page"));instance.add(new LocaleMessage("form.of.text","Of"));instance.add(new LocaleMessage("form.totalPages.text",""));instance.add(new LocaleMessage("form.ok.text","Ok"));instance.add(new LocaleMessage("standard.alertSure.text","Are you sure to delete this record."));instance.add(new LocaleMessage("standard.processing.text","Processing..."));instance.add(new LocaleMessage("standard.err.text","Requested operation failed, an error occured while processing your request."));instance.add(new LocaleMessage("standard.ok.text","Request operation completed successfully."));instance.add(new LocaleMessage("standard.listloadok.text","List loaded successfully."));instance.add(new LocaleMessage("standard.listloaderr.text","List load failed."))};if(options!==null&&options!==undefined){if(options.fill!==null&&options.fill!==undefined){if(options.fill){instance.fill()}}else{instance.fill()}}else{instance.fill()}}function Util(){var instance=Object.create({});instance.extractValue=function(objectValue,defaultValue){if(objectValue!==null&&objectValue!==undefined){return objectValue}return defaultValue};instance.extractFieldValue=function(fieldValue,defaultValue){var extractedValue;if(fieldValue!==null&&fieldValue!==undefined){if(typeof fieldValue==="function"){extractedValue=fieldValue();if(extractedValue===null||extractedValue===undefined){if(defaultValue!==null&&defaultValue!==undefined){return defaultValue}}return extractedValue}return fieldValue}else{return defaultValue}};instance.getFlexOutput=function(options){var output;if(options!==null&&options!==undefined){if(options.flexobject!==null&&options.flexobject!==undefined){var flexitems=options.flexobject.items;if(flexitems!==null&&flexitems!==undefined){if(flexitems.length===1){return flexitems[0]}else if(flexitems.length>10){var key=flexitems[0];var evaluator=flexitems[1];var result=flexitems[2];var content=flexitems[3];if(result==="object-output"||result==="function-output"){var typeFunction=evaluator;var options1=Object.create(options);options1.key=key;options1.items=Array.splice(0,10);if(result==="object-output"){output=new typeFunction.constructor(options1)}else if(result==="function-output"){output=typeFunction.constructor(options1)}}else{if(content==="object"){output="";for(var i=10;i<flexitems.length;i++){var options1=Object.create(options);options1.flexobject=flexitems[i];output+=Util().extractValue(instance.getFlexOutput(options1),"")}}else{if(result==="html"||result==="string"||result==="text"){output=evaluator;var keyValue=new RegExp("a0_","gi");output=output.replace(keyValue,Util().extractValue(flexitems[0],""));var pathValue=new RegExp("cp_","gi");output=output.replace(pathValue,Util().extractValue(options.contextpath,""));for(var i=10;i<flexitems.length;i++){var flexitem=flexitems[i];var expValue=new RegExp("a"+i+"_","gi");output=output.replace(expValue,Util().extractValue(flexitem,""))}}}}}}}}return output!==null&&output!==undefined?output:""};return instance}function ActivityObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.observer!==null&&options.observer!==undefined){if(typeof options.observer==="string"){if(options.observer==="kn"){instance.Observer=new ActivityKNObserver(options)}}else{instance.Observer=options.observer}}else{instance.Observer=new ActivityKNObserver(options)}if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,newparameter:instance.Observer,options:options})}instance=extender.extendContentObserver({instance:instance,observer:instance.Observer});instance.getType=function(){return"ActivityObserver"};instance.getKey=function(){return instance.getObserver().getKey()};instance.setViewScope=function(value){instance.getObserver().setViewScope(value)};instance.getViewScope=function(){return instance.getObserver().getViewScope()};instance.getObserversGroup=function(){return instance.getObserver().getObserversGroup()};instance.getObserverType=function(){return instance.getObserver().getType()};instance.getObserver=function(){return instance.Observer};instance.setKeyword=function(data){instance.getObserver().setKeyword(data)};instance.getKeyword=function(){return instance.getObserver().getKeyword()};instance.isKeywordAvailable=function(){return instance.getObserver().isKeywordAvailable()};instance.getObservableKeyword=function(){return instance.getObserver().getObservableKeyword()};instance.getMessageRepository=function(){return instance.getObserver().getMessageRepository()};instance.setSharedObject=function(object){instance.getObserver().setSharedObject(object)};instance.getSharedObject=function(){return instance.getObserver().getSharedObject()};instance.getObservableSharedObject=function(){return instance.getObserver().getObservableSharedObject()};instance.getStringifiedObject=function(data){return instance.getObserver().getStringifiedObject(data)};instance.getJSONObject=function(data){return instance.getObserver().getJSONObject(data)};instance.setErrors=function(data){instance.getObserver().setErrors(data)};instance.getErrors=function(){return instance.getObserver().getErrors()};instance.getObservableErrors=function(){return instance.getObserver().getObservableErrors()};instance.setProcessing=function(data){instance.getObserver().setProcessing(data)};instance.getProcessing=function(){return instance.getObserver().getProcessing()};instance.getObservableProcessing=function(){return instance.getObserver().getObservableProcessing()};instance.setResultMessage=function(data){instance.getObserver().setResultMessage(data)};instance.getResultMessage=function(){return instance.getObserver().getResultMessage()};instance.getObservableResultMessage=function(){return instance.getObserver().getObservableResultMessage()};instance.setFormProcessing=function(data){instance.getObserver().setFormProcessing(data)};instance.getFormProcessing=function(){return instance.getObserver().getFormProcessing()};instance.getObservableFormProcessing=function(){return instance.getObserver().getObservableFormProcessing()};instance.setFormResultMessage=function(data){instance.getObserver().setFormResultMessage(data)};instance.getFormResultMessage=function(){return instance.getObserver().getFormResultMessage()};instance.getObservableFormResultMessage=function(){return instance.getObserver().getObservableFormResultMessage()};instance.setRequestProgress=function(value){instance.getObserver().setRequestProgress(value)};instance.getRequestProgress=function(){return instance.getObserver().getRequestProgress()};instance.setPrintReady=function(value){instance.getObserver().setPrintReady(value)};instance.isPrintReady=function(){return instance.getObserver().isPrintReady()};instance.displayProcessing=function(status){instance.getObserver().displayProcessing(status)};instance.displaySaved=function(){instance.getObserver().displaySaved()};instance.displayFailed=function(){instance.getObserver().displayFailed()};instance.displayProcessingActivity=function(){instance.getObserver().displayProcessingActivity()};instance.displayClearActivity=function(){instance.getObserver().displayClearActivity()};instance.displayNoRecordActivity=function(){instance.getObserver().displayNoRecordActivity()};instance.displaySuccessActivity=function(){instance.getObserver().displaySuccessActivity()};instance.displayFailureActivity=function(){instance.getObserver().displayFailureActivity()};instance.displayFormProcessing=function(status){instance.getObserver().displayFormProcessing(status)};instance.displayFormProcessingActivity=function(){instance.getObserver().displayFormProcessingActivity()};instance.displayFormClearActivity=function(){instance.getObserver().displayFormClearActivity()};instance.displayFormNoRecordActivity=function(){instance.getObserver().displayFormNoRecordActivity()};instance.displayFormSuccessActivity=function(){instance.getObserver().displayFormSuccessActivity()};instance.displayFormFailureActivity=function(){instance.getObserver().displayFormFailureActivity()};instance.displayGridProcessing=function(status){instance.getObserver().displayGridProcessing(status)};instance.displayGridProcessingActivity=function(){instance.getObserver().displayGridProcessingActivity()};instance.displayGridSuccessActivity=function(){instance.getObserver().displayGridSuccessActivity()};instance.displayGridFailureActivity=function(){instance.getObserver().displayGridFailureActivity()};instance.displayGridClearActivity=function(){instance.getObserver().displayGridClearActivity()};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function CRUDObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.observer!==null&&options.observer!==undefined){if(typeof options.observer==="string"){if(options.observer==="kn"){instance.Observer=new CRUDKNObserver(options)}}else{instance.Observer=options.observer}}else{instance.Observer=new CRUDKNObserver(options)}var findOptions=Object.create(options);findOptions.instance=instance;findOptions.observer=instance.Observer;instance=SearchObserver(findOptions);if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,newparameter:instance.Observer,options:options})}instance.getType=function(){return"CRUDObserver"};instance.setMasterKeyRecord=function(data){instance.getObserver().setMasterKeyRecord(data)};instance.getMasterKeyRecord=function(){return instance.getObserver().getMasterKeyRecord()};instance.getObservableMasterKeyRecord=function(){return instance.getObserver().getObservableMasterKeyRecord()};instance.setEditMode=function(data){instance.getObserver().setEditMode(data)};instance.getEditMode=function(){return instance.getObserver().getEditMode()};instance.getObservableEditMode=function(){return instance.getObserver().getObservableEditMode()};instance.setNewModeCaption=function(data){instance.getObserver().setNewModeCaption(data)};instance.getNewModeCaption=function(){return instance.getObserver().getNewModeCaption()};instance.getObservableNewModeCaption=function(){return instance.getObserver().getObservableNewModeCaption()};instance.setEditModeCaption=function(data){instance.getObserver().setEditModeCaption(data)};instance.getEditModeCaption=function(){return instance.getObserver().getEditModeCaption()};instance.getObservableEditModeCaption=function(){return instance.getObserver().getObservableEditModeCaption()};instance.setFormObject=function(data){var record=null;var recordid=null;var recordtype=null;if(instance.getFormObject()._relatedrecord!==undefined){record=instance.getFormObject()._relatedrecord}if(instance.getFormObject()._relatedrecordid!==undefined){recordid=instance.getFormObject()._relatedrecordid}if(instance.getFormObject()._relatedrecordtype!==undefined){recordtype=instance.getFormObject()._relatedrecordtype}instance.getObserver().setFormObject(data);if(data.originalKey!==null&&data.originalKey!==undefined){instance.getObserver().getFormObject()._datakey=data.originalKey}if(record!==null){instance.getFormObject()._relatedrecord=record}if(recordid!==null){instance.getFormObject()._relatedrecordid=recordid}if(recordtype!==null){instance.getFormObject()._relatedrecordtype=recordtype}};instance.getFormObject=function(){return instance.getObserver().getFormObject()};instance.getObservableFormObject=function(){return instance.getObserver().getObservableFormObject()};instance.getFormStringifiedObject=function(){return instance.getObserver().getFormStringifiedObject()};instance.getFormJSONObject=function(){return instance.getObserver().getFormJSONObject()};instance.resetRecord=function(){instance.getObserver().setRecord(null)};instance.validateFormObject=function(){return instance.getObserver().validateFormObject()};instance.resetForm=function(options){var record=null;var recordid=null;var recordtype=null;if(instance.getFormObject()._relatedrecord!==undefined){record=instance.getFormObject()._relatedrecord}if(instance.getFormObject()._relatedrecordid!==undefined){recordid=instance.getFormObject()._relatedrecordid}if(instance.getFormObject()._relatedrecordtype!==undefined){recordtype=instance.getFormObject()._relatedrecordtype}instance.getObserver().resetForm(options);if(record!==null){instance.getFormObject()._relatedrecord=record}if(recordid!==null){instance.getFormObject()._relatedrecordid=recordid}if(recordtype!==null){instance.getFormObject()._relatedrecordtype=recordtype}};instance.resetFormForEditing=function(index){var record=null;var recordid=null;var recordtype=null;if(instance.getFormObject()._relatedrecord!==undefined){record=instance.getFormObject()._relatedrecord}if(instance.getFormObject()._relatedrecordid!==undefined){recordid=instance.getFormObject()._relatedrecordid}if(instance.getFormObject()._relatedrecordtype!==undefined){recordtype=instance.getFormObject()._relatedrecordtype}instance.getObserver().resetFormForEditing(index);if(record!==null){instance.getFormObject()._relatedrecord=record}if(recordid!==null){instance.getFormObject()._relatedrecordid=recordid}if(recordtype!==null){instance.getFormObject()._relatedrecordtype=recordtype}};instance.resetFormForEditingByRecord=function(data){var record=null;var recordid=null;var recordtype=null;if(instance.getFormObject()._relatedrecord!==undefined){record=instance.getFormObject()._relatedrecord}if(instance.getFormObject()._relatedrecordid!==undefined){recordid=instance.getFormObject()._relatedrecordid}if(instance.getFormObject()._relatedrecordtype!==undefined){recordtype=instance.getFormObject()._relatedrecordtype}instance.getObserver().resetFormForEditingByRecord(data);if(record!==null){instance.getFormObject()._relatedrecord=record}if(recordid!==null){instance.getFormObject()._relatedrecordid=recordid}if(recordtype!==null){instance.getFormObject()._relatedrecordtype=recordtype}};instance.updateNewRecordView=function(data){instance.getObserver().updateNewRecordView(data)};instance.updateExistingRecordView=function(record){instance.getObserver().updateExistingRecordView(record)};instance.updateDeletionRecordView=function(record){instance.getObserver().updateDeletionRecordView(record)};instance.updateView=function(data){instance.getObserver().updateView(data)};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function DetailObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}if(options.observer!==null&&options.observer!==undefined){if(typeof options.observer==="string"){if(options.observer==="kn"){instance.Observer=new DetailKNObserver(options)}}else{instance.Observer=options.observer}}else{instance.Observer=new DetailKNObserver(options)}instance.getObserver=function(){return instance.Observer};instance.getObserverType=function(){return instance.getObserver().getType()};instance.getType=function(){return"DetailObserver"};instance.newInstance=function(){return new(Object.getPrototypeOf(instance).constructor)(instance.getObserver().newInstance())};instance.setRecord=function(record){instance.getObserver().setRecord(record)};instance.getRecord=function(){return instance.getObserver().getRecord()};instance.getObservableRecord=function(){return instance.getObserver().getObservableRecord()};instance.setDetail=function(detail){instance.getObserver().setDetail(detail)};instance.getDetail=function(){return instance.getObserver().getDetail()};instance.getObservableDetail=function(){return instance.getObserver().getObservableDetail()};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function ListObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.observer!==null&&options.observer!==undefined){if(typeof options.observer==="string"){if(options.observer==="kn"){instance.Observer=new ListKNObserver(options)}}else{instance.Observer=options.observer}}else{instance.Observer=new ListKNObserver(options)}if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,newparameter:instance.Observer,options:options})}instance=extender.extendFieldObserver({instance:instance,field:"List",observer:instance.Observer});instance=extender.extendObserverInterface({instance:instance,observer:instance.Observer});instance=ActivityObserver({instance:instance,observer:instance.Observer});instance.getObserver=function(){return instance.Observer};instance.getObserverType=function(){return instance.getObserver().getType()};instance.getType=function(){return"ListObserver"};instance.getListObject=function(){return instance.getObserver().getListObject()};instance.getListObjectPrototype=function(){return instance.getObserver().getListObjectPrototype()};instance.getIndexedStringifiedObject=function(index){return instance.getObserver().getIndexedStringifiedObject(index)};instance.getIndexedJSONObject=function(index){return instance.getObserver().getIndexedJSONObject(index)};instance.clearList=function(readyStatus){instance.getObserver().clearList(readyStatus)};instance.fillList=function(data,readyStatus){instance.getObserver().fillList(data,readyStatus)};instance.isListReady=function(){return instance.getObserver().isListReady()};instance.setListReady=function(status){instance.getObserver().setListReady(status)};instance.getItem=function(key){return instance.getObserver().getItem(key)};instance.newItem=function(data){instance.getObserver().newItem(data)};instance.updateItem=function(listObject){instance.getObserver().updateItem(listObject)};instance.removeItem=function(listObject){instance.getObserver().removeItem(listObject)};instance.update=function(data){instance.getObserver().update(data)};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function ObjectObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;instance=extender.extendFieldObserver({instance:instance,field:"InputObject",observer:options.observer});instance=extender.extendFieldObserver({instance:instance,field:"OutputObject",observer:options.observer});if(options.observer!==null&&options.observer!==undefined){if(typeof options.observer==="string"){if(options.observer==="kn"){instance.Observer=new ObjectKNObserver(options)}}else{instance.Observer=options.observer}}else{instance.Observer=new ObjectKNObserver(options)}if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,newparameter:instance.Observer,options:options})}instance=extender.extendContentObserver({instance:instance,observer:instance.Observer});instance=extender.extendObserverInterface({instance:instance,observer:instance.Observer});instance=ActivityObserver({instance:instance,observer:instance.Observer});instance.getType=function(){return"ObjectObserver"};instance.setFormObject=function(data){instance.getObserver().setFormObject(data)};instance.getFormObject=function(){return instance.getObserver().getFormObject()};instance.getObservableFormObject=function(){return instance.getObserver().getObservableFormObject()};instance.getFormStringifiedObject=function(){return instance.getObserver().getFormStringifiedObject()};instance.getFormJSONObject=function(){return instance.getObserver().getFormJSONObject()};instance.validateFormObject=function(){return instance.getObserver().validateFormObject()};instance.resetForm=function(){instance.getObserver().resetForm()};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function SearchObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.observer!==null&&options.observer!==undefined){if(typeof options.observer==="string"){if(options.observer==="kn"){instance.Observer=new SearchKNObserver(options)}}else{instance.Observer=options.observer}}else{instance.Observer=new SearchKNObserver(options)}var activityOptions=Object.create(options);activityOptions.instance=instance;activityOptions.observer=instance.Observer;instance=ActivityObserver(activityOptions);if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,newparameter:instance.Observer,options:options})}instance.getType=function(){return"SearchObserver"};instance.setRecord=function(record){instance.getObserver().setRecord(record)};instance.getRecord=function(){return instance.getObserver().getRecord()};instance.getObservableRecord=function(){return instance.getObserver().getObservableRecord()};instance.setRecords=function(data){instance.getObserver().setRecords(data)};instance.getRecords=function(){return instance.getObserver().getRecords()};instance.getObservableRecords=function(){return instance.getObserver().getObservableRecords()};instance.setRecordCount=function(data){instance.getObserver().setRecordCount(data)};instance.getRecordCount=function(){return instance.getObserver().getRecordCount()};instance.getObservableRecordCount=function(){return instance.getObserver().getObservableRecordCount()};instance.setSelectedRecord=function(data){instance.getObserver().setSelectedRecord(data)};instance.getSelectedRecord=function(){return instance.getObserver().getSelectedRecord()};instance.getObservableSelectedRecord=function(){return instance.getObserver().getObservableSelectedRecord()};instance.setSelectedRecordIndex=function(data){instance.getObserver().setSelectedRecordIndex(data)};instance.getSelectedRecordIndex=function(){return instance.getObserver().getSelectedRecordIndex()};instance.getObservableSelectedRecordIndex=function(){return instance.getObserver().getObservableSelectedRecordIndex()};instance.setListNavigator=function(navigator){instance.getObserver().setListNavigator(navigator)};instance.getListNavigator=function(){return instance.getObserver().getListNavigator()};instance.getObservableListNavigator=function(){return instance.getObserver().getObservableListNavigator()};instance.setListingScrollSize=function(data){instance.getObserver().setListingScrollSize(data)};instance.getListingScrollSize=function(){return instance.getObserver().getListingScrollSize()};instance.getObservableListingScrollSize=function(){return instance.getObserver().getObservableListingScrollSize()};instance.setListSize=function(data){instance.getObserver().setListSize(data)};instance.getListSize=function(){return instance.getObserver().getListSize()};instance.getObservableListSize=function(){return instance.getObserver().getObservableListSize()};instance.setCurrentList=function(data){instance.getObserver().setCurrentList(data)};instance.getCurrentList=function(){return instance.getObserver().getCurrentList()};instance.setListSource=function(value){instance.getObserver().setListSource(data)};instance.getListSource=function(){return instance.getObserver().getListSource()};instance.getObservableCurrentList=function(){return instance.getObserver().getObservableCurrentList()};instance.getIndexedStringifiedObject=function(index){return instance.getObserver().getIndexedStringifiedObject(index)};instance.getIndexedJSONObject=function(index){return instance.getObserver().getIndexedJSONObject(index)};instance.getSelectedStringifiedObject=function(){return instance.getObserver().getSelectedStringifiedObject()};instance.getSelectedJSONObject=function(){return instance.getObserver().getSelectedJSONObject()};instance.getStringifiedObject=function(data){return instance.getObserver().getStringifiedObject(data)};instance.getJSONObject=function(data){return instance.getObserver().getJSONObject(data)};instance.selectRecord=function(options){instance.getObserver().selectRecord(options)};instance.clearListRecordsView=function(){instance.getObserver().clearListRecordsView()};instance.fillListRecordsView=function(data){instance.getObserver().fillListRecordsView(data)};instance.composeNavigator=function(options){instance.getObserver().composeNavigator(options)};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function ActivityKNObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}instance=extender.extendContentTypeObject({instance:instance,contentType:options.contentType});instance.Key=options.key;instance.Keyword=ko.observable(options.keyword);instance.MessageRepository=options.messages;instance.Errors=ko.observableArray([]);instance.SharedObject=ko.observable(null);instance.Processing=ko.observable(false);instance.ResultMessage=ko.observable("");instance.FormProcessing=ko.observable(false);instance.FormResultMessage=ko.observable("");instance.RequestProgress=ko.observable(0);instance.PrintReady=ko.observable(false);instance.ViewScope=ko.observable(options.viewscope!==null&&options.viewscope!==undefined?options.viewscope:"view");instance.getType=function(){return"ActivityKNObserver"};instance.getKey=function(){return instance.Key};instance.setViewScope=function(value){instance.ViewScope(value)};instance.getViewScope=function(){return instance.ViewScope()};instance.getObserversGroup=function(){return"KN"};instance.isKeywordAvailable=function(){if(instance.Keyword()!==null&&instance.Keyword()!==undefined){if(instance.Keyword().length>0){return true}}return false};instance.setKeyword=function(data){instance.Keyword(data)};instance.getKeyword=function(){return instance.Keyword()};instance.getObservableKeyword=function(){return instance.Keyword};instance.getMessageRepository=function(){return instance.MessageRepository};instance.setSharedObject=function(object){instance.SharedObject(object)};instance.getSharedObject=function(){return instance.SharedObject()};instance.getObservableSharedObject=function(){return instance.SharedObject};instance.getStringifiedObject=function(data){return ko.toJSON(data)};instance.getJSONObject=function(data){return JSON.parse(ko.toJSON(data))};instance.setErrors=function(data){instance.Errors(data)};instance.getErrors=function(){return instance.Errors()};instance.getObservableErrors=function(){return instance.Errors};instance.setProcessing=function(data){instance.Processing(data)};instance.getProcessing=function(){return instance.Processing()};instance.getObservableProcessing=function(){return instance.Processing};instance.setResultMessage=function(data){instance.ResultMessage(data)};instance.getResultMessage=function(){return instance.ResultMessage()};instance.getObservableResultMessage=function(){return instance.ResultMessage};instance.setFormProcessing=function(data){instance.FormProcessing(data)};instance.getFormProcessing=function(){return instance.FormProcessing()};instance.getObservableFormProcessing=function(){return instance.FormProcessing};instance.setFormResultMessage=function(data){instance.FormResultMessage(data)};instance.getFormResultMessage=function(){return instance.FormResultMessage()};instance.getObservableFormResultMessage=function(){return instance.FormResultMessage};instance.setRequestProgress=function(value){instance.RequestProgress(value)};instance.getRequestProgress=function(){return instance.RequestProgress()};instance.setPrintReady=function(value){instance.PrintReady(value)};instance.isPrintReady=function(){return instance.PrintReady()};instance.displayProcessing=function(status){instance.Processing(status)};instance.displaySaved=function(){instance.ResultMessage(instance.getMessageRepository().get("form.saved.text"));instance.FormResultMessage(instance.getMessageRepository().get("form.saved.text"));instance.Processing(false);instance.FormProcessing(false)};instance.displayFailed=function(){instance.ResultMessage(instance.getMessageRepository().get("form.failed.text"));instance.FormResultMessage(instance.getMessageRepository().get("form.failed.text"));instance.Processing(false);instance.FormProcessing(false)};instance.displayProcessingActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.processing.text"));instance.Processing(true)};instance.displayClearActivity=function(){instance.ResultMessage("");instance.Processing(false)};instance.displayNoRecordActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("form.noRecord.text"));instance.Processing(false)};instance.displaySuccessActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.ok.text"));instance.Processing(false)};instance.displayFailureActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.err.text"));instance.Processing(false)};instance.displayFormProcessing=function(status){instance.FormProcessing(status)};instance.displayFormProcessingActivity=function(){instance.FormResultMessage(instance.getMessageRepository().get("standard.processing.text"));instance.FormProcessing(true)};instance.displayFormClearActivity=function(){instance.FormResultMessage("");instance.FormProcessing(false)};instance.displayFormNoRecordActivity=function(){instance.FormResultMessage(instance.getMessageRepository().get("form.noRecord.text"));instance.FormProcessing(false)};instance.displayFormSuccessActivity=function(){instance.FormResultMessage(instance.getMessageRepository().get("standard.ok.text"));instance.FormProcessing(false)};instance.displayFormFailureActivity=function(){instance.FormResultMessage(instance.getMessageRepository().get("standard.err.text"));instance.FormProcessing(false)};instance.displayGridProcessing=function(status){instance.Processing(status)};instance.displayGridProcessingActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.processing.text"));instance.Processing(true)};instance.displayGridSuccessActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.ok.text"));instance.Processing(false)};instance.displayGridFailureActivity=function(){instance.ResultMessage(instance.getMessageRepository().get("standard.err.text"));instance.Processing(false)};instance.displayGridClearActivity=function(){instance.ResultMessage("");instance.Processing(false)};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function CRUDKNObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var findOptions=Object.create(options);findOptions.instance=instance;instance=SearchKNObserver(findOptions);instance.NewModeCaption=ko.observable(instance.getMessageRepository().get("form.new.text"));instance.EditModeCaption=ko.observable(instance.getMessageRepository().get("form.edit.text"));instance.EditMode=ko.observable(false);instance.FormObject=ko.observable(new(Object.getPrototypeOf(instance.ContentType).constructor)({}));instance.MasterKeyRecord=ko.observable(null);instance.getType=function(){return"CRUDKNObserver"};instance.setMasterKeyRecord=function(data){instance.MasterKeyRecord(data)};instance.getMasterKeyRecord=function(){return instance.MasterKeyRecord()};instance.getObservableMasterKeyRecord=function(){return instance.MasterKeyRecord};instance.setEditMode=function(data){instance.EditMode(data)};instance.getEditMode=function(){return instance.EditMode()};instance.getObservableEditMode=function(){return instance.EditMode};instance.setNewModeCaption=function(data){instance.NewModeCaption(data)};instance.getNewModeCaption=function(){return instance.NewModeCaption()};instance.getObservableNewModeCaption=function(){return instance.NewModeCaption};instance.setEditModeCaption=function(data){instance.EditModeCaption(data)};instance.getEditModeCaption=function(){return instance.EditModeCaption()};instance.getObservableEditModeCaption=function(){return instance.EditModeCaption};instance.setFormObject=function(data){var newObject=data.content!==null&&data.content!==undefined?data.content:data;instance.FormObject(newObject)};instance.getFormObject=function(){return instance.FormObject()};instance.getObservableFormObject=function(){return instance.FormObject};instance.getFormStringifiedObject=function(){return ko.toJSON(instance.FormObject())};instance.getFormJSONObject=function(){return JSON.parse(ko.toJSON(instance.FormObject()))};instance.resetRecord=function(){instance.setRecord(null)};instance.validateFormObject=function(){var errors=ko.validation.group(instance.FormObject(),{deep:true});errors.showAllMessages();if(errors().length>0){alert(instance.getMessageRepository().get("standard.err.text"));return false}return true};instance.synchronizeView=function(options){options=options===null||options===undefined?{}:options;if(options.donotsync===null||options.donotsync===undefined){var view=null;if(options.view!==null&&options.view!==undefined){view=options.view}else{view=instance.getView()}if(view!==null&&view!==undefined){if(view.getObjectKey()!==null&&view.getObjectKey()!==undefined){instance.FormObject()["__referencekey"]=view.getObjectKey();if(view.getKeyField()!==null&&view.getKeyField()!==undefined){if(typeof instance.FormObject()[view.getKeyField()]==="function"){instance.FormObject()[view.getKeyField()](view.getObjectKey())}else{instance.FormObject()[view.getKeyField()]=view.getObjectKey()}var uploadForm=options.form!==null&&options.form!==undefined?options.form:"__uploadform";if(document.forms[uploadForm]!==null&&document.forms[uploadForm]!==undefined){if(document.forms[uploadForm][view.getKeyField()]!==null&&document.forms[uploadForm][view.getKeyField()]!==undefined){document.forms[uploadForm][view.getKeyField()].value=view.getObjectKey()}}}}if(view.getObjects()!==null&&view.getObjects()!==undefined){if(Array.isArray(view.getObjects())){for(var i=0;i<view.getObjects().length;i++){var obj=view.getObjects()[i];if(obj.field!==null&&obj.field!==undefined){if(typeof instance.FormObject()[obj.field]==="function"){instance.FormObject()[obj.field](obj.object)}else{instance.FormObject()[obj.field]=obj.object}}}}else{var obj=view.getObjects();if(obj.field!==null&&obj.field!==undefined){if(typeof instance.FormObject()[obj.field]==="function"){instance.FormObject()[obj.field](obj.object)}else{instance.FormObject()[obj.field]=obj.object}}}}}}};instance.resetForm=function(options){instance.displayFormClearActivity();instance.EditMode(false);instance.FormObject(new(instance.getContentTypeObjectPrototype().constructor)({}));if(options!==null&&options!==undefined){if(options.callback!==null&&options.callback!==undefined){if(typeof options.callback==="function"){options.callback(options.callbackparams)}}}instance.synchronizeView(options)};instance.resetFormForEditing=function(index){instance.displayFormClearActivity();instance.EditMode(true);var indexValue=index();instance.SelectedRecordIndex=indexValue;var record=instance.Records()[indexValue];try{if(record.getType()==="DetailObserver"||record.getType()==="DetailKNObserver"){record=record.getRecord()}}catch(e){}instance.FormObject(new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(record))))};instance.resetFormForEditingByRecord=function(data){instance.displayFormClearActivity();instance.EditMode(true);var record=data;try{if(data.getType()==="DetailObserver"||data.getType()==="DetailKNObserver"){record=record.getRecord()}}catch(e){}instance.FormObject(new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(record))))};instance.updateNewRecordView=function(data){if(data!==null&&data!==undefined){if(data.requestData!==null&&data.requestData!==undefined){data.form=data.requestData.form}}instance.resetForm(data);if(data.record!==null&&data.record!==undefined){var newRecord=null;try{if(data.record.getType()==="DetailObserver"||data.record.getType()==="DetailKNObserver"){newRecord=data.record}else{newRecord=new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(data.record)))}}catch(e){newRecord=new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(data.record)))}if(data.order!==null&&data.order!==undefined){if(data.order==="first"){var oldRecords=instance.Records();instance.Records([]);instance.Records.push(newRecord);for(var i=0;i<oldRecords.length;i++){instance.Records.push(oldRecords[i])}}else{instance.Records.push(newRecord)}}else{instance.Records.push(newRecord)}}instance.performRefObjectAction(data);$(".modal").trigger("apply-form-locale")};instance.updateExistingRecordView=function(data){instance.displaySuccessActivity();if(data.record!==null&&data.record!==undefined){data.record=new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(data.record)));for(var i=0;i<instance.Records().length;i++){var item=instance.Records()[i];var itemRecord=item;try{if(itemRecord.getType()==="DetailKNObserver"||itemRecord.getType()==="DetailObserver"){itemRecord=itemRecord.getRecord();if(itemRecord.getKey()===data.record.getKey()){item.setRecord(data.record)}}else{if(itemRecord.getKey()===data.record.getKey()){instance.Records.replace(item,data.record)}}}catch(e){if(itemRecord.getKey()===data.record.getKey()){instance.Records.replace(item,data.record)}}}}if(data.resetForm!==null&&data.resetForm!==undefined){if(data.resetForm){instance.FormObject(new(instance.getContentTypeObjectPrototype().constructor)({}));instance.EditMode(false);instance.displaySuccessActivity()}}instance.performRefObjectAction(data);$(".modal").trigger("apply-form-locale")};instance.updateDeletionRecordView=function(data){instance.displaySuccessActivity();if(data.record!==null&&data.record!==undefined){var deletedRecord=new(instance.getContentTypeObjectPrototype().constructor)(JSON.parse(ko.toJSON(data.record)));for(var i=0;i<instance.Records().length;i++){var item=instance.Records()[i];var itemRecord=item;try{if(itemRecord.getType()==="DetailKNObserver"||itemRecord.getType()==="DetailObserver"){itemRecord=itemRecord.getRecord()}}catch(e){}if(itemRecord.getKey()===deletedRecord.getKey()){instance.Records.remove(item)}}}instance.performRefObjectAction(data)};instance.performRefObjectAction=function(options){if(options.refActions!==null&&options.refActions!==undefined){if(options.refObject!==null&&options.refObject!==undefined){if(Array.isArray(options.refActions)){for(var i=0;i<options.refActions.length;i++){var refInput=undefined;if(options.refInputs!==null&&options.refInputs!==undefined){if(Array.isArray(options.refInputs)){refInput=options.refInputs[i]}else{refInput=options.refInputs}}options.refObject[options.refActions[i]](refInput)}}else{options.refObject[options.refActions](options.refInputs)}}}};instance.updateView=function(data){instance.displayProcessing(false);instance.displayGridSuccessActivity();if(data.action===undefined){if(data.placement!==null&&data.placement!==undefined){instance.updateNewRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord,order:data.placement})}else{instance.updateNewRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord,order:"first"})}}else{if(data.action==="create"){if(data.placement!==null&&data.placement!==undefined){instance.updateNewRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord,order:data.placement})}else{instance.updateNewRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord,order:"first"})}}else if(data.action==="update"){instance.updateExistingRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord,resetForm:data.resetForm})}else if(data.action==="delete"){instance.updateDeletionRecordView({requestData:data.requestData,refObject:data.refObject,refActions:data.refActions,refInputs:data.refInputs,record:data.resultRecord})}}};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function DetailKNObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}instance.Record=ko.observable(options.record);instance.Detail=ko.observable(options.detail);instance.getType=function(){return"DetailKNObserver"};instance.newInstance=function(){return new(Object.getPrototypeOf(instance).constructor)(options)};instance.setRecord=function(record){instance.Record(record)};instance.getRecord=function(){return instance.Record()};instance.getObservableRecord=function(){return instance.Record};instance.setDetail=function(detail){instance.Detail(detail)};instance.getDetail=function(){return instance.Detail()};instance.getObservableDetail=function(){return instance.Detail};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function ListKNObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}instance.ListObject=options.object;instance=extender.extendField({instance:instance,field:"List",value:options.list!==null&&options.list!==undefined?ko.observableArray(options.list):ko.observableArray([])});instance=extender.extendObjectInterface({instance:instance,field:"List"});instance.ListReady=ko.observable(false);var activityOptions=Object.create(options);activityOptions.instance=instance;instance=ActivityKNObserver(activityOptions);instance.getType=function(){return"ListKNObserver"};instance.getListObject=function(){return instance.ListObject};instance.getListObjectPrototype=function(){if(instance.ListObject!==null&&instance.ListObject!==undefined){return Object.getPrototypeOf(instance.ListObject)}return null};instance.getIndexedStringifiedObject=function(index){if(index!==null&&index!==undefined){if(index>=0){return ko.toJSON(instance.List[index])}}return null};instance.getIndexedJSONObject=function(index){return JSON.parse(instance.getIndexedStringifiedObject(index))};instance.clearList=function(readyStatus){instance.ListReady(readyStatus);instance.List([])};instance.fillList=function(data,readyStatus){if(data.objects!==null&&data.objects!==undefined){instance.List(data.objects);instance.ListReady(readyStatus)}};instance.isListReady=function(){return instance.ListReady()};instance.setListReady=function(status){instance.ListReady(status)};instance.getItem=function(key){for(var i=0;i<instance.List().length;i++){var item=instance.List()[i];if(item.getKey()!==null&&item.getKey()!==undefined){if(item.getKey()===key){return item}}}return null};instance.newItem=function(data){if(data.object!==null&&data.object!==undefined){var newObject=data.object;if(instance.ListObject!==null&&instance.ListObject!==undefined){if(newObject.getKey!==null&&newObject.getKey!==undefined){newObject=instance.ListObject.newInstance({key:newObject.getKey()})}else{newObject=instance.ListObject.newInstance()}newObject.setObject(data.object)}if(data.order!==null&&data.order!==undefined){if(data.order==="first"){var oldLists=instance.List();instance.List([]);instance.List.push(newObject);for(var i=0;i<oldLists.length;i++){instance.List.push(oldLists[i])}}else{instance.List.push(newObject)}}else{instance.List.push(newObject)}}};instance.updateItem=function(data){if(data!==null&&data!==undefined){var newObject=data.object;if(instance.ListObject!==null&&instance.ListObject!==undefined){newObject=instance.ListObject.newInstance();newObject.setObject(data.object)}for(var i=0;i<instance.List().length;i++){var item=instance.List()[i];if(newObject.getType()!==null&&newObject.getType()!==undefined){if(newObject.getObject()===item.getObject()){instance.List.replace(item,newObject)}}else{if(newObject.getKey()!==undefined&&item.getKey()!==undefined){if(item.getKey()===newObject.getKey()){instance.List.replace(item,newObject)}}}}}};instance.removeItem=function(data){if(data!==null&&data!==undefined){var newObject=data.object;if(instance.ListObject!==null&&instance.ListObject!==undefined){newObject=instance.ListObject.newInstance();newObject.setObject(data.object)}for(var i=0;i<instance.List().length;i++){var item=instance.List()[i];if(newObject.getType()!==null&&newObject.getType()!==undefined){if(newObject.getObject()===item.getObject()){instance.List.remove(item)}}else{if(newObject.getKey()!==undefined&&item.getKey()!==undefined){if(item.getKey()===newObject.getKey()){instance.List.remove(item)}}}}}};instance.update=function(data){if(data.action===undefined){if(data.placement!==null&&data.placement!==undefined){instance.newItem({object:data.object,order:data.placement})}else{instance.newItem({object:data.object,order:"first"})}}else{if(data.action==="create"){if(data.placement!==null&&data.placement!==undefined){instance.newItem({object:data.object,order:data.placement})}else{instance.newItem({object:data.object,order:"first"})}}else if(data.action==="update"){instance.updateItem(data.object)}else if(data.action==="delete"){instance.removeItem(data.object)}}};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function ObjectKNObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}instance=extender.extendField({instance:instance,field:"InputObject",value:options.object!==null&&options.object!==undefined?ko.observable(options.object):ko.observable(null)});instance=extender.extendField({instance:instance,field:"OutputObject",value:options.object!==null&&options.object!==undefined?ko.observable(options.object):ko.observable(null)});instance=extender.extendObjectInterface({instance:instance,field:"OutputObject"});var activityOptions=Object.create(options);activityOptions.instance=instance;instance=ActivityKNObserver(activityOptions);if(instance.getContentTypeObjectPrototype()!==null&&instance.getContentTypeObjectPrototype()!==undefined){if(instance.getContentTypeObjectPrototype().get===undefined){instance.getContentTypeObjectPrototype().get=function(name){var instance=this;if(typeof instance[name]==="function"){return instance[name]()}else{return instance[name]}}}if(instance.getContentTypeObjectPrototype().getKey===undefined){instance.getContentTypeObjectPrototype().getKey=function(){var instance=this;if(instance._datakey!==null&&instance._datakey!==undefined){return instance._datakey}}}if(instance.getContentTypeObjectPrototype().newObject===undefined){instance.getContentTypeObjectPrototype().newObject=function(data){return new(instance.getContentTypeObjectPrototype().constructor)(data)}}}if(options.inputObject!==null&&options.inputObject!==undefined){if(typeof instance["InputObject"]==="function"){instance["InputObject"](options.inputObject)}else{instance["InputObject"]=options.inputObject}}else{if(instance.getContentTypeObjectPrototype()!==null&&instance.getContentTypeObjectPrototype()!==undefined){if(typeof instance["InputObject"]==="function"){instance["InputObject"](instance.getContentTypeObjectPrototype().newObject({}))}else{instance["InputObject"]=instance.getContentTypeObjectPrototype().newObject({})}}else{if(typeof instance["InputObject"]==="function"){instance["InputObject"]({})}else{instance["InputObject"]={}}}}instance.getType=function(){return"ObjectKNObserver"};instance.setFormObject=function(data){var newObject=data.content!==null&&data.content!==undefined?data.content:data;instance.InputObject(newObject)};instance.getFormObject=function(){return instance.InputObject()};instance.getObservableFormObject=function(){return instance.InputObject};instance.getFormStringifiedObject=function(){return ko.toJSON(instance.InputObject())};instance.getFormJSONObject=function(){return JSON.parse(ko.toJSON(instance.InputObject()))};instance.validateFormObject=function(){var errors=ko.validation.group(instance.getFormObject(),{deep:true});errors.showAllMessages();if(errors().length>0){alert(instance.getMessageRepository().get("standard.err.text"));return false}return true};instance.synchronizeView=function(options){options=options===null||options===undefined?{}:options;if(options.donotsync===null||options.donotsync===undefined){var view=null;if(options.view!==null&&options.view!==undefined){view=options.view}else{view=instance.getView()}if(view!==null&&view!==undefined){if(view.getObjectKey()!==null&&view.getObjectKey()!==undefined){instance.getFormObject()["__referencekey"]=view.getObjectKey();if(view.getKeyField()!==null&&view.getKeyField()!==undefined){if(typeof instance.getFormObject()[view.getKeyField()]==="function"){instance.getFormObject()[view.getKeyField()](view.getObjectKey())}else{instance.getFormObject()[view.getKeyField()]=view.getObjectKey()}var uploadForm=options.form!==null&&options.form!==undefined?options.form:"__uploadform";if(document.forms[uploadForm]!==null&&document.forms[uploadForm]!==undefined){if(document.forms[uploadForm][view.getKeyField()]!==null&&document.forms[uploadForm][view.getKeyField()]!==undefined){document.forms[uploadForm][view.getKeyField()].value=view.getObjectKey()}}}}if(view.getObjects()!==null&&view.getObjects()!==undefined){if(Array.isArray(view.getObjects())){for(var i=0;i<view.getObjects().length;i++){var obj=view.getObjects()[i];if(obj.field!==null&&obj.field!==undefined){if(typeof instance.getFormObject()[obj.field]==="function"){instance.getFormObject()[obj.field](obj.object)}else{instance.getFormObject()[obj.field]=obj.object}}}}else{var obj=view.getObjects();if(obj.field!==null&&obj.field!==undefined){if(typeof instance.FormObject()[obj.field]==="function"){instance.getFormObject()[obj.field](obj.object)}else{instance.getFormObject()[obj.field]=obj.object}}}}}}};instance.resetForm=function(options){instance.displayFormClearActivity();instance.setFormObject(new(instance.getContentTypeObjectPrototype().constructor)({}));instance.synchronizeView(options)};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function SearchKNObserver(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var activityOptions=Object.create(options);activityOptions.instance=instance;instance=ActivityKNObserver(activityOptions);instance.Record=ko.observable(null);instance.Records=ko.observableArray([]);instance.RecordCount=ko.observable(0);instance.SelectedRecord=ko.observable(null);instance.SelectedRecordIndex=-1;instance.ListNavigator=ko.observable(new ListNavigator({currentList:1,listSize:1,totalRecords:0,scrollSize:1,listsource:instance.ListSource}));instance.ListingScrollSize=ko.observable(5);instance.ListSize=ko.observable(10);instance.CurrentList=ko.observable(1);instance.ListSource=options.listsource;instance.getType=function(){return"SearchKNObserver"};instance.setRecord=function(record){instance.Record(record)};instance.getRecord=function(){return instance.Record()};instance.getObservableRecord=function(){return instance.Record};instance.setRecords=function(data){instance.Records(data)};instance.getRecords=function(){return instance.Records()};instance.getObservableRecords=function(){return instance.Records};instance.setRecordCount=function(data){instance.RecordCount(data)};instance.getRecordCount=function(){return instance.RecordCount()};instance.getObservableRecordCount=function(){return instance.RecordCount};instance.setSelectedRecord=function(data){instance.SelectedRecord(data)};instance.getSelectedRecord=function(){return instance.SelectedRecord()};instance.getObservableSelectedRecord=function(){return instance.SelectedRecord};instance.setSelectedRecordIndex=function(data){instance.SelectedRecordIndex(data)};instance.getSelectedRecordIndex=function(){return instance.SelectedRecordIndex()};instance.getObservableSelectedRecordIndex=function(){return instance.SelectedRecordIndex};instance.setListNavigator=function(navigator){instance.ListNavigator(navigator)};instance.getListNavigator=function(){return instance.ListNavigator()};instance.getObservableListNavigator=function(){return instance.ListNavigator};instance.setListingScrollSize=function(data){instance.ListingScrollSize(data)};instance.getListingScrollSize=function(){return instance.ListingScrollSize()};instance.getObservableListingScrollSize=function(){return instance.ListingScrollSize};instance.setListSize=function(data){instance.ListSize(data)};instance.getListSize=function(){return instance.ListSize()};instance.getObservableListSize=function(){return instance.ListSize};instance.setCurrentList=function(data){instance.CurrentList(data)};instance.getCurrentList=function(){return instance.CurrentList()};instance.setListSource=function(value){instance.ListSource=value};instance.getListSource=function(){return instance.ListSource};instance.getObservableCurrentList=function(){return instance.CurrentList};instance.getIndexedStringifiedObject=function(index){if(index===undefined){if(instance.SelectedRecordIndex>=0){return ko.toJSON(instance.Records[instance.SelectedRecordIndex])}}else{if(index>=0){return ko.toJSON(instance.Records[index])}}};instance.getIndexedJSONObject=function(index){return JSON.parse(instance.getIndexedStringifiedObject(index))};instance.getSelectedStringifiedObject=function(){return ko.toJSON(instance.SelectedRecord())};instance.getSelectedJSONObject=function(){return JSON.parse(ko.toJSON(instance.SelectedRecord()))};instance.getStringifiedObject=function(data){return ko.toJSON(data)};instance.getJSONObject=function(data){return JSON.parse(ko.toJSON(data))};instance.selectRecord=function(options){var selectedRecord=null;if(options.index!==null&&options.index!==undefined){selectedRecord=instance.Records()[options.index]}else if(options.record!==null&&options.record!==undefined){selectedRecord=options.record}if(selectedRecord.getType()==="DetailKNObserver"||selectedRecord.getType()==="DetailObserver"){instance.setRecord(selectedRecord.getRecord())}else{instance.setRecord(selectedRecord)}};instance.clearListRecordsView=function(){instance.Records([]);instance.Errors([]);instance.RecordCount(0)};instance.fillListRecordsView=function(data){if(data.clearRecords!==null&&data.clearRecords!==undefined){if(data.clearRecords){instance.clearListRecordsView()}}else{instance.clearListRecordsView()}if(data.records!==null&&data.records!==undefined){instance.Records(data.records)}if(data.immediateRecords!==null&&data.immediateRecords!==undefined){if(data.immediateRecords){if(data.records!==null&&data.records!==undefined){instance.RecordCount(data.records.length);var pagesNavigator=new ListNavigator({currentList:instance.CurrentList(),listSize:instance.ListSize(),totalRecords:data.records.length,scrollSize:instance.ListingScrollSize(),listsource:instance.ListSource});instance.ListNavigator(pagesNavigator);instance.CurrentList(data.page);if(data.messageType!==null&&data.messageType!==undefined){if(data.messageType==="brief"){instance.displaySaved()}else{instance.ResultMessage(instance.getMessageRepository().get("form.found.text")+" "+data.records.length+" "+instance.getMessageRepository().get("form.records.text")+" "+instance.getMessageRepository().get("form.displayingPage.text")+" "+instance.CurrentList()+" "+instance.getMessageRepository().get("form.of.text")+" "+instance.ListNavigator().calculateTotalPages()+" "+instance.getMessageRepository().get("form.totalPages.text"))}}else{instance.ResultMessage(instance.getMessageRepository().get("form.found.text")+" "+data.records.length+" "+instance.getMessageRepository().get("form.records.text")+" "+instance.getMessageRepository().get("form.displayingPage.text")+" "+instance.CurrentList()+" "+instance.getMessageRepository().get("form.of.text")+" "+instance.ListNavigator().calculateTotalPages()+" "+instance.getMessageRepository().get("form.totalPages.text"))}}}}else{data.responseData=typeof data.responseData==="string"?JSON.parse(data.responseData):data.responseData;if(data.responseData!==null&&data.responseData!==undefined){if(data.responseData.contents!==null&&data.responseData.contents!==undefined){instance.RecordCount(data.responseData.totalRecords);var pagesNavigator=new ListNavigator({currentList:instance.CurrentList(),listSize:instance.ListSize(),totalRecords:data.responseData.totalRecords,scrollSize:instance.ListingScrollSize(),listsource:instance.ListSource});instance.ListNavigator(pagesNavigator);instance.CurrentList(data.page);if(data.messageType!==null&&data.messageType!==undefined){if(data.messageType==="brief"){instance.displaySaved()}else{instance.ResultMessage(instance.getMessageRepository().get("form.found.text")+" "+data.responseData.totalRecords+" "+instance.getMessageRepository().get("form.records.text")+" "+instance.getMessageRepository().get("form.displayingPage.text")+" "+instance.CurrentList()+" "+instance.getMessageRepository().get("form.of.text")+" "+instance.ListNavigator().calculateTotalPages()+" "+instance.getMessageRepository().get("form.totalPages.text"))}}else{instance.ResultMessage(instance.getMessageRepository().get("form.found.text")+" "+data.responseData.totalRecords+" "+instance.getMessageRepository().get("form.records.text")+" "+instance.getMessageRepository().get("form.displayingPage.text")+" "+instance.CurrentList()+" "+instance.getMessageRepository().get("form.of.text")+" "+instance.ListNavigator().calculateTotalPages()+" "+instance.getMessageRepository().get("form.totalPages.text"))}}}}};instance.composeNavigator=function(options){if(options.responseData!==null&&options.responseData!==undefined){if(options.responseData.contents!==null&&options.responseData.contents!==undefined){instance.CurrentList(options.currentList);instance.RecordCount(options.responseData.totalRecords);var pagesNavigator=new ListNavigator({currentList:instance.CurrentList(),listSize:instance.ListSize(),totalRecords:options.responseData.totalRecords,scrollSize:instance.ListingScrollSize(),listsource:instance.ListSource});instance.ListNavigator(pagesNavigator);instance.ResultMessage(instance.getMessageRepository().get("form.found.text")+" "+options.responseData.totalRecords+" "+instance.getMessageRepository().get("form.records.text")+" "+instance.getMessageRepository().get("form.displayingPage.text")+" "+instance.CurrentList()+" "+instance.getMessageRepository().get("form.of.text")+" "+instance.ListNavigator().calculateTotalPages()+" "+instance.getMessageRepository().get("form.totalPages.text"))}}};if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function Alternator(options){var instance=this;var extender=new InstanceExtender;instance=extender.extendObjectInterface({instance:instance,field:"Current"});instance.Zero=options.zero;instance.One=options.one;if(options.observer!==null&&options.observer!==undefined){if(options.object!==null&&options.object!==undefined){options.observer.setObject(options.object)}else{options.observer.setObject(options.zero)}}instance.Current=options.observer;instance.getType=function(){return"Alternator"};instance.getZero=function(){return instance.Zero};instance.getOne=function(){return instance.One};instance.alternate=function(object){if(object!==null&&object!==undefined){instance.Current=object}if(instance.Current.getObject()===instance.Zero){instance.Current.setObject(instance.One)}else{instance.Current.setObject(instance.Zero)}return instance.Current};instance.getCurrent=function(){return instance.Current};return instance}function OptionItem(key,val){var instance=this;instance.key=key;instance.val=val}function ErrorItem(data){var instance=this;instance.errField=data.field;instance.errMessage=data.defaultMessage}function CRUDSList(options){var instance=this;var extender=new InstanceExtender;instance=Object.create(new ArrayProcessor({field:"CRUDS",value:options.cruds!==null&&options.cruds!==undefined?options.cruds:[]}));instance=extender.extendObjectInterface({instance:instance,field:"Current"});instance.CRUDIndex=0;if(options.observer!==null&&options.observer!==undefined){options.observer.setObject(instance.CRUDS[instance.CRUDIndex])}instance.Current=options.observer;instance.getCRUDS=function(){return instance.CRUDS};instance.selectCRUD=function(options){if(options.crudindex!==null&&options.crudindex!==undefined){instance.Current.setObject(instance.CRUDS[options.crudindex])}else if(options.crudkey!==null&&options.crudkey!==undefined){if(instance.CRUDS!==null&&instance.CRUDS!==undefined){for(var i=0;i<instance.CRUDS.length;i++){if(instance.CRUDS[i].getKey()===options.crudkey){instance.CRUDIndex=i;instance.Current.setObject(instance.CRUDS[i]);return}}}}};instance.nextCRUD=function(){instance.CRUDIndex+=1;if(instance.CRUDIndex>=instance.CRUDS.length){instance.CRUDIndex=0}else if(instance.CRUDIndex<0){instance.CRUDIndex=instance.CRUDS.length>0?instance.CRUDS.length-1:0}instance.Current.setObject(instance.CRUDS[instance.CRUDIndex])};instance.prevCRUD=function(){instance.CRUDIndex-=1;if(instance.CRUDIndex>instance.CRUDS.length){instance.CRUDIndex=0}else if(instance.CRUDIndex<0){instance.CRUDIndex=instance.CRUDS.length>0?instance.CRUDS.length-1:0}instance.Current.setObject(instance.CRUDS[instance.CRUDIndex])};instance.getCurrent=function(){return instance.Current};return instance}function NavLink(number,listsource){var instance=this;instance.ListSource=listsource;instance.Number=number;instance.find=function(options,fill){if(instance.ListSource!==null&&instance.ListSource!==undefined){return instance.ListSource.find(options,fill)}};instance.list=function(options,fill){if(instance.ListSource!==null&&instance.ListSource!==undefined){return instance.ListSource.list(options,fill)}};instance.select=function(options,fill){if(instance.ListSource!==null&&instance.ListSource!==undefined){return instance.ListSource.select(options,fill)}};instance.selectList=function(options,fill){if(instance.ListSource!==null&&instance.ListSource!==undefined){return instance.ListSource.selectList(options,fill)}}}function ListNavigator(options){var instance=this;instance.Lists=[];instance.CurrentList=options.currentList!==null&&options.currentList!==undefined?options.currentList:1;instance.ListSize=options.listSize!==null&&options.listSize!==undefined?options.listSize:10;instance.TotalRecords=options.totalRecords!==null&&options.totalRecords!==undefined?options.totalRecords:0;instance.ScrollSize=options.scrollSize!==null&&options.scrollSize!==undefined?options.scrollSize:10;instance.calculateTotalPages=function(){return Math.ceil(instance.TotalRecords/instance.ListSize)};instance.composeLists=function(listsource){instance.Lists=[];var pageOffset=Math.ceil(instance.ScrollSize/2);var minPageNumber=options.currentList-pageOffset;var maxPageNumber=options.currentList+pageOffset;if(minPageNumber<=0){minPageNumber=1}if(minPageNumber+instance.ScrollSize>instance.calculateTotalPages()){maxPageNumber=instance.calculateTotalPages()}else{maxPageNumber=minPageNumber+instance.ScrollSize;if(maxPageNumber>instance.calculateTotalPages()){maxPageNumber=instance.calculateTotalPages()}}for(var i=minPageNumber;i<=maxPageNumber;i++){var ls=listsource!==null&&listsource!==undefined?listsource:options.listsource;instance.Lists.push(new NavLink(i,ls))}};instance.getLists=function(){return instance.Lists};instance.newObject=function(options){return new ListNavigator(options)};instance.composeLists()}function ObjectView(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}instance.Name=options.name;instance.Title=options.title;instance.Options=options;instance.Key=options.key;instance.ObjectKey=options.objectkey;instance.KeyField=options.keyfield;instance.Objects=options.objects;instance.URI=options.uri;instance.ViewScope=options.viewscope;instance.ContentProcessor=null;instance.ContentType=options.contentType;instance.Observer=options.observer;instance.CRUDContextPath=options.contextpath;instance.MessageRepository=options.messages;instance.Fields=options.fields;instance.Views=options.views;instance.ListCounter=0;instance.AuthorizationCode=options.authorizationCode;instance.ContentNode=options.contentnode;instance.ErrorNode=options.errornode;instance.getType=function(){return"ObjectView"};instance.setName=function(name){instance.Name=name};instance.getName=function(){return instance.Name};instance.setTitle=function(title){instance.Title=title};instance.getTitle=function(){return instance.Title};instance.getOptions=function(){return instance.Options};instance.getKey=function(){return instance.Key};instance.getObjectKey=function(){return instance.ObjectKey};instance.setObjectKey=function(value){instance.ObjectKey=value;instance.notify({event:"objectKey.fields.view.CRUD.WindnTrees",value:value})};instance.getKeyField=function(){return instance.KeyField};instance.setKeyField=function(value){instance.KeyField=value;instance.notify({event:"keyField.fields.view.CRUD.WindnTrees",value:value})};instance.setObjects=function(value){instance.Objects=value;instance.notify({event:"objects.fields.view.CRUD.WindnTrees",value:value})};instance.getObjects=function(){return instance.Objects};instance.getContentType=function(){return instance.ContentType};instance.setContentType=function(value){instance.ContentType=value;instance.notify({event:"contentType.fields.view.CRUD.WindnTrees",value:value})};instance.getAuthorizationCode=function(){return instance.AuthorizationCode};instance.setAuthorizationCode=function(value){instance.AuthorizationCode=value;instance.notify({event:"authorizationCode.fields.view.CRUD.WindnTrees",value:value})};instance.getCRUDProcessor=function(){if(instance.ContentProcessor===null){if(instance.Observer!==null&&instance.Observer!==undefined){instance.ContentProcessor=new CRUDProcessor({contentType:instance.Observer.getContentTypeObject()})}else{if(options.contentType!==null&&options.contentType!==undefined){instance.ContentProcessor=new CRUDProcessor({contentType:options.contentType})}else{instance.ContentProcessor=new CRUDProcessor({})}}}return instance.ContentProcessor};instance.getURI=function(){return instance.URI};instance.setViewScope=function(value){instance.ViewScope=value};instance.getViewScope=function(){return instance.ViewScope};instance.processing=function(){return instance.getCRUDProcessor().processing()};instance.responseData=function(){return instance.getCRUDProcessor().responseData()};instance.isResponseError=function(){return instance.getCRUDProcessor().isResponseError()};instance.responseError=function(){return instance.getCRUDProcessor().responseError()};instance.isInputError=function(){return instance.getCRUDProcessor().isInputError()};instance.getErrors=function(){return instance.getCRUDProcessor().getErrors()};instance.setContentNode=function(value){instance.ContentNode=value};instance.getErrorNode=function(){return instance.ErrorNode};instance.setErrorNode=function(value){instance.ErrorNode=value};instance.getObserverInterface=function(){return instance.Observer};instance.synchronizeScript=function(options){options=options!==null&&options!==undefined?options:{};if(options.script!==null&&options.script!==undefined){eval(options.script)}};instance.getObserverObject=function(options){var observerInterface=instance.Observer;try{while(1){observerInterface=observerInterface.getObserver()}}catch(e){}return observerInterface};instance.getContentTypeObjects=function(options){var entityObjects=[];if(options.simpleObjects!==null&&options.simpleObjects!==undefined){if(Array.isArray(options.simpleObjects)){for(var i=0;i<options.simpleObjects.length;i++){if(options.contentPrototype!==null&&options.contentPrototype!==undefined){entityObjects[i]=new options.contentPrototype.constructor(options.simpleObjects[i])}else{entityObjects[i]=new(instance.getObserverInterface().getContentTypeObjectPrototype().constructor)(options.simpleObjects[i])}}}else{return new(instance.getObserverInterface().getContentTypeObjectPrototype().constructor)(options.simpleObjects)}}return entityObjects};instance.getContextPath=function(){return instance.CRUDContextPath};instance.getMessageRepository=function(){return instance.MessageRepository};instance.getListCounter=function(){return instance.ListCounter};instance.setReferentialViews=function(views){if(instance.Views!==null&&instance.Views!==undefined){if(instance.Views.getType!==null&&instance.Views.getType!==undefined){if(instance.Views.getType()==="ListObserver"||instance.Views.getType()==="ListKNObserver"){instance.Views.fillList({objects:views})}else if(instance.Views.getType()==="ObjectObserver"||instance.Views.getType()==="ObjectKNObserver"){instance.Views.setObject(views)}}}else{instance.Views=views}};instance.getReferentialViews=function(){return instance.Views};instance.getReferentialView=function(key){if(instance.Views!==null&&instance.Views!==undefined){if(instance.Views.getType!==null&&instance.Views.getType!==undefined){if(instance.Views.getType()==="ListObserver"||instance.Views.getType()==="ListKNObserver"){var result=instance.Views.getItem(key);if(result!==null&&result!==undefined){if(typeof result==="object"){if(result.getType()!==null&&result.getType()!==undefined){if(result.getType()==="ObjectObserver"||result.getType()==="ObjectKNObserver"){return result.getObserverObject()}}return result}}return result}else if(instance.Views.getType()==="ObjectObserver"||instance.Views.getType()==="ObjectKNObserver"){return instance.Views.getObserverObject()}return instance.Views}else{if(Array.isArray(instance.Views)){for(var i=0;i<instance.Views.length;i++){if(instance.Views[i].getKey()===key){return instance.Views[i]}}}else{return instance.Views}}}return null};instance.loadContextPath=function(){instance.getCRUDProcessor().getContextPath({uri:instance.URI,callback:function(result){instance.CRUDContextPath=result}})};instance.clearRecord=function(){if(instance.getObserverInterface().getType()==="ObjectObserver"||instance.getObserverInterface().getType()==="ObjectKNObserver"){instance.getObserverInterface().setObject({})}else{instance.getObserverInterface().setRecord({})}instance.getObserverInterface().displayProcessing(false)};instance.get=function(key){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity();instance.getObserverInterface().displayFormProcessingActivity()}if(typeof key==="object"){key.uri=key.uri!==null&&key.uri!==undefined?key.uri:instance.URI;instance.getCRUDProcessor().get(key)}else{instance.getCRUDProcessor().get({uri:instance.URI,key:key!==null&&key!==undefined?key:instance.getObjectKey()})}};instance.post=function(key){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity();instance.getObserverInterface().displayFormProcessingActivity()}if(typeof key==="object"){key.uri=key.uri!==null&&key.uri!==undefined?key.uri:instance.URI;instance.getCRUDProcessor().post(key)}else{instance.getCRUDProcessor().post({uri:instance.URI,key:key!==null&&key!==undefined?{key:key}:{key:instance.getObjectKey()}})}};instance.load=function(options){instance.get(options);instance.LoadFields(options)};instance.loadListResult=function(options){try{if(options.uri!==null&&options.uri!==undefined){if(options.target!==null&&options.target!==undefined){var uri=options.uri!==null&&options.uri!==undefined?options.uri:instance.getURI();var keyword=options.keyword!==null&&options.keyword!==undefined?options.keyword:instance.getObserverInterface().getKeyword();instance.ListCounter++;new SearchView({uri:uri}).listRequest({target:options.target,contentType:options.contentType,query:{key:options.key,keyword:keyword},callback:function(data){if(Array.isArray(data)){if(options.result!==null&&options.result!==undefined){for(var i=0;i<data.length;i++){options.result.push(new OptionItem(data[i][options.keyfield],data[i][options.valuefield]))}}else{if(options.resultfield!==null&&options.resultfield!==undefined){var resultField=instance.getObserverObject()[options.resultfield];if(typeof resultField==="function"){resultField([])}else{resultField=[]}for(var i=0;i<data.length;i++){if(options.contentType!==null&&options.contentType!==undefined){resultField.push(data[i])}else{resultField.push(new OptionItem(data[i][options.keyfield],data[i][options.valuefield]))}}}}}else{if(options.result!==null&&options.result!==undefined){options.result=new OptionItem(data[options.keyfield],data[options.valuefield])}else{if(options.resultfield!==null&&options.resultfield!==undefined){var resultField=instance.getObserverObject()[options.resultfield];if(typeof resultField==="function"){if(options.contentType!==null&&options.contentType!==undefined){resultField(data)}else{resultField(new OptionItem(data[options.keyfield],data[options.valuefield]))}}else{if(options.contentType!==null&&options.contentType!==undefined){resultField=data}else{resultField=new OptionItem(data[options.keyfield],data[options.valuefield])}}}}}if(options.formfield!==null&&options.formfield!==undefined){if(instance.getObserverObject().getFormObject()!==null&&instance.getObserverObject().getFormObject()!==undefined){if(instance.getObserverObject().getFormObject()[options.formfield]!==null&&instance.getObserverObject().getFormObject()[options.formfield]!==undefined){if(typeof instance.getObserverObject().getFormObject()[options.formfield]==="function"){if(options.list!==null&&options.list!==undefined){if(instance.getObserverObject().getType()==="ObjectKNObserver"||instance.getObserverObject().getType()==="ObjectObserver"){$(options.list).val(instance.getObserverObject().getInputObject()[options.formfield]())}else{$(options.list).val(instance.getObserverObject().getFormObject()[options.formfield]())}}else{if(instance.getObserverObject().getType()==="ObjectKNObserver"||instance.getObserverObject().getType()==="ObjectObserver"){$(options.resultfield).val(instance.getObserverObject().getInputObject()[options.formfield]())}else{$(options.resultfield).val(instance.getObserverObject().getFormObject()[options.formfield]())}}}else{if(options.list!==null&&options.list!==undefined){if(instance.getObserverObject().getType()==="ObjectKNObserver"||instance.getObserverObject().getType()==="ObjectObserver"){$(options.list).val(instance.getObserverObject().getInputObject()[options.formfield])}else{$(options.list).val(instance.getObserverObject().getFormObject()[options.formfield])}}else{if(instance.getObserverObject().getType()==="ObjectKNObserver"||instance.getObserverObject().getType()==="ObjectObserver"){$(options.resultfield).val(instance.getObserverObject().getInputObject()[options.formfield])}else{$(options.resultfield).val(instance.getObserverObject().getFormObject()[options.formfield])}}}}}}instance.ListCounter--;if(options.counterUpdate!==null&&options.counterUpdate!==undefined){if(typeof options.counterUpdate==="function"){options.counterUpdate(instance.ListCounter)}}}})}}}catch(e){console.log(e.message)}};instance.formatContent=function(options){if(options.TimeFields!==null&&options.TimeFields!==undefined){var content=options.content!==null&&options.content!==undefined?options.content:instance.getObserverInterface().getFormObject();for(var i=0;i<options.TimeFields.length;i++){content[options.TimeFields[i]]=moment(typeof content[options.TimeFields[i]]==="function"?content[options.TimeFields[i]]():content[options.TimeFields[i]]).format("YYYY-MM-DD HH:mm:ss")}content=instance.getObserverInterface().getStringifiedObject(content)}else{content=options.content===null||options.content===undefined?instance.getObserverInterface().getFormStringifiedObject():instance.getObserverInterface().getStringifiedObject(options.content)}return content};instance.createOrUpdateOrDelete=function(options){var formInputErrors=true;instance.getObserverInterface().setErrors([]);if(options.validate!==null&&options.validate!==undefined){if(options.validate){if(options.action===undefined){if(options.refObject!==null&&options.refObject!==undefined){formInputErrors=options.refObject.validateFormObject()}else{formInputErrors=instance.getObserverInterface().validateFormObject()}}else{if(options.action==="create"||options.action==="update"){if(options.refObject!==null&&options.refObject!==undefined){formInputErrors=options.refObject.validateFormObject()}else{formInputErrors=instance.getObserverInterface().validateFormObject()}}}}}if(formInputErrors){instance.getObserverInterface().displayProcessingActivity();instance.getObserverInterface().displayFormProcessingActivity();options.uri=instance.URI;if(options.action===undefined){instance.getCRUDProcessor().create(options)}else{if(options.action==="create"){instance.getCRUDProcessor().create(options)}else if(options.action==="update"){instance.getCRUDProcessor().update(options)}else if(options.action==="delete"){instance.getCRUDProcessor().delete(options)}}}};instance.ExtendField=function(options){options=options!==null&&options!==undefined?options:{};if(options.field!==null&&options.field!==undefined){if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){if(instance.getObserverObject().getObserversGroup()==="KN"){if(options.objectType!==null&&options.objectType!==undefined){if(options.objectType==="array"){if(options.object!==null&&options.object!==undefined){instance.getObserverObject()[options.field]=ko.observableArray(options.object)}else{instance.getObserverObject()[options.field]=ko.observableArray([])}}else{if(options.object!==null&&options.object!==undefined){instance.getObserverObject()[options.field]=ko.observable(options.object)}else{instance.getObserverObject()[options.field]=ko.observable()}}}else{if(options.object!==null&&options.object!==undefined){instance.getObserverObject()[options.field]=ko.observable(options.object)}else{instance.getObserverObject()[options.field]=ko.observable()}}}}}};instance.ExtendFields=function(options){options=options!==null&&options!==undefined?options:{};var fieldsObject=options.fields!==null&&options.fields!==undefined?options.fields:instance.Fields;if(fieldsObject!==null&&fieldsObject!==undefined){if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){if(instance.getObserverObject().getObserversGroup()==="KN"){if(Array.isArray(fieldsObject)){for(var i=0;i<fieldsObject.length;i++){var listView=fieldsObject[i];if(listView.field!==null&&listView.field!==undefined){if(instance.getObserverObject()[listView.field]===null||instance.getObserverObject()[listView.field]===undefined){if(listView.expectObjectResult!==null&&listView.expectObjectResult!==undefined){if(listView.expectObjectResult){if(listView.intialObject!==null&&listView.intialObject!==undefined){instance.getObserverObject()[listView.field]=ko.observable(listView.intialObject)}else{instance.getObserverObject()[listView.field]=ko.observable()}}else{if(listView.intialObject!==null&&listView.intialObject!==undefined){instance.getObserverObject()[listView.field]=ko.observableArray(listView.intialObject)}else{instance.getObserverObject()[listView.field]=ko.observableArray([])}}}else{if(listView.intialObject!==null&&listView.intialObject!==undefined){instance.getObserverObject()[listView.field]=ko.observableArray(listView.intialObject)}else{instance.getObserverObject()[listView.field]=ko.observableArray([])}}}}if(listView.formObject!==null&&listView.formObject!==undefined){if(listView.contentType!==null&&listView.contentType!==undefined){instance.getObserverObject()[listView.formObject]=ko.observable(new(Object.getPrototypeOf(listView.contentType).constructor)({}))}}}}}}}};instance.LoadFields=function(options){options=options!==null&&options!==undefined?options:{};var fieldsObject=options.fields!==null&&options.fields!==undefined?options.fields:instance.Fields;if(fieldsObject!==null&&fieldsObject!==undefined){if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){if(instance.getObserverObject().getObserversGroup()==="KN"){if(Array.isArray(fieldsObject)){for(var i=0;i<fieldsObject.length;i++){var listView=fieldsObject[i];if(listView.field!==null&&listView.field!==undefined){if(instance.getObserverObject()[listView.field]===null||instance.getObserverObject()[listView.field]===undefined){if(listView.expectObjectResult!==null&&listView.expectObjectResult!==undefined){if(listView.expectObjectResult){if(listView.intialObject!==null&&listView.intialObject!==undefined){instance.getObserverObject()[listView.field]=ko.observable(listView.intialObject)}else{instance.getObserverObject()[listView.field]=ko.observable()}}else{if(listView.intialObject!==null&&listView.intialObject!==undefined){instance.getObserverObject()[listView.field]=ko.observableArray(listView.intialObject)}else{instance.getObserverObject()[listView.field]=ko.observableArray([])}}}else{if(listView.intialObject!==null&&listView.intialObject!==undefined){instance.getObserverObject()[listView.field]=ko.observableArray(listView.intialObject)}else{instance.getObserverObject()[listView.field]=ko.observableArray([])}}}}}for(var i=0;i<fieldsObject.length;i++){var listView=fieldsObject[i];new SearchView({uri:listView.uri}).listRequest({target:listView.target,contentType:listView.contentType,query:listView.query,method:listView.method,scopeObject:{field:listView.field,key:listView.key,value:listView.value,contentType:listView.contentType,expectObjectResult:listView.expectObjectResult},callback:function(data){instance.ProcessFieldResponse(data,this.scopeObject)}})}}else{if(listView.field!==null&&listView.field!==undefined){if(instance.getObserverObject()[fieldsObject.field]===null||instance.getObserverObject()[fieldsObject.field]===undefined){instance.getObserverObject()[fieldsObject.field]=ko.observableArray([])}}new SearchView({uri:fieldsObject.uri}).listRequest({target:fieldsObject.target,contentType:listView.contentType,query:listView.query,method:fieldsObject.method,scopeObject:{field:listView.field,key:listView.key,value:listView.value,contentType:listView.contentType},callback:function(data){instance.ProcessFieldResponse(data,this.scopeObject)}})}}}}};instance.ProcessFieldResponse=function(data,scopeObject){if(data!==null&&data!==undefined){if(Array.isArray(data)){for(var i=0;i<data.length;i++){if(scopeObject.contentType!==null&&scopeObject.contentType!==undefined){if(scopeObject.field!==null&&scopeObject.field!==undefined){if(instance.getObserverObject()[scopeObject.field]!==null&&instance.getObserverObject()[scopeObject.field]!==undefined){instance.getObserverObject()[scopeObject.field].push(data[i])}}else{instance.getObserverObject().getRecords().push(data[i])}}else{if(scopeObject.field!==null&&scopeObject.field!==undefined&&scopeObject.value!==null&&scopeObject.value!==undefined){if(instance.getObserverObject()[scopeObject.field]!==null&&instance.getObserverObject()[scopeObject.field]!==undefined){instance.getObserverObject()[scopeObject.field].push(new OptionItem(data[i][scopeObject.key],data[i][scopeObject.value]))}}}}}else{if(scopeObject.contentType!==null&&scopeObject.contentType!==undefined){if(scopeObject.field!==null&&scopeObject.field!==undefined){if(instance.getObserverObject()[scopeObject.field]!==null&&instance.getObserverObject()[scopeObject.field]!==undefined){instance.getObserverObject()[scopeObject.field](data)}}}else{if(scopeObject.field!==null&&scopeObject.field!==undefined&&scopeObject.value!==null&&scopeObject.value!==undefined){if(instance.getObserverObject()[scopeObject.field]!==null&&instance.getObserverObject()[scopeObject.field]!==undefined){instance.getObserverObject()[scopeObject.field](new OptionItem(data[scopeObject.key],data[scopeObject.value]))}}}}}};instance.extendContentMethods=function(functionOptions){var contentTypeObject=functionOptions.contentType!==null&&functionOptions.contentType!==undefined?functionOptions.contentType:options.contentType!==null&&options.contentType!==undefined?options.contentType:instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined?instance.getObserverInterface().getContentTypeObject():null;if(contentTypeObject!==null&&contentTypeObject!==undefined){if(Object.getPrototypeOf(contentTypeObject).get===undefined){Object.getPrototypeOf(contentTypeObject).get=function(name){var instance=this;if(typeof instance[name]==="function"){return instance[name]()}else{return instance[name]}}}if(Object.getPrototypeOf(contentTypeObject).getKey===undefined){Object.getPrototypeOf(contentTypeObject).getKey=function(){var instance=this;if(instance._datakey!==null&&instance._datakey!==undefined){return instance._datakey}}}if(Object.getPrototypeOf(contentTypeObject).newObject===undefined){Object.getPrototypeOf(contentTypeObject).newObject=function(data){return new(Object.getPrototypeOf(contentTypeObject).constructor)(data)}}}return contentTypeObject};instance.ContentType=options.contentType=instance.extendContentMethods({});if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(instance.getObserverInterface().getContentTypeObjectPrototype()!==null&&instance.getObserverInterface().getContentTypeObjectPrototype()!==undefined){if(instance.getObserverInterface().getContentTypeObjectPrototype().get===undefined){instance.getObserverInterface().getContentTypeObjectPrototype().get=function(name){var instance=this;if(typeof instance[name]==="function"){return instance[name]()}else{return instance[name]}}}if(instance.getObserverInterface().getContentTypeObjectPrototype().getKey===undefined){instance.getObserverInterface().getContentTypeObjectPrototype().getKey=function(){var instance=this;if(instance._datakey!==null&&instance._datakey!==undefined){return instance._datakey}}}if(instance.getObserverInterface().getContentTypeObjectPrototype().newObject===undefined){instance.getObserverInterface().getContentTypeObjectPrototype().newObject=function(data){return new(instance.getObserverInterface().getContentTypeObjectPrototype().constructor)(data)}}}instance.getObserverInterface().getContextPath=function(){return instance.getContextPath()};instance.getObserverInterface().loadContextPath=function(){return instance.loadContextPath()};instance.getObserverInterface().getView=function(){return instance};instance.getObserverInterface().getViewType=function(options){return instance.getType()};instance.getObserverInterface().getReferentialViews=function(){return instance.getReferentialViews()};instance.getObserverInterface().getReferentialView=function(key){return instance.getReferentialView(key)};instance.getObserverInterface().get=function(key){instance.get(key)};instance.getObserverInterface().post=function(key){instance.post(key)};instance.getObserverInterface().load=function(options){instance.load(options)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().getContextPath=function(){return instance.getContextPath()};instance.getObserverObject().loadContextPath=function(){return instance.loadContextPath()};instance.getObserverObject().getView=function(){return instance};instance.getObserverObject().getViewType=function(options){return instance.getType()};instance.getObserverObject().getReferentialViews=function(){return instance.getReferentialViews()};instance.getObserverObject().getReferentialView=function(key){return instance.getReferentialView(key)};instance.getObserverObject().get=function(key){instance.get(key)};instance.getObserverObject().post=function(key){instance.post(key)};instance.getObserverObject().load=function(options){instance.load(options)}}instance.notify=function(eventData){$(instance).trigger(eventData.event,eventData)};instance.presentErrors=function(event,eventData){eventData.event="errors.before.rendering.view.CRUD.WindnTrees";instance.notify(eventData);if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(eventData.data.messageType!==null&&eventData.data.messageType!==undefined){if(eventData.data.messageType==="brief"){instance.getObserverInterface().displayFailed()}else{instance.getObserverInterface().displayClearActivity();instance.getObserverInterface().setErrors(instance.getErrors())}}else{instance.getObserverInterface().displayClearActivity();instance.getObserverInterface().setErrors(instance.getErrors())}}}eventData.event="errors.after.rendering.view.CRUD.WindnTrees";instance.notify(eventData)};instance.presentRecord=function(event,eventData){eventData.event="record.before.rendering.view.CRUD.WindnTrees";instance.notify(eventData);if(eventData!==null&&eventData!==undefined){if(eventData.code!==null&&eventData.code!==undefined){if(eventData.code.length>0){instance.setAuthorizationCode(eventData.code);if(eventData.data.codeField!==null&&eventData.data.codeField!==undefined){$("[name="+eventData.data.codeField+"]").val(eventData.code)}else{$("[name=__RequestVerificationToken]").val(eventData.code)}}}}if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.observerType="callback";eventData.data.callback(eventData.result)}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){eventData.observerType=instance.getObserverInterface().getType();if(instance.getObserverInterface().getType()==="ObjectObserver"||instance.getObserverInterface().getType()==="ObjectKNObserver"){if(eventData.data.messageType!==null&&eventData.data.messageType!==undefined){if(eventData.data.messageType==="brief"){instance.getObserverInterface().displaySaved()}else{instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().displayFormSuccessActivity()}}else{instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().displayFormSuccessActivity()}instance.getObserverInterface().setObject(eventData.result);if(eventData.data!==null&&eventData.data!==undefined){if(eventData.data.updateInputObject!==null&&eventData.data.updateInputObject!==undefined){if(eventData.data.updateInputObject){if(eventData.result!==null&&eventData.result!==undefined){instance.getObserverObject().InputObject(eventData.result)}else{instance.getObserverInterface().displayFormNoRecordActivity()}}}else{if(eventData.result!==null&&eventData.result!==undefined){instance.getObserverObject().InputObject(eventData.result)}else{instance.getObserverInterface().displayFormNoRecordActivity()}}}else{if(eventData.result!==null&&eventData.result!==undefined){instance.getObserverObject().InputObject(eventData.result)}else{instance.getObserverInterface().displayFormNoRecordActivity()}}}else{if(eventData.result!==null&&eventData.result!==undefined){instance.getObserverObject().InputObject(eventData.result)}else{instance.getObserverInterface().displayFormNoRecordActivity()}}}eventData.event="record.after.rendering.view.CRUD.WindnTrees";instance.notify(eventData)}};instance.presentFailRequest=function(event,eventData){eventData.event="fail.before.rendering.view.CRUD.WindnTrees";instance.notify(eventData);if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(eventData.data.messageType!==null&&eventData.data.messageType!==undefined){if(eventData.data.messageType==="brief"){instance.getObserverInterface().displayFailed()}else{instance.getObserverInterface().displayFailureActivity()}}else{instance.getObserverInterface().displayFailureActivity()}}}eventData.event="fail.after.rendering.view.CRUD.WindnTrees";instance.notify(eventData)};instance.subscribeCRUDProcessorEvent=function(event,callback){$(instance.getCRUDProcessor()).on(event,callback)};instance.unSubscribeCRUDProcessorEvent=function(event,callback){$(instance.getCRUDProcessor()).off(event,callback)};instance.subscribeEvent=function(event,callback){$(instance).on(event,callback)};instance.unSubscribeEvent=function(event,callback){$(instance).off(event,callback)};instance.subscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)};instance.unSubscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)};if(options.events!==null&&options.events!==undefined){if(options.events){instance.subscribeEvents()}}else{instance.subscribeEvents()}instance.displayProgress=function(event,eventData){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(eventData!==null&&eventData!==undefined){if(eventData.result!==null&&eventData.result!==undefined){instance.getObserverInterface().setRequestProgress(eventData.result);instance.getObserverInterface().setFormResultMessage(eventData.result+"%")}}}};if(options.progressEvent!==null&&options.progressEvent!==undefined){if(options.progressEvent){instance.getCRUDProcessor().subscribeCRUDControllerEvent("progress.request.CRUD.WindnTrees",instance.displayProgress)}}if(options.contextpath!==null&&options.contextpath!==undefined){if(options.contextpath==="load"){instance.loadContextPath()}}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function CRUDRelatedView(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}instance=Object.create(options.view);instance.OriginalView=options.view;instance.getType=function(){return"CRUDRelatedView"};instance.getOriginalView=function(){return instance.OriginalView};instance.getContextualMasterKeyRecord=function(){if(instance.getMasterKeyRecord()!==null&&instance.getMasterKeyRecord()!==undefined){return instance.getMasterKeyRecord()}else{return instance.getMasterView().getContextualMasterKeyRecord()}};instance.findDetail=function(page){if(instance.getContextualMasterKeyRecord()!==null&&instance.getContextualMasterKeyRecord()!==undefined){instance.getMasterView().selectDetail({record:instance.getContextualMasterKeyRecord(),page:page})}};instance.selectDetailRecord=function(){instance.getObserverInterface().displayFormProcessing(true);instance.getCRUDProcessor().get({uri:instance.getOriginalView().URI,key:instance.getObserverInterface().getSelectedRecord(),callback:function(result){var originalRecordKey=null;if(instance.getObserverInterface().getFormObject()!==null&&instance.getObserverInterface().getFormObject()!==undefined){if(instance.getObserverInterface().getFormObject().getKey()!==null&&instance.getObserverInterface().getFormObject().getKey()!==undefined){originalRecordKey=instance.getObserverInterface().getFormObject().getKey()}}instance.getObserverInterface().setFormObject({content:result,originalKey:originalRecordKey});instance.getObserverInterface().displayFormProcessing(false);instance.getObserverInterface().displayFormClearActivity();$(".modal").trigger("apply-form-locale")}})};instance.createDetail=function(data,callback){if(callback!==null&&callback!==undefined){instance.getMasterView().create(data.placement,callback)}else{if(data.placement!==null&&data.placement!==undefined){if(instance.getContextualMasterKeyRecord()!==null&&instance.getContextualMasterKeyRecord()!==undefined){instance.getObserverInterface().displayFormProcessingActivity();var masterRecord=instance.getContextualMasterKeyRecord();masterRecord.addDetailItem({name:data.itemsfield,data:instance.getObserverInterface().getFormStringifiedObject(),dataPrototype:instance.getObserverInterface().getContentTypeObjectPrototype()});instance.getMasterView().update({content:masterRecord,callback:function(result){if(result!==null&&result!==undefined){if(result.error){instance.getObserverInterface().displayFormProcessing(false);instance.getObserverInterface().displayFormFailureActivity();instance.getMasterView().getObserverInterface().displayFailureActivity();var entityObject=instance.getObserverInterface().getContentTypeObject();var jsonObject=JSON.parse(instance.getObserverInterface().getFormStringifiedObject());masterRecord.removeDetailItem(entityObject.newObject(jsonObject))}else{if(instance.getMasterView().getCRUDProcessor().responseData().contents!==null&&instance.getMasterView().getCRUDProcessor().responseData().contents!==undefined){if(data.processReturnedResults!==null&&data.processReturnedResults!==undefined){if(data.processReturnedResults){var returnedDetailItems=typeof instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield]==="function"?instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield]():instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield];if(typeof masterRecord[data.itemsfield]==="function"){masterRecord[data.itemsfield](returnedDetailItems)}else{masterRecord[data.itemsfield]=returnedDetailItems}}}}instance.getObserverInterface().updateView({action:"update",resultRecord:instance.getMasterView().getCRUDProcessor().Record,placement:result.placement});instance.getObserverInterface().resetForm();instance.getObserverInterface().displayFormSuccessActivity();instance.getMasterView().getObserverInterface().displaySuccessActivity();var records=instance.getContentTypeObjects({simpleObjects:typeof masterRecord[data.itemsfield]==="function"?masterRecord[data.itemsfield]():masterRecord[data.itemsfield]});if(data.processReturnedResults!==null&&data.processReturnedResults!==undefined){if(data.processReturnedResults){records=instance.getContentTypeObjects({simpleObjects:typeof instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]==="function"?instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]():instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]})}}instance.getObserverInterface().fillListRecordsView({page:instance.getObserverInterface().getCurrentList(),responseData:instance.getMasterView().getCRUDProcessor().responseData(),records:records,immediateRecords:true});instance.getObserverInterface().displayFormProcessing(false)}}$(".modal").trigger("apply-form-locale")}})}}else{if(instance.getContextualMasterKeyRecord()!==null&&instance.getContextualMasterKeyRecord()!==undefined){instance.getObserverInterface().displayFormProcessingActivity();var masterRecord=instance.getContextualMasterKeyRecord();masterRecord.addDetailItem({name:data.itemsfield,data:instance.getObserverInterface().getFormStringifiedObject(),dataPrototype:instance.getObserverInterface().getContentTypeObjectPrototype()});instance.getMasterView().update({content:masterRecord,callback:function(result){if(result!==null&&result!==undefined){if(result.error){instance.getObserverInterface().displayFormProcessing(false);instance.getObserverInterface().displayFormFailureActivity();instance.getMasterView().getObserverInterface().displayFailureActivity();var entityObject=instance.getObserverInterface().getContentTypeObject();var jsonObject=JSON.parse(instance.getObserverInterface().getFormStringifiedObject());masterRecord.removeDetailItem(entityObject.newObject(jsonObject))}else{if(instance.getMasterView().getCRUDProcessor().responseData().contents!==null&&instance.getMasterView().getCRUDProcessor().responseData().contents!==undefined){if(data.processReturnedResults!==null&&data.processReturnedResults!==undefined){if(data.processReturnedResults){var returnedDetailItems=typeof instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield]==="function"?instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield]():instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield];if(typeof masterRecord[data.itemsfield]==="function"){masterRecord[data.itemsfield](returnedDetailItems)}else{masterRecord[data.itemsfield]=returnedDetailItems}}}}instance.getObserverInterface().updateView({action:"update",resultRecord:instance.getMasterView().getCRUDProcessor().Record,placement:data.placement});instance.getObserverInterface().resetForm();instance.getObserverInterface().displayFormSuccessActivity();instance.getMasterView().getObserverInterface().displaySuccessActivity();var records=instance.getContentTypeObjects({simpleObjects:typeof masterRecord[data.itemsfield]==="function"?masterRecord[data.itemsfield]():masterRecord[data.itemsfield]});if(data.processReturnedResults!==null&&data.processReturnedResults!==undefined){if(data.processReturnedResults){records=instance.getContentTypeObjects({simpleObjects:typeof instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]==="function"?instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]():instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]})}}instance.getObserverInterface().fillListRecordsView({page:instance.getObserverInterface().getCurrentList(),responseData:instance.getMasterView().getCRUDProcessor().responseData(),records:records,immediateRecords:true});instance.getObserverInterface().displayFormProcessing(false)}}$(".modal").trigger("apply-form-locale")}})}}}};instance.updateDetail=function(data,callback){if(callback!==null&&callback!==undefined){instance.getMasterView().update(callback)}else{if(instance.getContextualMasterKeyRecord()!==null&&instance.getContextualMasterKeyRecord()!==undefined){instance.getObserverInterface().displayFormProcessingActivity();var masterRecord=instance.getContextualMasterKeyRecord();masterRecord.editOrRemoveDetailItem({name:data.itemsfield,data:instance.getObserverInterface().getFormStringifiedObject(),action:"edit",dataPrototype:instance.getObserverInterface().getContentTypeObjectPrototype()});instance.getMasterView().update({content:masterRecord,callback:function(result){if(result!==null&&result!==undefined){if(result.error){instance.getObserverInterface().displayFormProcessing(false);instance.getObserverInterface().displayFormFailureActivity();instance.getMasterView().getObserverInterface().displayFailureActivity()}else{if(instance.getMasterView().getCRUDProcessor().responseData().contents!==null&&instance.getMasterView().getCRUDProcessor().responseData().contents!==undefined){if(data.processReturnedResults!==null&&data.processReturnedResults!==undefined){if(data.processReturnedResults){var returnedDetailItems=typeof instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield]==="function"?instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield]():instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield];if(typeof masterRecord[data.itemsfield]==="function"){masterRecord[data.itemsfield](returnedDetailItems)}else{masterRecord[data.itemsfield]=returnedDetailItems}}}}instance.getObserverInterface().updateView({action:"update",resultRecord:instance.getMasterView().getCRUDProcessor().Record,placement:data.placement});instance.getObserverInterface().displayFormSuccessActivity();instance.getMasterView().getObserverInterface().displaySuccessActivity();var records=instance.getContentTypeObjects({simpleObjects:typeof masterRecord[data.itemsfield]==="function"?masterRecord[data.itemsfield]():masterRecord[data.itemsfield]});if(data.processReturnedResults!==null&&data.processReturnedResults!==undefined){if(data.processReturnedResults){records=instance.getContentTypeObjects({simpleObjects:typeof instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]==="function"?instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]():instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]})}}instance.getObserverInterface().fillListRecordsView({page:instance.getObserverInterface().getCurrentList(),responseData:instance.getMasterView().getCRUDProcessor().responseData(),records:records,immediateRecords:true});instance.getObserverInterface().displayFormProcessing(false)}}$(".modal").trigger("apply-form-locale")}})}}};instance.deleteDetail=function(data,callback){if(callback!==null&&callback!==undefined){instance.getOriginalView().delete(data.record,callback)}else{if(instance.getContextualMasterKeyRecord()!==null&&instance.getContextualMasterKeyRecord()!==undefined){instance.getObserverInterface().displayGridProcessingActivity();var masterRecord=instance.getContextualMasterKeyRecord();masterRecord.editOrRemoveDetailItem({name:data.itemsfield,data:instance.getObserverInterface().getStringifiedObject(data.record),action:"remove",dataPrototype:instance.getObserverInterface().getContentTypeObjectPrototype()});instance.getMasterView().update({content:masterRecord,callback:function(result){if(result!==null&&result!==undefined){if(result.error){instance.getObserverInterface().displayGridFailureActivity();instance.getMasterView().getObserverInterface().displayGridFailureActivity()}else{if(instance.getMasterView().getCRUDProcessor().responseData().contents!==null&&instance.getMasterView().getCRUDProcessor().responseData().contents!==undefined){if(data.processReturnedResults!==null&&data.processReturnedResults!==undefined){if(data.processReturnedResults){var returnedDetailItems=typeof instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield]==="function"?instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield]():instance.getMasterView().getCRUDProcessor().responseData().contents[data.itemsfield];if(typeof masterRecord[data.itemsfield]==="function"){masterRecord[data.itemsfield](returnedDetailItems)}else{masterRecord[data.itemsfield]=returnedDetailItems}}}}instance.getObserverInterface().updateView({action:"update",resultRecord:instance.getMasterView().getCRUDProcessor().Record,placement:data.placement});instance.getObserverInterface().displayGridSuccessActivity();instance.getMasterView().getObserverInterface().displaySuccessActivity();var records=instance.getContentTypeObjects({simpleObjects:typeof masterRecord[data.itemsfield]==="function"?masterRecord[data.itemsfield]():masterRecord[data.itemsfield]});if(data.processReturnedResults!==null&&data.processReturnedResults!==undefined){if(data.processReturnedResults){records=instance.getContentTypeObjects({simpleObjects:typeof instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]==="function"?instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]():instance.getMasterView().getCRUDProcessor().Record[data.itemsfield]})}}instance.getObserverInterface().fillListRecordsView({page:instance.getObserverInterface().getCurrentList(),responseData:instance.getMasterView().getCRUDProcessor().responseData(),records:records,immediateRecords:true})}}$(".modal").trigger("apply-form-locale")}})}}};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(instance.getObserverInterface().getContentTypeObjectPrototype()!==null&&instance.getObserverInterface().getContentTypeObjectPrototype()!==undefined){if(instance.getObserverInterface().getContentTypeObjectPrototype().setRelatingRecord===undefined){instance.getObserverInterface().getContentTypeObjectPrototype().setRelatingRecord=function(data){var instance=this;instance._relatedrecord=data}}if(instance.getObserverInterface().getContentTypeObjectPrototype().getRelatingRecord===undefined){instance.getObserverInterface().getContentTypeObjectPrototype().getRelatingRecord=function(){var instance=this;return instance._relatedrecord}}if(instance.getObserverInterface().getContentTypeObjectPrototype().setRelatingRecordId===undefined){instance.getObserverInterface().getContentTypeObjectPrototype().setRelatingRecordId=function(data){var instance=this;instance._relatedrecordid=data}}if(instance.getObserverInterface().getContentTypeObjectPrototype().getRelatingRecordId===undefined){instance.getObserverInterface().getContentTypeObjectPrototype().getRelatingRecordId=function(){var instance=this;return instance._relatedrecordid}}if(instance.getObserverInterface().getContentTypeObjectPrototype().setRecordType===undefined){instance.getObserverInterface().getContentTypeObjectPrototype().setRecordType=function(data){var instance=this;instance._relatedrecordtype=data}}if(instance.getObserverInterface().getContentTypeObjectPrototype().getRecordType===undefined){instance.getObserverInterface().getContentTypeObjectPrototype().getRecordType=function(){var instance=this;return instance._relatedrecordtype}}}instance.getObserverInterface().resetDetailForm=function(data){instance.getObserverObject().resetDetailForm(data)};instance.getObserverInterface().resetDetailFormForEditing=function(index){instance.getObserverObject().resetDetailFormForEditing(index)};instance.getObserverInterface().findDetail=function(page){instance.getObserverObject().findDetail(page)};instance.getObserverInterface().selectDetailRecord=function(){instance.getObserverObject().selectDetailRecord()};instance.getObserverInterface().createDetail=function(data,callback){instance.getObserverObject().createDetail(data,callback)};instance.getObserverInterface().updateDetail=function(data,callback){instance.getObserverObject().updateDetail(data,callback)};instance.getObserverInterface().deleteDetail=function(data,callback){instance.getObserverObject().deleteDetail(data,callback)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().resetDetailForm=function(data){instance.getObserverInterface().resetForm();if(data._relatedrecordtype!==null&&data._relatedrecordtype!==undefined){instance.getObserverInterface().getFormObject().setRecordType(data._relatedrecordtype);if(data._relatedrecordtype==="level1-record"){instance.getObserverInterface().getFormObject().setRelatingRecord(data._relatedrecord)}else if(data._relatedrecordtype==="level1-record-id"){instance.getObserverInterface().getFormObject().setRelatingRecordId(data._relatedrecordid)}else if(data._relatedrecordtype==="level2-record"){instance.getObserverInterface().getFormObject().setRelatingRecord(data._relatedrecord)}else if(data._relatedrecordtype==="level2-record-id"){instance.getObserverInterface().getFormObject().setRelatingRecordId(data._relatedrecordid)}}};instance.getObserverObject().resetDetailFormForEditing=function(index){instance.getObserverInterface().resetFormForEditing(index)};instance.getObserverObject().findDetail=function(page){instance.findDetail(page)};instance.getObserverObject().selectDetailRecord=function(){instance.selectDetailRecord()};instance.getObserverObject().createDetail=function(data,callback){instance.createDetail(data,callback);instance.getObserverInterface().setSelectedRecord("")};instance.getObserverObject().updateDetail=function(data,callback){instance.updateDetail(data,callback);instance.getObserverInterface().setSelectedRecord("")};instance.getObserverObject().deleteDetail=function(data,callback){instance.deleteDetail(data,callback);instance.getObserverInterface().setSelectedRecord("")}}return Object.create(instance)}function CRUDView(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var extOptions=Object.create(options);extOptions.instance=instance;extOptions.events=false;instance=SearchView(extOptions);instance.MasterView=null;instance.DetailView=null;instance.getType=function(){return"CRUDView"};instance.getMasterObserverInterface=function(){return instance.MasterView.getObserverInterface()};instance.getMasterObserverObject=function(){var observerInterface=instance.getMasterObserverInterface();try{while(1){observerInterface=observerInterface.getObserver()}}catch(e){}return observerInterface};instance.getDetailObserverInterface=function(){return instance.DetailView.getObserverInterface()};instance.getDetailObserverObject=function(){var observerInterface=instance.getDetailObserverInterface();try{while(1){observerInterface=observerInterface.getObserver()}}catch(e){}return observerInterface};instance.setMasterView=function(view){instance.MasterView=view};instance.getMasterView=function(){return instance.MasterView};instance.setDetailView=function(view){if(view!==null&&view!==undefined){var relatedView=CRUDRelatedView({view:view});instance.DetailView=relatedView;instance.DetailView.setMasterView(this);instance.getObserverInterface().getContentTypeObjectPrototype().addDetailItem=function(options){var instance=this;var subitems=instance.get(options.name);if(subitems!==null&&subitems!==undefined){if(Array.isArray(subitems)){if(options.order!==null&&options.order!==undefined){if(options.order==="first"){subitems.splice(0,0,JSON.parse(options.data))}else{subitems.push(JSON.parse(options.data))}}else{subitems.splice(0,0,JSON.parse(options.data))}return}}};instance.getObserverInterface().getContentTypeObjectPrototype().editOrRemoveDetailItem=function(options){var instance=this;var subitems=instance.get(options.name);if(subitems!==null&&subitems!==undefined){if(Array.isArray(subitems)){for(var i=0;i<subitems.length;i++){var dataObject=JSON.parse(options.data);var item=new options.dataPrototype.constructor(subitems[i]);var dataItem=new options.dataPrototype.constructor(dataObject);dataItem._datakey=dataObject._datakey;if(typeof item._datakey==="string"){if(typeof dataItem._datakey==="string"){if(item._datakey===dataItem._datakey){if(options.action!==null&&options.action!==undefined){if(options.action==="edit"){subitems.splice(i,1,dataObject)}else if(options.action==="remove"){subitems.splice(i,1)}else{subitems.splice(i,1,dataObject)}}else{subitems.splice(i,1,dataObject)}return true}}}else if(typeof item._datakey==="object"){if(typeof options.data._datakey==="object"){var fieldNames=Object.getOwnPropertyNames(item);var matchFound=false;for(var j=0;j<fieldNames.length;j++){if(item[fieldNames[j]]===dataItem[fieldNames[j]]){matchFound=true}else{matchFound=false;break}}if(matchFound){if(options.action!==null&&options.action!==undefined){if(options.action==="edit"){subitems.splice(i,1,dataObject)}else if(options.action==="remove"){subitems.splice(i,1)}else{subitems.splice(i,1,dataObject)}}else{subitems.splice(i,1,dataObject)}return true}}}}return false}}};instance.selectDetail=function(data){if(data.record===null||data.record===undefined){instance.find(data.page)}else{if(data.navigation===null||data.navigation===undefined){instance.getObserverInterface().setMasterKeyRecord(data.record)}instance.getObserverInterface().displayGridProcessingActivity();instance.getDetailObserverInterface().setCurrentList(data.page);instance.getDetailObserverInterface().clearListRecordsView();instance.getDetailObserverInterface().displayGridProcessingActivity();instance.getDetailView().getCRUDProcessor().select({uri:instance.getDetailView().URI,key:instance.getObserverInterface().getMasterKeyRecord().getKey(),source:data.source===undefined?null:data.source,keyword:instance.getDetailObserverInterface().getKeyword(),size:instance.getDetailObserverInterface().getListSize(),page:data.page,callback:function(result){instance.getDetailObserverInterface().displayGridClearActivity();instance.getObserverInterface().displayGridClearActivity();if(instance.getDetailView().isResponseError()){instance.getDetailObserverInterface().displayGridFailureActivity()}else{if(instance.getDetailView().isInputError()){instance.getDetailObserverInterface().setErrors(instance.getDetailView().getErrors())}else{instance.getDetailObserverInterface().displayGridSuccessActivity();instance.getDetailObserverInterface().fillListRecordsView({page:data.page,responseData:instance.getDetailView().getCRUDProcessor().responseData(),records:instance.getDetailView().getCRUDProcessor().Records})}}}})}};if(instance.getObserverInterface().selectDetail===undefined){instance.getObserverInterface().selectDetail=function(data){instance.getObserverObject().selectDetail(data)}}if(instance.getObserverObject().selectDetail===undefined){instance.getObserverObject().selectDetail=function(data){if(instance.getObserverInterface().getMasterKeyRecord()!==null){if(instance.getObserverInterface().getMasterKeyRecord().getKey()!==data.record.getKey()){instance.selectDetail(data)}}else{instance.selectDetail(data)}}}instance.getDetailObserverInterface().findMaster=function(page){instance.find(page)};instance.getDetailObserverObject().findMaster=function(page){instance.find(page)}}};instance.getDetailView=function(){return instance.DetailView};instance.setMasterKeyRecord=function(record){return instance.getObserverObject().setMasterKeyRecord(record)};instance.getMasterKeyRecord=function(){return instance.getObserverObject().getMasterKeyRecord()};instance.getContextualMasterKeyRecord=function(){return instance.getObserverObject().getMasterKeyRecord()};instance.formatContent=function(options){var content=options.content!==null&&options.content!==undefined?options.content:instance.getObserverInterface().getFormObject();if(options.TimeFields!==null&&options.TimeFields!==undefined){if(Array.isArray(options.TimeFields)){for(var i=0;i<options.TimeFields.length;i++){if(typeof content[options.TimeFields[i]]==="function"){if(content[options.TimeFields[i]]()!==null&&content[options.TimeFields[i]]()!==undefined){content[options.TimeFields[i]](moment(typeof content[options.TimeFields[i]]==="function"?content[options.TimeFields[i]]():content[options.TimeFields[i]]).format("YYYY-MM-DD HH:mm:ss"))}}else{if(content[options.TimeFields[i]]!==null&&content[options.TimeFields[i]]!==undefined){content[options.TimeFields[i]]=moment(typeof content[options.TimeFields[i]]==="function"?content[options.TimeFields[i]]():content[options.TimeFields[i]]).format("YYYY-MM-DD HH:mm:ss")}}}}else{if(content[options.TimeFields]!==null&&content[options.TimeFields]!==undefined){content[options.TimeFields]=moment(typeof content[options.TimeFields]==="function"?content[options.TimeFields]():content[options.TimeFields]).format("YYYY-MM-DD HH:mm:ss")}}content=instance.getObserverInterface().getStringifiedObject(content)}else{content=options.content===null||options.content===undefined?instance.getObserverInterface().getFormStringifiedObject():instance.getObserverInterface().getStringifiedObject(options.content)}if(options.target==="CreateContent"||options.target==="UpdateContent"){var uploadForm=options.form!==null&&options.form!==undefined?options.form:"__uploadform";if(document.forms[uploadForm]!==null&&document.forms[uploadForm]!==undefined){if(options.TimeFields!==null&&options.TimeFields!==undefined){if(Array.isArray(options.TimeFields)){for(var i=0;i<options.TimeFields.length;i++){if(document.forms[uploadForm][options.TimeFields[i]]!==null&&document.forms[uploadForm][options.TimeFields[i]]!==undefined){if(document.forms[uploadForm][options.TimeFields[i]].value!==null&&document.forms[uploadForm][options.TimeFields[i]].value!==undefined){document.forms[uploadForm][options.TimeFields[i]].value=moment(document.forms[uploadForm][options.TimeFields[i]].value).format("YYYY-MM-DD HH:mm:ss")}}}}else{document.forms[uploadForm][options.TimeFields].value=moment(document.forms[uploadForm][options.TimeFields].value).format("YYYY-MM-DD HH:mm:ss")}}}}return content};instance.evaluateOption=function(field){var formObject=instance.getObserverInterface().getFormObject();if(formObject!==null&&formObject!==undefined){if(formObject[field]!==null&&formObject[field]!==undefined){field=typeof formObject[field]==="function"?formObject[field]():formObject[field]}}return field};instance.create=function(options){options=options===null||options===undefined?{}:options;options.action="create";options.content=instance.formatContent(options);options.validate=options.validate===null||options.validate===undefined?true:options.validate;options.placement=options.placement===null||options.placement===undefined?"first":options.placement;instance.createOrUpdateOrDelete(options)};instance.update=function(options){options=options===null||options===undefined?{}:options;options.action="update";options.content=instance.formatContent(options);instance.createOrUpdateOrDelete(options)};instance.delete=function(options){options=options===null||options===undefined?{}:options;options.action="delete";if(options.content!==null&&options.content!==undefined){try{if(options.content.getType()==="DetailKNObserver"||options.content.getType()==="DetailObserver"){options.content=options.content.getRecord()}}catch(e){}}options.content=instance.formatContent(options);instance.createOrUpdateOrDelete(options)};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().create=function(options){instance.create(options)};instance.getObserverInterface().update=function(options){instance.update(options)};instance.getObserverInterface().delete=function(record){if(record.content===null||record.content===undefined){instance.delete({content:record})}else{instance.delete(record)}};instance.getObserverInterface().getContextualMasterKeyRecord=function(){instance.getContextualMasterKeyRecord()};instance.getObserverInterface().getDetailView=function(){return instance.getDetailView()};instance.getObserverInterface().getMasterView=function(){return instance.getMasterView()}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().create=function(options){instance.create(options)};instance.getObserverObject().update=function(options){instance.update(options)};instance.getObserverObject().delete=function(record){if(record.content===null||record.content===undefined){instance.delete({content:record})}else{instance.delete(record)}};instance.getObserverObject().getContextualMasterKeyRecord=function(){instance.getContextualMasterKeyRecord()};instance.getObserverObject().getDetailView=function(){return instance.getDetailView()};instance.getObserverObject().getMasterView=function(){return instance.getMasterView()}}if(options.events!==null&&options.events!==undefined){if(options.events){instance.subscribeEvents()}}else{instance.subscribeEvents()}if(options.contextpath!==null&&options.contextpath!==undefined){if(options.contextpath==="load"){instance.loadContextPath()}}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function EditView(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var extOptions=Object.create(options);extOptions.instance=instance;instance=ObjectView(extOptions);instance.getType=function(){return"EditView"};instance.update=function(options){options=options===null||options===undefined?{}:options;options.action="update";options.content=instance.formatContent(options);instance.createOrUpdateOrDelete(options)};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().update=function(options){instance.update(options)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().update=function(options){instance.update(options)};instance.getObserverObject().getViewType=function(options){return instance.getType()}}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function NewView(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var extOptions=Object.create(options);extOptions.instance=instance;instance=ObjectView(extOptions);instance.getType=function(){return"NewView"};instance.create=function(options){options=options===null||options===undefined?{}:options;options.action="create";options.content=instance.formatContent(options);options.validate=options.validate===null||options.validate===undefined?true:options.validate;options.placement=options.placement===null||options.placement===undefined?"first":options.placement;instance.createOrUpdateOrDelete(options)};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().create=function(options){instance.create(options)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().create=function(options){instance.create(options)}}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function SearchList(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}if(options.view!==null&&options.view!==undefined){instance=Object.create(options.view);instance.unSubscribeEvents()}instance.SubListViews=options.sublistviews!==null&&options.sublistviews!==undefined?options.sublistviews:[];instance.Key=options.key;instance.URI=options.uri!==null&&options.uri!==undefined?options.uri:instance.URI;instance.ReferenceKey=options.referenceKey;instance.ReferenceSource=options.referenceSrouce;instance.LoadState=true;instance.getType=function(){if(options.view.getType()==="CRUDView"){return"CRUDList"}else if(options.view.getType()==="SearchView"){return"SearchList"}};instance.getSubListViews=function(){return instance.SubListViews};instance.setReferenceKey=function(key){instance.ReferenceKey=key};instance.getReferenceKey=function(){return instance.ReferenceKey};instance.create=function(options){var listView=null;var subViews=[];if(instance.SubListViews!==null&&instance.SubListViews!==undefined){if(instance.SubListViews.length>0){listView=instance.SubListViews[0];if(instance.SubListViews.length>1){subViews=instance.SubListViews.slice(1,instance.SubListViews.length)}}}var newObserver=listView.getObserverInterface().newInstance();var newOptions={key:listView.Key,uri:listView.URI,observer:newObserver,contextpath:listView.CRUDContextPath};var newRecord=instance.getObserverInterface().getFormStringifiedObject();var detailListObject=new SearchList({view:listView.newInstance(newOptions),sublistviews:subViews});var detailObserver=new DetailObserver({record:newRecord,detail:detailListObject});if(options===null||options===undefined){options={detailEntity:detailObserver}}else{options.detailEntity=detailObserver}Object.getPrototypeOf(instance).create(options)};instance.addDetailItem=function(options){var parentObserverObject=instance.getObserverInterface().getSharedObject();var selectedRecord=parentObserverObject.getSelectedRecord();var newDetailRecord=instance.getObserverInterface().getContentTypeObject().newObject(instance.getObserverInterface().getFormJSONObject());var subitems=selectedRecord.get(options.subitems);if(subitems!==null&&subitems!==undefined){if(Array.isArray(subitems)){if(options.order!==null&&options.order!==undefined){if(options.order==="first"){subitems.splice(0,0,newDetailRecord)}else{subitems.push(newDetailRecord)}}else{subitems.splice(0,0,newDetailRecord)}}}selectedRecord[options.subitems](subitems);parentObserverObject.update({content:selectedRecord,validate:true,resetForm:false,refObject:instance.getObserverObject(),refActions:["resetForm","displayFormSuccessActivity"]})};instance.load=function(options){instance.getObserverInterface().displayProcessingActivity();if(instance.ReferenceKey===null||instance.ReferenceKey===undefined){if(options.referencekey!==null&&options.referencekey!==undefined){if(options.referencekey==="continue"){var listNo=options.page!==null&&options.page!==undefined?options.page:instance.getObserverInterface().getCurrentList();var fillType=options.fill;instance.find(listNo,fillType)}else{instance.ReferenceKey=options.referencekey;instance.ReferenceSource=options.source;instance.getCRUDProcessor().select({uri:instance.URI,key:options.referencekey,source:options.source,fill:options.fill,keyword:options.keyword!==null&&options.keyword!==undefined?options.keyword:instance.getObserverInterface().getKeyword(),size:options.size!==null&&options.size!==undefined?options.size:instance.getObserverInterface().getListSize(),page:options.page!==null&&options.page!==undefined?options.page:instance.getObserverInterface().getCurrentList()})}}else{var listNo=options.page!==null&&options.page!==undefined?options.page:instance.getObserverInterface().getCurrentList();var fillType=options.fill;instance.find(listNo,fillType)}}else{if(options.referencekey!==null&&options.referencekey!==undefined){if(options.referencekey==="continue"){options.referencekey=instance.ReferenceKey;options.source=instance.ReferenceSource}else{instance.ReferenceKey=options.referencekey;instance.ReferenceSource=options.source}instance.getCRUDProcessor().select({uri:instance.URI,key:options.referencekey,source:options.source,fill:options.fill,keyword:options.keyword!==null&&options.keyword!==undefined?options.keyword:instance.getObserverInterface().getKeyword(),size:options.size!==null&&options.size!==undefined?options.size:instance.getObserverInterface().getListSize(),page:options.page!==null&&options.page!==undefined?options.page:instance.getObserverInterface().getCurrentList()})}else{instance.getCRUDProcessor().select({uri:instance.URI,key:instance.ReferenceKey,source:instance.ReferenceSource,fill:options.fill,keyword:options.keyword!==null&&options.keyword!==undefined?options.keyword:instance.getObserverInterface().getKeyword(),size:options.size!==null&&options.size!==undefined?options.size:instance.getObserverInterface().getListSize(),page:options.page!==null&&options.page!==undefined?options.page:instance.getObserverInterface().getCurrentList()})}}};instance.unload=function(){instance.setReferenceKey(null);instance.getObserverInterface().displayClearActivity()};instance.loadDetail=function(options){if(options.index!==null&&options.index!==undefined){var recordIndex=0;if(typeof options.index==="function"){recordIndex=options.index()}else{recordIndex=options.index}var detailRecord=instance.getObserverInterface().getRecords()[recordIndex];detailRecord.getDetail().load(options)}};instance.unloadDetail=function(options){if(options.index!==null&&options.index!==undefined){var recordIndex=0;if(typeof options.index==="function"){recordIndex=options.index()}else{recordIndex=options.index}var detailRecord=instance.getObserverInterface().getRecords()[recordIndex];detailRecord.getDetail().unload()}};instance.toggleDetail=function(options){if(options.index!==null&&options.index!==undefined){var recordIndex=0;if(typeof options.index==="function"){recordIndex=options.index()}else{recordIndex=options.index}var detailRecord=instance.getObserverInterface().getRecords()[recordIndex];if(options.index!==null&&options.index!==undefined){instance.getObserverInterface().selectRecord({index:options.index})}if(detailRecord.getDetail().LoadState){options.keyword=instance.getObserverInterface().getKeyword();detailRecord.getDetail().load(options)}else{detailRecord.getDetail().unload()}detailRecord.getDetail().LoadState=!detailRecord.getDetail().LoadState}};instance.getRecordDetailList=function(records){var recordLists=[];var listView=null;var subViews=[];if(instance.SubListViews!==null&&instance.SubListViews!==undefined){if(instance.SubListViews.length>0){listView=instance.SubListViews[0];if(instance.SubListViews.length>1){subViews=instance.SubListViews.slice(1,instance.SubListViews.length)}}}if(records!==null&&records!==undefined){for(var i=0;i<records.length;i++){var newObserver=listView.getObserverInterface().newInstance();var newOptions={key:listView.Key,uri:listView.URI,observer:newObserver,contextpath:listView.CRUDContextPath};var detailListObject=new SearchList({view:listView.newInstance(newOptions),sublistviews:subViews});recordLists[i]=new DetailObserver({record:records[i],detail:detailListObject})}}return recordLists};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().getView=function(){return instance};instance.getObserverInterface().getSubListViews=function(){return instance.getSubListViews()};instance.getObserverInterface().create=function(options){instance.create(options)};instance.getObserverInterface().addDetailItem=function(options){instance.addDetailItem(options)};instance.getObserverInterface().find=function(page){instance.find(page)};instance.getObserverInterface().setReferenceKey=function(key){instance.setReferenceKey(key)};instance.getObserverInterface().getReferenceKey=function(){return instance.getReferenceKey()};instance.getObserverInterface().getList=function(index){instance.getList(index)};instance.getObserverInterface().load=function(options){instance.load(options)};instance.getObserverInterface().loadDetail=function(options){instance.loadDetail(options)};instance.getObserverInterface().unloadDetail=function(options){instance.unloadDetail(options)};instance.getObserverInterface().toggleDetail=function(options){instance.toggleDetail(options)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().getView=function(){return instance};instance.getObserverObject().getSubListViews=function(){return instance.getSubListViews()};instance.getObserverObject().create=function(options){instance.create(options)};instance.getObserverObject().addDetailItem=function(options){instance.addDetailItem(options)};instance.getObserverObject().find=function(page){instance.find(page)};instance.getObserverObject().setReferenceKey=function(key){instance.setReferenceKey(key)};instance.getObserverObject().getReferenceKey=function(){return instance.getReferenceKey()};instance.getObserverObject().getList=function(index){instance.getList(index)};instance.getObserverObject().load=function(options){instance.load(options)};instance.getObserverObject().loadDetail=function(options){instance.loadDetail(options)};instance.getObserverObject().unloadDetail=function(options){instance.unloadDetail(options)};instance.getObserverObject().toggleDetail=function(options){instance.toggleDetail(options)}}instance.presentErrors=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{instance.getObserverInterface().displayClearActivity();instance.getObserverInterface().setErrors(instance.getErrors())}};instance.presentRecords=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{instance.getObserverInterface().displayProcessing(false);instance.getObserverInterface().displaySuccessActivity();if(eventData.data.fill!==null&&eventData.data.fill!==undefined){if(eventData.data.fill==="continue"){var currentList=instance.getObserverInterface().getCurrentList();var existingRecords=instance.getObserverInterface().getRecords();var newRecords=instance.getRecordDetailList(eventData.result);if(eventData.data.page<=currentList){var listSize=instance.getObserverInterface().getListSize();var listCount=instance.getObserverInterface().getRecords().length;var startIndex=listSize*(eventData.data.page-1);startIndex=startIndex<0?0:startIndex;var deleteCount=listCount-startIndex;deleteCount=deleteCount<0?0:deleteCount;existingRecords.splice(startIndex,deleteCount)}for(var i=0;i<newRecords.length;i++){existingRecords.push(newRecords[i])}instance.getObserverInterface().setRecords(existingRecords)}else{instance.getObserverInterface().setRecords(instance.getRecordDetailList(eventData.result))}}else{instance.getObserverInterface().setRecords(instance.getRecordDetailList(eventData.result))}instance.getObserverInterface().composeNavigator({currentList:eventData.data.page,responseData:instance.getCRUDProcessor().responseData()})}$(window).trigger("view-direction-change")};instance.presentFailRequest=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{instance.getObserverInterface().displayFailureActivity()}};if(options.events!==null&&options.events!==undefined){if(options.events){instance.subscribeEvents(instance)}}else{instance.subscribeEvents(instance)}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function SearchView(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var extOptions=Object.create(options);extOptions.instance=instance;extOptions.events=false;instance=ObjectView(extOptions);instance.getType=function(){return"SearchView"};instance.clearRecords=function(){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(instance.getObserverInterface().getType()==="ListObserver"||instance.getObserverInterface().getType()==="ListKNObserver"){instance.getObserverInterface().clearList();instance.getObserverInterface().displayProcessing(false)}else{instance.getObserverInterface().clearListRecordsView();instance.getObserverInterface().displayProcessing(false);instance.getObserverInterface().fillListRecordsView({page:1,responseData:null,records:instance.getObserverInterface().getRecords(),immediateRecords:true})}}}};instance.select=function(options,fill){if(instance.getObjectKey()!==null&&instance.getObjectKey()!==undefined){if(instance.getObjectKey().length===0){instance.setObjectKey(null);instance.find(options,fill)}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity()}if(typeof options==="object"){options.uri=options.uri!==null&&options.uri!==undefined?options.uri:instance.URI;options.keyword=options.keyword!==null&&options.keyword!==undefined?options.keyword:instance.getObserverInterface().getKeyword();options.fill=fill;instance.getCRUDProcessor().select(options)}else{instance.getCRUDProcessor().select({uri:instance.URI,key:instance.getObjectKey(),keyword:instance.getObserverInterface().getKeyword(),size:instance.getObserverInterface().getListSize(),page:options,fill:fill})}}}else{instance.find(options,fill)}};instance.selectList=function(options,fill){if(instance.getObjectKey()!==null&&instance.getObjectKey()!==undefined){if(instance.getObjectKey().length===0){instance.setObjectKey(null);instance.list(options,fill)}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity()}if(typeof options==="object"){options.uri=options.uri!==null&&options.uri!==undefined?options.uri:instance.URI;options.keyword=options.keyword!==null&&options.keyword!==undefined?options.keyword:instance.getObserverInterface().getKeyword();options.fill=fill;instance.getCRUDProcessor().selectList(options)}else{instance.getCRUDProcessor().selectList({uri:instance.URI,key:instance.getObjectKey(),keyword:instance.getObserverInterface().getKeyword(),fill:fill})}}}else{instance.list(options,fill)}};instance.find=function(options,fill){if(instance.getObjectKey()!==null&&instance.getObjectKey()!==undefined){if(instance.getObjectKey().length===0){instance.setObjectKey(null);instance.find(options,fill)}else{instance.select(options,fill)}}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity()}if(typeof options==="object"){options.uri=options.uri!==null&&options.uri!==undefined?options.uri:instance.URI;options.keyword=options.keyword!==null&&options.keyword!==undefined?options.keyword:instance.getObserverInterface().getKeyword();options.fill=fill;instance.getCRUDProcessor().find(options)}else{instance.getCRUDProcessor().find({uri:instance.URI,keyword:instance.getObserverInterface().getKeyword(),size:instance.getObserverInterface().getListSize(),page:options,fill:fill})}}};instance.list=function(options,fill){if(instance.getObjectKey()!==null&&instance.getObjectKey()!==undefined){if(instance.getObjectKey().length===0){instance.setObjectKey(null);instance.list(options,fill)}else{instance.selectList(options,fill)}}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity()}if(typeof options==="object"){options.uri=options.uri!==null&&options.uri!==undefined?options.uri:instance.URI;options.keyword=options.keyword!==null&&options.keyword!==undefined?options.keyword:instance.getObserverInterface().getKeyword();options.fill=fill;instance.getCRUDProcessor().list(options)}else{instance.getCRUDProcessor().list({uri:instance.URI,keyword:instance.getObserverInterface().getKeyword(),fill:fill})}}};instance.findRequest=function(options){var newOptions=Object.create(options);if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity()}newOptions.contentType=instance.extendContentMethods(newOptions);newOptions.scopeObject=options.scopeObject;newOptions.uri=newOptions.uri!==null&&newOptions.uri!==undefined?newOptions.uri:instance.newOptions().uri;newOptions.keyword=newOptions.keyword!==null&&newOptions.keyword!==undefined?newOptions.keyword:instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined?instance.getObserverInterface().getKeyword():null;newOptions.size=newOptions.size!==null&&newOptions.size!==undefined?newOptions.size:instance.getObserverInterface().getListSize();instance.getCRUDProcessor().find(newOptions)};instance.listRequest=function(options){var newOptions=Object.create(options);if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity()}newOptions.contentType=instance.extendContentMethods(newOptions);newOptions.scopeObject=options.scopeObject;newOptions.uri=newOptions.uri!==null&&newOptions.uri!==undefined?newOptions.uri:instance.newOptions().uri;newOptions.keyword=newOptions.keyword!==null&&newOptions.keyword!==undefined?newOptions.keyword:instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined?instance.getObserverInterface().getKeyword():null;instance.getCRUDProcessor().list(newOptions)};instance.load=function(options,fill){instance.LoadFields(options);instance.find(1,fill)};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().clearRecords=function(){instance.clearRecords()};instance.getObserverInterface().select=function(page){instance.select(page)};instance.getObserverInterface().selectList=function(page){instance.selectList(page)};instance.getObserverInterface().find=function(page,fill){instance.find(page,fill)};instance.getObserverInterface().list=function(page){instance.list(page)};instance.getObserverInterface().findRequest=function(options){instance.findRequest(options)};instance.getObserverInterface().listRequest=function(options){instance.listRequest(options)};instance.getObserverInterface().load=function(options,fill){instance.load(options,fill)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().clearRecords=function(){instance.clearRecords()};instance.getObserverObject().select=function(page){instance.select(page)};instance.getObserverObject().selectList=function(page){instance.selectList(page)};instance.getObserverObject().find=function(page,fill){instance.find(page,fill)};instance.getObserverObject().list=function(page){instance.list(page)};instance.getObserverObject().findRequest=function(options){instance.findRequest(options)};instance.getObserverObject().listRequest=function(options){instance.listRequest(options)};instance.getObserverObject().load=function(options,fill){instance.load(options,fill)}}instance.presentErrors=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayClearActivity();instance.getObserverInterface().setErrors(instance.getErrors())}}};instance.presentRecord=function(event,eventData){eventData.event="record.before.rendering.view.CRUD.WindnTrees";instance.notify(eventData);if(eventData!==null&&eventData!==undefined){if(eventData.code!==null&&eventData.code!==undefined){if(eventData.code.length>0){instance.setAuthorizationCode(eventData.code);if(eventData.data.codeField!==null&&eventData.data.codeField!==undefined){$("[name="+eventData.data.codeField+"]").val(eventData.code)}else{$("[name=__RequestVerificationToken]").val(eventData.code)}}}}if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.observerType="callback";eventData.data.callback(eventData.result)}else{if(eventData.request==="get"||eventData.request==="post"){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){eventData.observerType=instance.getObserverInterface().getType();instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().displayFormSuccessActivity();instance.getObserverInterface().setRecord(eventData.result);if(instance.getObserverInterface().getType()==="CRUDObserver"||instance.getObserverInterface().getType()==="CRUDKNObserver"){if(eventData.result!==null&&eventData.result!==undefined){instance.getObserverInterface().setFormObject(eventData.result)}else{instance.getObserverInterface().displayFormNoRecordActivity()}}}return}if(eventData.data!==null&&eventData.data!==undefined){if(eventData.data.detailEntity!==null&&eventData.data.detailEntity!==undefined){eventData.entityType="detailEntity";var detailEntity=eventData.data.detailEntity;detailEntity.setRecord(eventData.result);if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(eventData.data.messageType!==null&&eventData.data.messageType!==undefined){if(eventData.data.messageType==="brief"){instance.getObserverInterface().displaySaved()}else{instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().displayFormSuccessActivity()}}else{instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().displayFormSuccessActivity()}eventData.observerType=instance.getObserverInterface().getType();instance.getObserverInterface().updateView({requestData:eventData.data,resetForm:eventData.data.resetForm,refObject:eventData.data.refObject,refActions:eventData.data.refActions,refInputs:eventData.data.refInputs,action:eventData.request,resultRecord:detailEntity,placement:options.placement!==null&&options.placement!==undefined?options.placement:"first"})}return}}if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(eventData.data.messageType!==null&&eventData.data.messageType!==undefined){if(eventData.data.messageType==="brief"){instance.getObserverInterface().displaySaved()}else{instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().displayFormSuccessActivity()}}else{instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().displayFormSuccessActivity()}eventData.observerType=instance.getObserverInterface().getType();var record=eventData.result;instance.getObserverInterface().updateView({requestData:eventData.data,resetForm:eventData.data.resetForm,refObject:eventData.data.refObject,refActions:eventData.data.refActions,refInputs:eventData.data.refInputs,action:eventData.request,resultRecord:record,placement:options.placement!==null&&options.placement!==undefined?options.placement:"first"})}}eventData.event="record.after.rendering.view.CRUD.WindnTrees";instance.notify(eventData)};instance.presentRecords=function(event,eventData){eventData.event="records.before.rendering.view.CRUD.WindnTrees";instance.notify(eventData);if(eventData!==null&&eventData!==undefined){if(eventData.code!==null&&eventData.code!==undefined){if(eventData.code.length>0){instance.setAuthorizationCode(eventData.code);if(eventData.data.codeField!==null&&eventData.data.codeField!==undefined){$("[name="+eventData.data.codeField+"]").val(eventData.code)}else{$("[name=__RequestVerificationToken]").val(eventData.code)}}}}var listNumber=1;var listSize=10;if(eventData.data.page!==null&&eventData.data.page!==undefined){listNumber=eventData.data.page}else if(eventData.data.query!==null&&eventData.data.query!==undefined){if(eventData.data.query.page!==null&&eventData.data.query.page!==undefined){listNumber=eventData.data.query.page}if(eventData.data.query.size!==null&&eventData.data.query.size!==undefined){listSize=eventData.data.query.size}}if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.observerType="callback";eventData.data.callback(eventData.result)}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){eventData.observerType=instance.getObserverInterface().getType();var records=eventData.result;if(instance.getObserverInterface().getType()==="ListObserver"||instance.getObserverInterface().getType()==="ListKNObserver"){instance.getObserverInterface().fillList({objects:records})}else{if(eventData.data.messageType!==null&&eventData.data.messageType!==undefined){if(eventData.data.messageType==="brief"){instance.getObserverInterface().displaySaved()}else{instance.getObserverInterface().displayProcessing(false);instance.getObserverInterface().displaySuccessActivity()}}else{instance.getObserverInterface().displayProcessing(false);instance.getObserverInterface().displaySuccessActivity()}if(eventData.data.fill!==null&&eventData.data.fill!==undefined){if(eventData.data.fill==="continue"){var currentList=instance.getObserverInterface().getCurrentList();var existingRecords=instance.getObserverInterface().getRecords();var newRecords=eventData.result;if(eventData.data.page<=currentList){var listSize=instance.getObserverInterface().getListSize();var listCount=instance.getObserverInterface().getRecords().length;var startIndex=listSize*(eventData.data.page-1);startIndex=startIndex<0?0:startIndex;var deleteCount=listCount-startIndex;deleteCount=deleteCount<0?0:deleteCount;existingRecords.splice(startIndex,deleteCount)}for(var i=0;i<newRecords.length;i++){existingRecords.push(newRecords[i])}instance.getObserverInterface().fillListRecordsView({page:listNumber,responseData:instance.getCRUDProcessor().responseData(),records:existingRecords,fill:"continue",messageType:eventData.data.messageType})}else{instance.getObserverInterface().fillListRecordsView({page:listNumber,responseData:instance.getCRUDProcessor().responseData(),records:records,messageType:eventData.data.messageType})}}else{instance.getObserverInterface().fillListRecordsView({page:listNumber,responseData:instance.getCRUDProcessor().responseData(),records:records,messageType:eventData.data.messageType})}}}}eventData.event="records.after.rendering.view.CRUD.WindnTrees";instance.notify(eventData);$(window).trigger("view-direction-change")};instance.presentFailRequest=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(eventData.data.messageType!==null&&eventData.data.messageType!==undefined){if(eventData.data.messageType==="brief"){instance.getObserverInterface().displayFailed()}else{instance.getObserverInterface().displayFailureActivity()}}else{instance.getObserverInterface().displayFailureActivity()}}}};instance.subscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).on("records.processor.CRUD.WindnTrees",eventsInstance.presentRecords);$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)};instance.unSubscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).off("records.processor.CRUD.WindnTrees",eventsInstance.presentRecords);$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)};if(options.events!==null&&options.events!==undefined){if(options.events){instance.subscribeEvents()}}else{instance.subscribeEvents()}if(options.contextpath!==null&&options.contextpath!==undefined){if(options.contextpath==="load"){instance.loadContextPath()}}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function AVView(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var extOptions=Object.create(options);extOptions.instance=instance;extOptions.events=false;instance=ImageView(extOptions);instance.VideoSrc=options.videosrc;instance.CrossOrigin=options.crossorigin;instance.Poster=options.poster;instance.Preload=options.preload;instance.Autoplay=options.autoplay;instance.MediaGroup=options.mediagroup;instance.Loop=options.loop;instance.Muted=options.muted;instance.Controls=options.controls;instance.VideoWidth=options.videowidth;instance.VideoHeight=options.videoheight;instance.getType=function(){return"AVView"};instance.getVideoSrc=function(){return instance.VideoSrc};instance.setVideoSrc=function(value){instance.VideoSrc=value};instance.getCrossOrigin=function(){return instance.CrossOrigin};instance.setCrossOrigin=function(value){instance.CrossOrigin=value};instance.getPoster=function(){return instance.Poster};instance.setPoster=function(value){instance.Poster=value};instance.getPreload=function(){return instance.Preload};instance.setPreload=function(value){instance.Preload=value};instance.getAutoplay=function(){return instance.Autoplay};instance.setAutoplay=function(value){instance.Autoplay=value};instance.getMediaGroup=function(){return instance.MediaGroup};instance.setMediaGroup=function(value){instance.MediaGroup=value};instance.getLoop=function(){return instance.Loop};instance.setLoop=function(value){instance.Loop=value};instance.getMuted=function(){return instance.Muted};instance.setMuted=function(value){instance.Muted=value};instance.getControls=function(){return instance.Controls};instance.setControls=function(value){instance.Controls=value};instance.getVideoWidth=function(){return instance.VideoWidth};instance.setVideoWidth=function(value){instance.VideoWidth=value};instance.getVideoHeight=function(){return instance.VideoHeight};instance.setVideoHeight=function(value){instance.VideoHeight=value};instance.presentView=function(options){var htmlFormat=instance.HTML;if(options!==null&&options!==undefined){if(options.html!==null&&options.html!==undefined){htmlFormat=options.html}else{if(options.link!==null&&options.link!==undefined){if(options.link){htmlFormat="<a href='urlValue' title='urlTitleValue'><img alt='imageTitleValue' class='cssValue' src='imagePathValue' /></a><p>imageNameValue</p><p><video src='videoSrcValue' autoplay controls></video></p>"}}}}htmlFormat=htmlFormat.replace(/cssValue/gi,Util().extractValue(instance.CSS,Util().extractValue(instance.newOptions().css,"")));htmlFormat=htmlFormat.replace(/urlValue/gi,Util().extractValue(instance.URL,Util().extractValue(instance.newOptions().url,"")));htmlFormat=htmlFormat.replace(/urlTitleValue/gi,Util().extractValue(instance.URLTitle,Util().extractValue(instance.newOptions().urltitle,"")));htmlFormat=htmlFormat.replace(/subjectValue/gi,Util().extractValue(instance.Subject,Util().extractValue(instance.newOptions().subject,"")));htmlFormat=htmlFormat.replace(/descriptionValue/gi,Util().extractValue(instance.Description,Util().extractValue(instance.newOptions().description,"")));htmlFormat=htmlFormat.replace(/imageNameValue/gi,Util().extractValue(instance.ImageName,Util().extractValue(instance.newOptions().imagename,"")));htmlFormat=htmlFormat.replace(/imagePathValue/gi,Util().extractValue(instance.ImagePath,Util().extractValue(instance.newOptions().imagepath,"")));htmlFormat=htmlFormat.replace(/imageTitleValue/gi,Util().extractValue(instance.ImageTitle,Util().extractValue(instance.newOptions().imagetitle,"")));htmlFormat=htmlFormat.replace(/imageWidthValue/gi,instance.ImageWidth!==null&&instance.ImageWidth!==undefined?instance.ImageWidth>0?"width='"+instance.ImageWidth+"'":"":Util().extractValue(instance.newOptions().imagewidth,""));htmlFormat=htmlFormat.replace(/imageHeightValue/gi,instance.ImageHeight!==null&&instance.ImageHeight!==undefined?instance.ImageHeight>0?"height='"+instance.ImageHeight+"'":"":Util().extractValue(instance.newOptions().imageheight,""));htmlFormat=htmlFormat.replace(/videoSrcValue/gi,instance.VideoSrc!==null&&instance.VideoSrc!==undefined?"src='"+instance.VideoSrc+"'":Util().extractValue(instance.newOptions().videosrc,""));htmlFormat=htmlFormat.replace(/crossOriginValue/gi,instance.CrossOrigin!==null&&instance.CrossOrigin!==undefined?"crossorigin='"+instance.CrossOrigin+"'":Util().extractValue(instance.newOptions().crossorigin,""));htmlFormat=htmlFormat.replace(/posterValue/gi,instance.Poster!==null&&instance.Poster!==undefined?"poster='"+instance.Poster+"'":Util().extractValue(instance.newOptions().poster,""));htmlFormat=htmlFormat.replace(/preloadValue/gi,Util().extractValue(instance.Preload,Util().extractValue(instance.newOptions().preload,"")));htmlFormat=htmlFormat.replace(/autoplayValue/gi,Util().extractValue(instance.Autoplay,Util().extractValue(instance.newOptions().autoplay,"")));htmlFormat=htmlFormat.replace(/mediaGroupValue/gi,instance.MediaGroup!==null&&instance.MediaGroup!==undefined?"mediagroup='"+instance.MediaGroup+"'":Util().extractValue(instance.newOptions().mediagroup,""));htmlFormat=htmlFormat.replace(/loopValue/gi,Util().extractValue(instance.Loop,Util().extractValue(instance.newOptions().loop,"")));htmlFormat=htmlFormat.replace(/mutedValue/gi,Util().extractValue(instance.Muted,Util().extractValue(instance.newOptions().muted,"")));htmlFormat=htmlFormat.replace(/controlsValue/gi,Util().extractValue(instance.Controls,Util().extractValue(instance.newOptions().controls,"")));htmlFormat=htmlFormat.replace(/videoWidthValue/gi,instance.VideoWidth!==null&&instance.VideoWidth!==undefined?instance.VideoWidth>0?"width='"+instance.VideoWidth+"'":"":Util().extractValue(instance.newOptions().videowidth,""));htmlFormat=htmlFormat.replace(/videoHeightValue/gi,instance.VideoHeight!==null&&instance.VideoHeight!==undefined?instance.VideoHeight>0?"height='"+instance.VideoHeight+"'":"":Util().extractValue(instance.newOptions().videoheight,""));return htmlFormat};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().getVideoSrc=function(){return instance.getVideoSrc()};instance.getObserverInterface().setVideoSrc=function(value){instance.setVideoSrc(value)};instance.getObserverInterface().getCrossOrigin=function(){return instance.getCrossOrigin()};instance.getObserverInterface().setCrossOrigin=function(value){instance.setCrossOrigin(value)};instance.getObserverInterface().getPoster=function(){return instance.getPoster()};instance.getObserverInterface().setPoster=function(value){instance.setPoster(value)};instance.getObserverInterface().getPreload=function(){return instance.getPreload()};instance.getObserverInterface().setPreload=function(value){instance.setPreload(value)};instance.getObserverInterface().getAutoplay=function(){return instance.getAutoplay()};instance.getObserverInterface().setAutoplay=function(value){instance.setAutoplay(value)};instance.getObserverInterface().getMediaGroup=function(){return instance.getMediaGroup()};instance.getObserverInterface().setMediaGroup=function(value){instance.setMediaGroup(value)};instance.getObserverInterface().getLoop=function(){return instance.getLoop()};instance.getObserverInterface().setLoop=function(value){instance.setLoop(value)};instance.getObserverInterface().getMuted=function(){return instance.getMuted()};instance.getObserverInterface().setMuted=function(value){instance.setMuted(value)};instance.getObserverInterface().getControls=function(){return instance.getControls()};instance.getObserverInterface().setControls=function(value){instance.setControls(value)};instance.getObserverInterface().getWidth=function(){return instance.getWidth()};instance.getObserverInterface().setWidth=function(value){instance.setWidth(value)};instance.getObserverInterface().getHeight=function(){return instance.getHeight()};instance.getObserverInterface().setHeight=function(value){instance.setHeight(value)};instance.getObserverInterface().presentView=function(options){instance.presentView(options)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().getVideoSrc=function(){return instance.getVideoSrc()};instance.getObserverObject().setVideoSrc=function(value){instance.setVideoSrc(value)};instance.getObserverObject().getCrossOrigin=function(){return instance.getCrossOrigin()};instance.getObserverObject().setCrossOrigin=function(value){instance.setCrossOrigin(value)};instance.getObserverObject().getPoster=function(){return instance.getPoster()};instance.getObserverObject().setPoster=function(value){instance.setPoster(value)};instance.getObserverObject().getPreload=function(){return instance.getPreload()};instance.getObserverObject().setPreload=function(value){instance.setPreload(value)};instance.getObserverObject().getAutoplay=function(){return instance.getAutoplay()};instance.getObserverObject().setAutoplay=function(value){instance.setAutoplay(value)};instance.getObserverObject().getMediaGroup=function(){return instance.getMediaGroup()};instance.getObserverObject().setMediaGroup=function(value){instance.setMediaGroup(value)};instance.getObserverObject().getLoop=function(){return instance.getLoop()};instance.getObserverObject().setLoop=function(value){instance.setLoop(value)};instance.getObserverObject().getMuted=function(){return instance.getMuted()};instance.getObserverObject().setMuted=function(value){instance.setMuted(value)};instance.getObserverObject().getControls=function(){return instance.getControls()};instance.getObserverObject().setControls=function(value){instance.setControls(value)};instance.getObserverObject().getWidth=function(){return instance.getWidth()};instance.getObserverObject().setWidth=function(value){instance.setWidth(value)};instance.getObserverObject().getHeight=function(){return instance.getHeight()};instance.getObserverObject().setHeight=function(value){instance.setHeight(value)};instance.getObserverObject().presentView=function(options){instance.presentView(options)}}instance.presentErrors=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined||instance.contenNode!==null&&instance.contenNode!==undefined){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++){htmlErrorOutput+=instance.getErrors()[i]+". "}}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayClearActivity();instance.getObserverInterface().setErrors(instance.getErrors())}}}};instance.presentRecord=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{instance.Subject=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().subjectf,"subject")],instance.newOptions().subject);instance.Description=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().descriptionf,"description")],instance.newOptions().description);instance.URL=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urlf,"url")],instance.newOptions().url);instance.URLTitle=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urltitlef,"urltitle")],instance.newOptions().urltitle);instance.HTML=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().htmlf,"html")],instance.newOptions().html);instance.CSS=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().cssf,"css")],instance.newOptions().css);instance.ImageName=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagenamef,"imageName")],instance.newOptions().imagename);instance.ImageTitle=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagetitlef,"imageTitle")],instance.newOptions().imagetitle);instance.ImagePath=(instance.newOptions().contextpath!==null&&instance.newOptions().contextpath!==undefined?instance.newOptions().contextpath:"")+Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagepathf,"imagePath")],instance.newOptions().imagepath);instance.ImageWidth=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagewidthf,"imageWidth")],instance.newOptions().imagewidth);instance.ImageHeight=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imageheightf,"imageHeight")],instance.newOptions().imageheight);instance.VideoSrc=(instance.newOptions().contextpath!==null&&instance.newOptions().contextpath!==undefined?instance.newOptions().contextpath:"")+Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().videosrcf,"videoSrc")],instance.newOptions().videosrc);instance.CrossOrigin=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().crossoriginf,"crossOrigin")],instance.newOptions().crossorigin);instance.Poster=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().posterf,"poster")],instance.newOptions().poster);instance.Preload=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().preloadf,"preload")],instance.newOptions().preload);instance.Autoplay=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().autoplayf,"autoplay")],instance.newOptions().autoplay);instance.MediaGroup=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().mediagroupf,"mediaGroup")],instance.newOptions().mediagroup);instance.Loop=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().loopf,"loop")],instance.newOptions().loop);instance.Muted=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().mutedf,"muted")],instance.newOptions().muted);instance.Controls=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().controlsf,"controls")],instance.newOptions().controls);instance.VideoWidth=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().videowidthf,"videoWidth")],instance.newOptions().videowidth);instance.VideoHeight=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().videoheightf,"videoHeight")],instance.newOptions().videoheight);if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHTML=instance.presentView()}else{if(instance.getObserverInterface().getType()==="ListObserver"||instance.getObserverInterface().getType()==="ListKNObserver"){instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().updateItem({object:instance})}else if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(instance.getObserverInterface().getType()==="ObjectObserver"||instance.getObserverInterface().getType()==="ObjectKNObserver"){instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().setObject({content:instance.presentView()})}else{instance.getObserverInterface().setRecord({content:instance.presentView()})}}}}};instance.presentFailRequest=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayFailureActivity()}}}};instance.subscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest);if(instance.getCRUDProcessor().getKey()!==null&&instance.getCRUDProcessor().getKey()!==undefined){$("#"+instance.getCRUDProcessor().getKey()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$("#"+instance.getCRUDProcessor().getKey()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$("#"+instance.getCRUDProcessor().getKey()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)}};instance.unSubscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest);if(instance.getCRUDProcessor().getKey()!==null&&instance.getCRUDProcessor().getKey()!==undefined){$("#"+instance.getCRUDProcessor().getKey()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$("#"+instance.getCRUDProcessor().getKey()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$("#"+instance.getCRUDProcessor().getKey()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)}};if(options.events!==null&&options.events!==undefined){if(options.events){instance.subscribeEvents()}}else{instance.subscribeEvents()}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function ContentList(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var extOptions=Object.create(options);extOptions.instance=instance;extOptions.events=false;instance=ObjectView(extOptions);instance.getType=function(){return"ContentList"};instance.clearRecords=function(){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(instance.getObserverInterface().getType()==="ListObserver"||instance.getObserverInterface().getType()==="ListKNObserver"){instance.getObserverInterface().clearList();instance.getObserverInterface().displayProcessing(false)}}};instance.find=function(options){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity();instance.getCRUDProcessor().find({uri:instance.URI,contentType:options.contentType,keyword:options.keyword!==null&&options.keyword!==undefined?options.keyword:instance.getObserverInterface().getKeyword(),size:options.size!==null&&options.size!==undefined?options.size:instance.getObserverInterface().getListSize()!==null&&instance.getObserverInterface().getListSize()!==undefined?instance.getObserverInterface().getListSize():10,page:options.page,fill:options.fill})}else{instance.getCRUDProcessor().find({uri:instance.URI,contentType:options.contentType,keyword:options.keyword,size:options.size,page:options.page,fill:options.fill})}};instance.getRecordComponent=function(record){var component;var recordOptions=Object.create(instance.newOptions());recordOptions.objectkey=record.getKey();if(instance.newOptions().subjectf!==null&&instance.newOptions().subjectf!==undefined){recordOptions.subject=Util().extractFieldValue(record[instance.newOptions().subjectf],"")}if(instance.newOptions().descriptionf!==null&&instance.newOptions().descriptionf!==undefined){recordOptions.description=Util().extractFieldValue(record[instance.newOptions().descriptionf],"")}if(instance.newOptions().urlf!==null&&instance.newOptions().urlf!==undefined){recordOptions.url=Util().extractFieldValue(record[instance.newOptions().urlf],"")}if(instance.newOptions().urltitlef!==null&&instance.newOptions().urltitlef!==undefined){recordOptions.urltitle=Util().extractFieldValue(record[instance.newOptions().urltitlef],"")}if(instance.newOptions().textviewhtmlf!==null&&instance.newOptions().textviewhtmlf!==undefined){recordOptions.html=Util().extractFieldValue(record[instance.newOptions().textviewhtmlf],"")}if(instance.newOptions().textviewcssf!==null&&instance.newOptions().textviewcssf!==undefined){recordOptions.css=Util().extractFieldValue(record[instance.newOptions().textviewcssf],"")}if(instance.newOptions().imagenamef!==null&&instance.newOptions().imagenamef!==undefined){recordOptions.imagename=Util().extractFieldValue(record[instance.newOptions().imagenamef],"")}if(instance.newOptions().imagepathf!==null&&instance.newOptions().imagepathf!==undefined){recordOptions.imagepath=Util().extractFieldValue(record[instance.newOptions().imagepathf],"")}if(instance.newOptions().imagetitlef!==null&&instance.newOptions().imagetitlef!==undefined){recordOptions.imagetitle=Util().extractFieldValue(record[instance.newOptions().imagetitlef],"")}if(instance.newOptions().imagewidthf!==null&&instance.newOptions().imagewidthf!==undefined){recordOptions.imagewidth=Util().extractFieldValue(record[instance.newOptions().imagewidthf],"")}if(instance.newOptions().imageheightf!==null&&instance.newOptions().imageheightf!==undefined){recordOptions.imageheight=Util().extractFieldValue(record[instance.newOptions().imageheightf],"")}if(instance.newOptions().imageviewhtmlf!==null&&instance.newOptions().imageviewhtmlf!==undefined){recordOptions.html=Util().extractFieldValue(record[instance.newOptions().imageviewhtmlf],"")}if(instance.newOptions().imageviewcssf!==null&&instance.newOptions().imageviewcssf!==undefined){recordOptions.css=Util().extractFieldValue(record[instance.newOptions().imageviewcssf],"")}if(instance.newOptions().videosrcf!==null&&instance.newOptions().videosrcf!==undefined){recordOptions.videosrc=Util().extractFieldValue(record[instance.newOptions().videosrcf],"")}if(instance.newOptions().crossoriginf!==null&&instance.newOptions().crossoriginf!==undefined){recordOptions.crossorigin=Util().extractFieldValue(record[instance.newOptions().crossoriginf],"")}if(instance.newOptions().posterf!==null&&instance.newOptions().posterf!==undefined){recordOptions.poster=Util().extractFieldValue(record[instance.newOptions().posterf],"")}if(instance.newOptions().preloadf!==null&&instance.newOptions().preloadf!==undefined){recordOptions.preload=Util().extractFieldValue(record[instance.newOptions().preloadf],"")}if(instance.newOptions().autoplayf!==null&&instance.newOptions().autoplayf!==undefined){recordOptions.autoplay=Util().extractFieldValue(record[instance.newOptions().autoplayf],"")}if(instance.newOptions().mediagroupf!==null&&instance.newOptions().mediagroupf!==undefined){recordOptions.mediagroup=Util().extractFieldValue(record[instance.newOptions().mediagroupf],"")}if(instance.newOptions().loopf!==null&&instance.newOptions().loopf!==undefined){recordOptions.loop=Util().extractFieldValue(record[instance.newOptions().loopf],"")}if(instance.newOptions().mutedf!==null&&instance.newOptions().mutedf!==undefined){recordOptions.muted=Util().extractFieldValue(record[instance.newOptions().mutedf],"")}if(instance.newOptions().controlsf!==null&&instance.newOptions().controlsf!==undefined){recordOptions.controls=Util().extractFieldValue(record[instance.newOptions().controlsf],instance.newOptions().controls)}else{if(instance.newOptions().controls!==null&&instance.newOptions().controls!==undefined){recordOptions.controls=instance.newOptions().controls}}if(instance.newOptions().videowidthf!==null&&instance.newOptions().videowidthf!==undefined){recordOptions.videowidth=Util().extractFieldValue(record[instance.newOptions().videowidthf],"")}if(instance.newOptions().videoheightf!==null&&instance.newOptions().videoheightf!==undefined){recordOptions.videoheight=Util().extractFieldValue(record[instance.newOptions().videoheightf],"")}if(instance.newOptions().avviewhtmlf!==null&&instance.newOptions().avviewhtmlf!==undefined){recordOptions.html=Util().extractFieldValue(record[instance.newOptions().avviewhtmlf],"")}if(instance.newOptions().avviewcssf!==null&&instance.newOptions().avviewcssf!==undefined){recordOptions.css=Util().extractFieldValue(record[instance.newOptions().avviewcssf],"")}if(recordOptions.subject.length>0){component=new TextView(recordOptions)}if(recordOptions.imagepath.length>0){recordOptions.imagepath=instance.newOptions().contextpath!==null&&instance.newOptions().contextpath!==undefined?instance.newOptions().contextpath+recordOptions.imagepath:recordOptions.imagepath;component=new ImageView(recordOptions)}if(recordOptions.videosrc.length>0){recordOptions.videosrc=instance.newOptions().contextpath!==null&&instance.newOptions().contextpath!==undefined?instance.newOptions().contextpath+recordOptions.videosrc:recordOptions.videosrc;component=new AVView(recordOptions)}return component};instance.presentView=function(options){var htmlOutput="";var records=[];if(options!==null&&options!==undefined){if(options.records!==null&&options.records!==undefined){records=options.records}else{records=instance.getCRUDProcessor().getRecords()}}else{records=instance.getCRUDProcessor().getRecords()}for(var i=0;i<records.length;i++){htmlOutput+=instance.getRecordComponent(records[i]).presentView()}return htmlOutput};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().clearRecords=function(){instance.clearRecords()};instance.getObserverInterface().find=function(options){instance.find(options)};instance.getObserverInterface().presentView=function(options){instance.presentView(options)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().clearRecords=function(){instance.clearRecords()};instance.getObserverObject().find=function(options){instance.find(options)};instance.getObserverObject().presentView=function(options){instance.presentView(options)}}instance.presentErrors=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined||instance.contenNode!==null&&instance.contenNode!==undefined){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++){htmlErrorOutput+=instance.getErrors()[i]+". "}}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayClearActivity();instance.getObserverInterface().setErrors(instance.getErrors())}}}};instance.presentRecords=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHTML=instance.presentView()}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){var records;if(instance.getObserverInterface().getType()==="ListObserver"||instance.getObserverInterface().getType()==="ListKNObserver"){if(instance.getObserverInterface().getListObject().getContentTypeObjectPrototype()!==null&&instance.getObserverInterface().getListObject().getContentTypeObjectPrototype()!==undefined){records=instance.getContentTypeObjects({simpleObjects:eventData.result,contentPrototype:instance.getObserverInterface().getListObject().getContentTypeObjectPrototype()})}}else{records=instance.getObserverInterface().getContentTypeObject()!==null&&instance.getObserverInterface().getContentTypeObject()!==undefined?instance.getContentTypeObjects({simpleObjects:eventData.result}):eventData.result}instance.getObserverInterface().clearList();for(var i=0;i<records.length;i++){instance.getObserverInterface().newItem({object:instance.getRecordComponent(records[i])})}instance.getObserverInterface().displaySuccessActivity()}}}$(window).trigger("view-direction-change")};instance.presentFailRequest=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayFailureActivity()}}}};instance.subscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).on("records.processor.CRUD.WindnTrees",eventsInstance.presentRecords);$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)};instance.unSubscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).off("records.processor.CRUD.WindnTrees",eventsInstance.presentRecords);$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)};if(options.events!==null&&options.events!==undefined){if(options.events){instance.subscribeEvents()}}else{instance.subscribeEvents()}if(options.contextpath!==null&&options.contextpath!==undefined){if(options.contextpath==="load"){instance.loadContextPath()}}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function FlexHTML(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var extOptions=Object.create(options);extOptions.instance=instance;extOptions.events=false;instance=ObjectView(extOptions);instance.Key=options.key;instance.HTMLFormat=options.htmlformat;instance.FlexHTML=options.flexhtml;instance.getType=function(){return"FlexView"};instance.getContentNode=function(){return instance.ContentNode};instance.presentView=function(options){var flexKey=instance.Key;var viewHTMLFormat=instance.HTMLFormat;var flexHTML=instance.FlexHTML;if(instance.getCRUDProcessor().getRecord()!==null&&instance.getCRUDProcessor().getRecord()!==undefined){flexHTML=instance.getCRUDProcessor().getRecord();viewHTMLFormat=flexHTML.html;flexKey=flexHTML.key}if(flexHTML!==null&&flexHTML!==undefined){if(flexHTML.items!==null&&flexHTML.items!==undefined){for(var i=0;i<flexHTML.items.length;i++){var flexObject=flexHTML.items[i];if(flexObject.items!==null&&flexObject.items!==undefined){var flexObjectKey=flexObject.items[0];var flexObjectHtml=flexObject.items[1];for(var i=2;i<flexObject.items.length;i++){var objectExpValue=new RegExp("a"+i+"_","gi");flexObjectHtml=flexObjectHtml.replace(objectExpValue,Util().extractValue(flexObject.items[i],""))}}var listExpValue=new RegExp("a"+i+"_","gi");var listExpKeyValue=new RegExp("flexkey_","gi");viewHTMLFormat=flexObjectHtml.replace(listExpValue,Util().extractValue(flexObjectHtml,""));viewHTMLFormat=flexObjectHtml.replace(listExpKeyValue,Util().extractValue(flexKey,""))}}}return viewHTMLFormat};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().presentView=function(options){instance.presentView(options)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().presentView=function(options){instance.presentView(options)}}instance.presentErrors=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined||instance.contenNode!==null&&instance.contenNode!==undefined){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++){htmlErrorOutput+=instance.getErrors()[i]+". "}}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayClearActivity();instance.getObserverInterface().setErrors(instance.getErrors())}}}};instance.presentRecord=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHTML=instance.presentView()}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(instance.getObserverInterface().getType()==="ListObserver"||instance.getObserverInterface().getType()==="ListKNObserver"){instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().updateItem({object:instance})}else if(instance.getObserverInterface().getType()==="ObjectObserver"||instance.getObserverInterface().getType()==="ObjectKNObserver"){instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().setObject({content:instance.presentView()})}else{instance.getObserverInterface().setRecord({content:instance.presentView()})}}}}};instance.presentFailRequest=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayFailureActivity()}}}};instance.subscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest);if(instance.getCRUDProcessor().getKey()!==null&&instance.getCRUDProcessor().getKey()!==undefined){$("#"+instance.getCRUDProcessor().getKey()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$("#"+instance.getCRUDProcessor().getKey()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$("#"+instance.getCRUDProcessor().getKey()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)}};instance.unSubscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest);if(instance.getCRUDProcessor().getKey()!==null&&instance.getCRUDProcessor().getKey()!==undefined){$("#"+instance.getCRUDProcessor().getKey()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$("#"+instance.getCRUDProcessor().getKey()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$("#"+instance.getCRUDProcessor().getKey()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)}};if(options.events!==null&&options.events!==undefined){if(options.events){instance.subscribeEvents()}}else{instance.subscribeEvents()}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function FlexView(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var extOptions=Object.create(options);extOptions.instance=instance;extOptions.events=false;instance=ObjectView(extOptions);instance.FlexRecord=options.flexrecord;instance.getType=function(){return"FlexView"};instance.getContentNode=function(){return instance.ContentNode};instance.getFlex=function(key){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity()}key=key!==null&&key!==undefined?key:instance.ObjectKey!==null&&instance.ObjectKey!==undefined?instance.ObjectKey:key;instance.getCRUDProcessor().get({uri:instance.URI,request:"flexget",key:key})};instance.postFlex=function(key){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity()}key=key!==null&&key!==undefined?key:instance.ObjectKey!==null&&instance.ObjectKey!==undefined?instance.ObjectKey:key;instance.getCRUDProcessor().post({uri:instance.URI,request:"flexpost",key:key})};instance.listFlex=function(keyword){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity()}keyword=keyword!==null&&keyword!==undefined?keyword:instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined?instance.getObserverInterface().getKeyword():keyword;instance.getCRUDProcessor().list({uri:instance.URI,method:"GET",request:"flexlist",keyword:keyword})};instance.listFlexPost=function(keyword){if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayProcessingActivity()}keyword=keyword!==null&&keyword!==undefined?keyword:instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined?instance.getObserverInterface().getKeyword():keyword;instance.getCRUDProcessor().list({uri:instance.URI,request:"flexlist",keyword:keyword})};instance.presentView=function(options){var htmlFormat="";var flexObject=instance.FlexRecord;if(instance.getCRUDProcessor().getRecord()!==null&&instance.getCRUDProcessor().getRecord()!==undefined){flexObject=instance.getCRUDProcessor().getRecord()}if(flexObject!==null&&flexObject!==undefined){var flexOptions=Object.create(instance.newOptions());flexOptions.flexobject=flexObject;htmlFormat=Util().getFlexOutput(flexOptions)}return htmlFormat};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().getFlex=function(options){instance.getFlex(options)};instance.getObserverInterface().postFlex=function(options){instance.postFlex(options)};instance.getObserverInterface().listFlex=function(options){instance.listFlex(options)};instance.getObserverInterface().listFlexPost=function(options){instance.listFlexPost(options)};instance.getObserverInterface().presentView=function(options){instance.presentView(options)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().getFlex=function(options){instance.getFlex(options)};instance.getObserverObject().postFlex=function(options){instance.postFlex(options)};instance.getObserverObject().listFlex=function(options){instance.listFlex(options)};instance.getObserverObject().listFlexPost=function(options){instance.listFlexPost(options)};instance.getObserverObject().presentView=function(options){instance.presentView(options)}}instance.presentErrors=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined||instance.contenNode!==null&&instance.contenNode!==undefined){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++){htmlErrorOutput+=instance.getErrors()[i]+". "}}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayClearActivity();instance.getObserverInterface().setErrors(instance.getErrors())}}}};instance.presentRecord=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHTML=instance.presentView()}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(instance.getObserverInterface().getType()==="ListObserver"||instance.getObserverInterface().getType()==="ListKNObserver"){instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().updateItem({object:instance})}else if(instance.getObserverInterface().getType()==="ObjectObserver"||instance.getObserverInterface().getType()==="ObjectKNObserver"){instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().setObject({content:instance.presentView()})}else{instance.getObserverInterface().setRecord({content:instance.presentView()})}}}}};instance.presentFailRequest=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayFailureActivity()}}}};instance.subscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)};instance.unSubscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)};if(options.events!==null&&options.events!==undefined){if(options.events){instance.subscribeEvents()}}else{instance.subscribeEvents()}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function TextView(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var extOptions=Object.create(options);extOptions.instance=instance;extOptions.events=false;instance=ObjectView(extOptions);instance.Subject=options.subject;instance.Description=options.description;instance.URL=options.url;instance.URLTitle=options.urltitle;instance.HTML=options.html;instance.CSS=options.css;instance.getType=function(){return"TextView"};instance.getSubject=function(){return instance.Subject};instance.setSubject=function(value){instance.Subject=value};instance.getDescription=function(){return instance.Description};instance.setDescription=function(value){instance.Description=value};instance.getURL=function(){return instance.URL};instance.setURL=function(value){instance.URL=value};instance.getHTML=function(){return instance.HTML};instance.setHTML=function(value){instance.HTML=value};instance.getCSS=function(){return instance.CSS};instance.setCSS=function(value){instance.CSS=value};instance.getContentNode=function(){return instance.ContentNode};instance.presentView=function(options){var htmlFormat=instance.HTML;if(options!==null&&options!==undefined){if(options.html!==null&&options.html!==undefined){htmlFormat=options.html}else{if(options.link!==null&&options.link!==undefined){if(options.link){htmlFormat="<a class='cssValue' href='urlValue' title='urlTitleValue'>subjectValue</a>"}}}}htmlFormat=htmlFormat.replace(/cssValue/gi,Util().extractValue(instance.CSS,Util().extractValue(instance.newOptions().css,"")));htmlFormat=htmlFormat.replace(/urlValue/gi,Util().extractValue(instance.URL,Util().extractValue(instance.newOptions().url,"")));htmlFormat=htmlFormat.replace(/urlTitleValue/gi,Util().extractValue(instance.URLTitle,Util().extractValue(instance.newOptions().urltitle,"")));htmlFormat=htmlFormat.replace(/subjectValue/gi,Util().extractValue(instance.Subject,Util().extractValue(instance.newOptions().subject,"")));htmlFormat=htmlFormat.replace(/descriptionValue/gi,Util().extractValue(instance.Description,Util().extractValue(instance.newOptions().description,"")));return htmlFormat};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().getSubject=function(){instance.getSubject()};instance.getObserverInterface().setSubject=function(subject){instance.setSubject(subject)};instance.getObserverInterface().getDescription=function(){instance.getDescription()};instance.getObserverInterface().setDescription=function(description){instance.setDescription(description)};instance.getObserverInterface().getURL=function(){instance.getURL()};instance.getObserverInterface().setURL=function(url){instance.setURL(url)};instance.getObserverInterface().getHtml=function(){instance.getHtml()};instance.getObserverInterface().setHtml=function(html){instance.setHtml(html)};instance.getObserverInterface().presentView=function(options){instance.presentView(options)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().getSubject=function(){instance.getSubject()};instance.getObserverObject().setSubject=function(subject){instance.setSubject(subject)};instance.getObserverObject().getDescription=function(){instance.getDescription()};instance.getObserverObject().setDescription=function(description){instance.setDescription(description)};instance.getObserverObject().getURL=function(){instance.getURL()};instance.getObserverObject().setURL=function(url){instance.setURL(url)};instance.getObserverObject().getHtml=function(){instance.getHtml()};instance.getObserverObject().setHtml=function(html){instance.setHtml(html)};instance.getObserverObject().presentView=function(options){instance.presentView(options)}}instance.presentErrors=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined||instance.contenNode!==null&&instance.contenNode!==undefined){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++){htmlErrorOutput+=instance.getErrors()[i]+". "}}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayClearActivity();instance.getObserverInterface().setErrors(instance.getErrors())}}}};instance.presentRecord=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{instance.Subject=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().subjectf,"subject")],instance.newOptions().subject);instance.Description=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().descriptionf,"description")],instance.newOptions().description);instance.URL=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urlf,"url")],instance.newOptions().url);instance.URLTitle=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urltitlef,"urltitle")],instance.newOptions().urltitle);instance.HTML=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().htmlf,"html")],instance.newOptions().html);instance.CSS=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().cssf,"css")],instance.newOptions().css);if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHTML=instance.presentView()}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(instance.getObserverInterface().getType()==="ListObserver"||instance.getObserverInterface().getType()==="ListKNObserver"){instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().updateItem({object:instance})}else if(instance.getObserverInterface().getType()==="ObjectObserver"||instance.getObserverInterface().getType()==="ObjectKNObserver"){instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().setObject({content:instance.presentView()})}else{instance.getObserverInterface().setRecord({content:instance.presentView()})}}}}};instance.presentFailRequest=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayFailureActivity()}}}};instance.subscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest);if(instance.getCRUDProcessor().getKey()!==null&&instance.getCRUDProcessor().getKey()!==undefined){$("#"+instance.getCRUDProcessor().getKey()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$("#"+instance.getCRUDProcessor().getKey()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$("#"+instance.getCRUDProcessor().getKey()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)}};instance.unSubscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest);if(instance.getCRUDProcessor().getKey()!==null&&instance.getCRUDProcessor().getKey()!==undefined){$("#"+instance.getCRUDProcessor().getKey()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$("#"+instance.getCRUDProcessor().getKey()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$("#"+instance.getCRUDProcessor().getKey()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)}};if(options.events!==null&&options.events!==undefined){if(options.events){instance.subscribeEvents()}}else{instance.subscribeEvents()}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}function ImageView(options){var instance=options.instance!==null&&options.instance!==undefined?options.instance:this;var extender=new InstanceExtender;if(options.instance===null||options.instance===undefined){instance=extender.extendNewInstance({instance:instance,options:options})}var extOptions=Object.create(options);extOptions.instance=instance;extOptions.events=false;instance=TextView(extOptions);instance.ImageName=options.imagename;instance.ImagePath=options.imagepath;instance.ImageTitle=options.imagetitle;instance.ImageWidth=options.imagewidth;instance.ImageHeight=options.imageheight;instance.getType=function(){return"ImageView"};instance.getImageName=function(){return instance.ImageName};instance.setImageName=function(value){instance.ImageName=value};instance.getImagePath=function(){return instance.ImagePath};instance.setImagePath=function(value){instance.ImagePath=value};instance.getImageTitle=function(){return instance.ImageTitle};instance.setImageTitle=function(value){instance.ImageTitle=value};instance.getImageWidth=function(){return instance.ImageWidth};instance.setImageWidth=function(value){instance.ImageWidth=value};instance.getImageHeight=function(){return instance.ImageHeight};instance.setImageHeight=function(value){instance.ImageHeight=value};instance.presentView=function(options){var htmlFormat=instance.HTML;if(options!==null&&options!==undefined){if(options.html!==null&&options.html!==undefined){htmlFormat=options.html}else{if(options.link!==null&&options.link!==undefined){if(options.link){htmlFormat="<a href='urlValue' title='urlTitleValue'><img alt='imageTitleValue' class='cssValue' src='imagePathValue' /></a><p>imageNameValue</p>"}}}}htmlFormat=htmlFormat.replace(/cssValue/gi,Util().extractValue(instance.CSS,Util().extractValue(instance.newOptions().css,"")));htmlFormat=htmlFormat.replace(/urlValue/gi,Util().extractValue(instance.URL,Util().extractValue(instance.newOptions().url,"")));htmlFormat=htmlFormat.replace(/urlTitleValue/gi,Util().extractValue(instance.URLTitle,Util().extractValue(instance.newOptions().urltitle,"")));htmlFormat=htmlFormat.replace(/subjectValue/gi,Util().extractValue(instance.Subject,Util().extractValue(instance.newOptions().subject,"")));htmlFormat=htmlFormat.replace(/descriptionValue/gi,Util().extractValue(instance.Description,Util().extractValue(instance.newOptions().description,"")));htmlFormat=htmlFormat.replace(/imageNameValue/gi,Util().extractValue(instance.ImageName,Util().extractValue(instance.newOptions().imagename,"")));htmlFormat=htmlFormat.replace(/imagePathValue/gi,Util().extractValue(instance.ImagePath,Util().extractValue(instance.newOptions().imagepath,"")));htmlFormat=htmlFormat.replace(/imageTitleValue/gi,Util().extractValue(instance.ImageTitle,Util().extractValue(instance.newOptions().imagetitle,"")));htmlFormat=htmlFormat.replace(/imageWidthValue/gi,instance.ImageWidth!==null&&instance.ImageWidth!==undefined?instance.ImageWidth>0?"width='"+instance.ImageWidth+"'":"":Util().extractValue(instance.newOptions().imagewidth,""));htmlFormat=htmlFormat.replace(/imageHeightValue/gi,instance.ImageHeight!==null&&instance.ImageHeight!==undefined?instance.ImageHeight>0?"height='"+instance.ImageHeight+"'":"":Util().extractValue(instance.newOptions().imageheight,""));return htmlFormat};if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().getImageName=function(){return instance.getImageName()};instance.getObserverInterface().setImageName=function(name){instance.setImageName(name)};instance.getObserverInterface().getImagePath=function(){return instance.getImagePath()};instance.getObserverInterface().setImagePath=function(path){instance.setImagePath(path)};instance.getObserverInterface().getImageTitle=function(){return instance.getImageTitle()};instance.getObserverInterface().setImageTitle=function(title){instance.setImageTitle(title)};instance.getObserverInterface().presentView=function(options){instance.presentView(options)}}if(instance.getObserverObject()!==null&&instance.getObserverObject()!==undefined){instance.getObserverObject().getImageName=function(){return instance.getImageName()};instance.getObserverObject().setImageName=function(name){instance.setImageName(name)};instance.getObserverObject().getImagePath=function(){return instance.getImagePath()};instance.getObserverObject().setImagePath=function(path){instance.setImagePath(path)};instance.getObserverObject().getImageTitle=function(){return instance.getImageTitle()};instance.getObserverObject().setImageTitle=function(title){instance.setImageTitle(title)};instance.getObserverObject().presentView=function(options){instance.presentView(options)}}instance.presentErrors=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined||instance.contenNode!==null&&instance.contenNode!==undefined){htmlErrorOutput="";for(var i=0;i<instance.getErrors().length;i++){htmlErrorOutput+=instance.getErrors()[i]+". "}}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayClearActivity();instance.getObserverInterface().setErrors(instance.getErrors())}}}};instance.presentRecord=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{instance.Subject=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().subjectf,"subject")],instance.newOptions().subject);instance.Description=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().descriptionf,"description")],instance.newOptions().description);instance.URL=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urlf,"url")],instance.newOptions().url);instance.URLTitle=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().urltitlef,"urltitle")],instance.newOptions().urltitle);instance.HTML=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().htmlf,"html")],instance.newOptions().html);instance.CSS=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().cssf,"css")],instance.newOptions().css);instance.ImageName=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagenamef,"imageName")],instance.newOptions().imagename);instance.ImageTitle=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagetitlef,"imageTitle")],instance.newOptions().imagetitle);instance.ImagePath=(instance.newOptions().contextpath!==null&&instance.newOptions().contextpath!==undefined?instance.newOptions().contextpath:"")+Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagepathf,"imagePath")],instance.newOptions().imagepath);instance.ImageWidth=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imagewidthf,"imageWidth")],instance.newOptions().imagewidth);instance.ImageHeight=Util().extractFieldValue(eventData.result[Util().extractValue(instance.newOptions().imageheightf,"imageHeight")],instance.newOptions().imageheight);if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHTML=instance.presentView()}else{if(instance.getObserverInterface().getType()==="ListObserver"||instance.getObserverInterface().getType()==="ListKNObserver"){instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().updateItem({object:instance})}else if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){if(instance.getObserverInterface().getType()==="ObjectObserver"||instance.getObserverInterface().getType()==="ObjectKNObserver"){instance.getObserverInterface().displaySuccessActivity();instance.getObserverInterface().setObject({content:instance.presentView()})}else{instance.getObserverInterface().setRecord({content:instance.presentView()})}}}}};instance.presentFailRequest=function(event,eventData){if(eventData.data.callback!==null&&eventData.data.callback!==undefined){eventData.data.callback(eventData.result)}else{var htmlErrorOutput="An error has occured.";if(instance.getMessageRepository()!==null&&instance.getMessageRepository()!==undefined){htmlErrorOutput=instance.getMessageRepository().get("standard.err.text")}if(instance.ErrorNode!==null&&instance.ErrorNode!==undefined){instance.ErrorNode.innerHTML=htmlErrorOutput}else if(instance.ContentNode!==null&&instance.ContentNode!==undefined){instance.ContentNode.innerHtml=htmlErrorOutput}else{if(instance.getObserverInterface()!==null&&instance.getObserverInterface()!==undefined){instance.getObserverInterface().displayFailureActivity()}}}};instance.subscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest);if(instance.getCRUDProcessor().getKey()!==null&&instance.getCRUDProcessor().getKey()!==undefined){$("#"+instance.getCRUDProcessor().getKey()).on("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$("#"+instance.getCRUDProcessor().getKey()).on("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$("#"+instance.getCRUDProcessor().getKey()).on("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)}};instance.unSubscribeEvents=function(eventsInstance){eventsInstance=eventsInstance!==null&&eventsInstance!==undefined?eventsInstance:instance;$(instance.getCRUDProcessor()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$(instance.getCRUDProcessor()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$(instance.getCRUDProcessor()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest);if(instance.getCRUDProcessor().getKey()!==null&&instance.getCRUDProcessor().getKey()!==undefined){$("#"+instance.getCRUDProcessor().getKey()).off("errors.processor.CRUD.WindnTrees",eventsInstance.presentErrors);$("#"+instance.getCRUDProcessor().getKey()).off("record.processor.CRUD.WindnTrees",eventsInstance.presentRecord);$("#"+instance.getCRUDProcessor().getKey()).off("fail.processor.CRUD.WindnTrees",eventsInstance.presentFailRequest)}};if(options.events!==null&&options.events!==undefined){if(options.events){instance.subscribeEvents()}}else{instance.subscribeEvents()}if(options.instance!==null&&options.instance!==undefined){return Object.create(instance)}return instance}